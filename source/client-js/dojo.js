//>>built
(function(e,i){var k,l,c=function(){},b=function(a){for(var h in a)return 0;return 1},g={}.toString,f=function(a){return"[object Function]"==g.call(a)},j=function(a){return"[object String]"==g.call(a)},a=function(a){return"[object Array]"==g.call(a)},d=function(a,h){if(a)for(var d=0;d<a.length;)h(a[d++])},h=function(a,h){for(var d in h)a[d]=h[d];return a},p=function(a,d){return h(Error(a),{src:"dojoLoader",info:d})},o=1,n=function(){return"_"+o++},m=function(a,h,d){return wa(a,h,d,0,m)},q=this,r=
q.document,u=r&&r.createElement("DiV"),t=m.has=function(a){return f(v[a])?v[a]=v[a](q,r,u):v[a]},v=t.cache=i.hasCache;t.add=function(a,h,d,f){(void 0===v[a]||f)&&(v[a]=h);return d&&t(a)};for(var s in e.has)t.add(s,e.has[s],0,1);m.async=1;var z=new Function("return eval(arguments[0]);");m.eval=function(a,h){return z(a+"\r\n////@ sourceURL="+h)};var y={},I=m.signal=function(h,f){var b=y[h];d(b&&b.slice(0),function(h){h.apply(null,a(f)?f:[f])})},J=m.on=function(a,h){var d=y[a]||(y[a]=[]);d.push(h);return{remove:function(){for(var a=
0;a<d.length;a++)if(d[a]===h){d.splice(a,1);break}}}},N=[],E={},S=[],Q={},B=m.map={},A=[],w={},x="",K={},H={},C={},F=function(a){var h,d,f,b;for(h in H)d=H[h],(f=h.match(/^url\:(.+)/))?K["url:"+xa(f[1],a)]=d:"*now"==h?b=d:"*noref"!=h&&(f=aa(h,a),K[f.mid]=K["url:"+f.url]=d);b&&b(ja(a));H={}},O=function(a){return a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(a){return"\\"+a})},D=function(a,h){h.splice(0,h.length);for(var d in a)h.push([d,a[d],RegExp("^"+O(d)+"(/|$)"),d.length]);h.sort(function(a,
h){return h[3]-a[3]});return h},L=function(a){var d=a.name;d||(d=a,a={name:d});a=h({main:"main"},a);a.location=a.location?a.location:d;if(a.packageMap)B[d]=a.packageMap;if(!a.main.indexOf("./"))a.main=a.main.substring(2);Q[d]=a},T=[],G=function(a,f,b){for(var c in a){if("waitSeconds"==c)m.waitms=1E3*(a[c]||0);"cacheBust"==c&&(x=a[c]?j(a[c])?a[c]:(new Date).getTime()+"":"");if("baseUrl"==c||"combo"==c)m[c]=a[c];a[c]!==v&&(m.rawConfig[c]=a[c],"has"!=c&&t.add("config-"+c,a[c],0,f))}if(!m.baseUrl)m.baseUrl=
"./";/\/$/.test(m.baseUrl)||(m.baseUrl+="/");for(c in a.has)t.add(c,a.has[c],0,f);d(a.packages,L);for(l in a.packagePaths)d(a.packagePaths[l],function(a){var h=l+"/"+a;j(a)&&(a={name:a});a.location=h;L(a)});D(h(B,a.map),A);d(A,function(a){a[1]=D(a[1],[]);if("*"==a[0])A.star=a});D(h(E,a.paths),S);d(a.aliases,function(a){j(a[0])&&(a[0]=RegExp("^"+O(a[0])+"$"));N.push(a)});if(f)T.push({config:a.config});else for(c in a.config)f=W(c,b),f.config=h(f.config||{},a.config[c]);if(a.cache)F(),H=a.cache,a.cache["*noref"]&&
F();I("config",[a,m.rawConfig])};t("dojo-cdn");var M=r.getElementsByTagName("script");k=0;for(var X,P,Y,U;k<M.length;)if(X=M[k++],(Y=X.getAttribute("src"))&&(U=Y.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))){P=U[3]||"";i.baseUrl=i.baseUrl||P;(Y=X.getAttribute("data-dojo-config")||X.getAttribute("djConfig"))&&(C=m.eval("({ "+Y+" })","data-dojo-config"));break}m.rawConfig={};G(i,1);if(t("dojo-cdn"))(Q.dojo.location=P)&&(P+="/"),Q.dijit.location=P+"../dijit/",Q.dojox.location=P+"../dojox/";G(e,1);G(C,1);var ba=
function(a){ka(function(){d(a.deps,ya)})},wa=function(d,f,b,g,e){var l;if(j(d)){if((l=W(d,g,!0))&&l.executed)return l.result;throw p("undefinedModule",d);}a(d)||(G(d,0,g),d=f,f=b);if(a(d))if(d.length){for(var b="require*"+n(),q,o=[],r=0;r<d.length;)q=d[r++],o.push(W(q,g));l=h(ca("",b,0,""),{injected:2,deps:o,def:f||c,require:g?g.require:m,gc:1});w[l.mid]=l;ba(l);var k=$&&0!="sync";ka(function(){la(l,k)});l.executed||V.push(l);da()}else f&&f();return e},ja=function(a){if(!a)return m;var d=a.require;
if(!d)d=function(h,f,b){return wa(h,f,b,a,d)},a.require=h(d,m),d.module=a,d.toUrl=function(h){return xa(h,a)},d.toAbsMid=function(h){return ma(h,a)};return d},V=[],ea=[],R={},La=function(a){a.injected=1;R[a.mid]=1;a.url&&(R[a.url]=a.pack||1);za()},ga=function(a){a.injected=2;delete R[a.mid];a.url&&delete R[a.url];b(R)&&fa()},Ma=m.idle=function(){return!ea.length&&b(R)&&!V.length&&!$},na=function(a,h){if(h)for(var d=0;d<h.length;d++)if(h[d][2].test(a))return h[d];return 0},Aa=function(a){for(var h=
[],d,f,a=a.replace(/\\/g,"/").split("/");a.length;)d=a.shift(),".."==d&&h.length&&".."!=f?(h.pop(),f=h[h.length-1]):"."!=d&&h.push(f=d);return h.join("/")},ca=function(a,h,d,f){return{pid:a,mid:h,pack:d,url:f,executed:0,def:0}},Ba=function(a,h,b,c,g,j,n,m){var e,l,q,o;o=/^\./.test(a);if(/(^\/)|(\:)|(\.js$)/.test(a)||o&&!h)return ca(0,a,0,a);a=Aa(o?h.mid+"/../"+a:a);if(/^\./.test(a))throw p("irrationalPath",a);h&&(q=na(h.mid,j));(q=(q=q||j.star)&&na(a,q[1]))&&(a=q[1]+a.substring(q[3]));h=(U=a.match(/^([^\/]+)(\/(.+))?$/))?
U[1]:"";(e=b[h])?a=h+"/"+(l=U[3]||e.main):h="";var r=0;d(N,function(h){var d=a.match(h[0]);d&&0<d.length&&(r=f(h[1])?a.replace(h[0],h[1]):h[1])});if(r)return Ba(r,0,b,c,g,j,n,m);if(b=c[a])return m?ca(b.pid,b.mid,b.pack,b.url):c[a];c=(q=na(a,n))?q[1]+a.substring(q[3]):h?e.location+"/"+l:t("config-tlmSiblingOfDojo")?"../"+a:a;/(^\/)|(\:)/.test(c)||(c=g+c);return ca(h,a,e,Aa(c+".js"))},aa=function(a,h){return Ba(a,h,Q,w,m.baseUrl,A,S)},Ca=function(a,h,d){return a.normalize?a.normalize(h,function(a){return ma(a,
d)}):ma(h,d)},Da=0,W=function(a,h,d){var f,b;(f=a.match(/^(.+?)\!(.*)$/))?(b=W(f[1],h,d),5===b.executed&&!b.load&&oa(b),b.load?(f=Ca(b,f[2],h),a=b.mid+"!"+(b.dynamic?++Da+"!":"")+f):(f=f[2],a=b.mid+"!"+ ++Da+"!waitingForPlugin"),a={plugin:b,mid:a,req:ja(h),prid:f}):a=aa(a,h);return w[a.mid]||!d&&(w[a.mid]=a)},ma=m.toAbsMid=function(a,h){return aa(a,h).mid},xa=m.toUrl=function(a,h){var d=aa(a+"/x",h),f=d.url;return Ea(0===d.pid?a:f.substring(0,f.length-5))},Fa={injected:2,executed:5,def:3,result:3},
pa=function(a){return w[a]=h({mid:a},Fa)},Na=pa("require"),Oa=pa("exports"),Pa=pa("module"),ha={},qa=0,oa=function(a){var h=a.result;a.dynamic=h.dynamic;a.normalize=h.normalize;a.load=h.load;return a},Qa=function(a){var f={};d(a.loadQ,function(d){var b=Ca(a,d.prid,d.req.module),c=a.dynamic?d.mid.replace(/waitingForPlugin$/,b):a.mid+"!"+b,b=h(h({},d),{mid:c,prid:b,injected:0});w[c]||Ga(w[c]=b);f[d.mid]=w[c];ga(d);delete w[d.mid]});a.loadQ=0;var b=function(a){for(var h=a.deps||[],d=0;d<h.length;d++)(a=
f[h[d].mid])&&(h[d]=a)},c;for(c in w)b(w[c]);d(V,b)},ra=function(a){m.trace("loader-finish-exec",[a.mid]);a.executed=5;a.defOrder=qa++;a.loadQ&&(oa(a),Qa(a));for(k=0;k<V.length;)V[k]===a?V.splice(k,1):k++;/^require\*/.test(a.mid)&&delete w[a.mid]},Ra=[],la=function(a,h){if(4===a.executed)return m.trace("loader-circular-dependency",[Ra.concat(a.mid).join("->")]),!a.def||h?ha:a.cjs&&a.cjs.exports;if(!a.executed){if(!a.def)return ha;var d=a.mid,b=a.deps||[],c,g=[],j=0;for(a.executed=4;j<b.length;){c=
b[j++];c=c===Na?ja(a):c===Oa?a.cjs.exports:c===Pa?a.cjs:la(c,h);if(c===ha)return a.executed=0,m.trace("loader-exec-module",["abort",d]),ha;g.push(c)}m.trace("loader-run-factory",[a.mid]);var d=a.def,n;if(t("config-dojo-loader-catches"))try{n=f(d)?d.apply(null,g):d}catch(e){I("error",a.result=p("factoryThrew",[a,e]))}else n=f(d)?d.apply(null,g):d;a.result=void 0===n&&a.cjs?a.cjs.exports:n;ra(a)}return a.result},$=0,ka=function(a){try{$++,a()}finally{$--}Ma()&&I("idle",[])},da=function(){$||ka(function(){for(var a,
h,d=0;d<V.length;)a=qa,h=V[d],la(h),a!=qa?d=0:d++})};void 0===t("dojo-loader-eval-hint-url")&&t.add("dojo-loader-eval-hint-url",1);var Ea=function(a){a+="";return a+(x?(/\?/.test(a)?"&":"?")+x:"")},Ga=function(a){var h=a.plugin;5===h.executed&&!h.load&&oa(h);var d=function(h){a.result=h;ga(a);ra(a);da()};h.load?h.load(a.prid,a.req,d):h.loadQ?h.loadQ.push(a):(h.loadQ=[a],V.unshift(h),ya(h))},Z=0,sa=0,ta=0,Sa=function(a,h){t("config-stripStrict")&&(a=a.replace(/"use strict"/g,""));ta=1;if(t("config-dojo-loader-catches"))try{a===
Z?Z.call(null):m.eval(a,t("dojo-loader-eval-hint-url")?h.url:h.mid)}catch(d){I("error",p("evalModuleThrew",h))}else a===Z?Z.call(null):m.eval(a,t("dojo-loader-eval-hint-url")?h.url:h.mid);ta=0},ya=function(a){var d=a.mid,f=a.url;if(!a.executed&&!a.injected&&!(R[d]||a.url&&(a.pack&&R[a.url]===a.pack||1==R[a.url])))if(La(a),a.plugin)Ga(a);else{var b=function(){Ta(a);2!==a.injected&&(ga(a),h(a,Fa),m.trace("loader-define-nonmodule",[a.url]));da()};(Z=K[d]||K["url:"+a.url])?(m.trace("loader-inject",["cache",
a.mid,f]),Sa(Z,a),b()):(m.trace("loader-inject",["script",a.mid,f]),sa=a,m.injectUrl(Ea(f),b,a),sa=0)}},ua=function(a,d,b){m.trace("loader-define-module",[a.mid,d]);if(2===a.injected)return I("error",p("multipleDefine",a)),a;h(a,{deps:d,def:b,cjs:{id:a.mid,uri:a.url,exports:a.result={},setExports:function(h){a.cjs.exports=h},config:function(){return a.config}}});for(var c=0;c<d.length;c++)d[c]=W(d[c],a);ga(a);if(!f(b)&&!d.length)a.result=b,ra(a);return a},Ta=function(a,h){for(var f=[],b,c;ea.length;)c=
ea.shift(),h&&(c[0]=h.shift()),b=c[0]&&W(c[0])||a,f.push([b,c[1],c[2]]);F(a);d(f,function(a){ba(ua.apply(null,a))})},ia=0,fa=c,za=c;fa=function(){ia&&clearTimeout(ia);ia=0};za=function(){fa();m.waitms&&(ia=window.setTimeout(function(){fa();I("error",p("timeout",R))},m.waitms))};t.add("ie-event-behavior",!!r.attachEvent&&("undefined"===typeof opera||"[object Opera]"!=opera.toString()));var va=function(a,h,d,f){if(t("ie-event-behavior"))return a.attachEvent(d,f),function(){a.detachEvent(d,f)};a.addEventListener(h,
f,!1);return function(){a.removeEventListener(h,f,!1)}},Ua=va(window,"load","onload",function(){m.pageLoaded=1;"complete"!=r.readyState&&(r.readyState="complete");Ua()}),Ha=r.getElementsByTagName("script")[0],Va=Ha.parentNode;m.injectUrl=function(a,h,d){var d=d.node=r.createElement("script"),f=va(d,"load","onreadystatechange",function(a){var a=a||window.event,d=a.target||a.srcElement;if("load"===a.type||/complete|loaded/.test(d.readyState))f(),b(),h&&h()}),b=va(d,"error","onerror",function(h){f();
b();I("error",p("scriptError",[a,h]))});d.type="text/javascript";d.charset="utf-8";d.src=a;Va.insertBefore(d,Ha);return d};m.log=c;m.trace=c;var Ia=function(a,h,d){var b=arguments.length,c=["require","exports","module"],g=[0,a,h];1==b?g=[0,f(a)?c:[],a]:2==b&&j(a)?g=[a,f(h)?c:[],h]:3==b&&(g=[a,h,d]);m.trace("loader-define",g.slice(0,2));if((b=g[0]&&W(g[0]))&&!R[b.mid])ba(ua(b,g[1],g[2]));else if(!t("ie-event-behavior")||ta)ea.push(g);else{b=b||sa;if(!b)for(a in R)if((c=w[a])&&c.node&&"interactive"===
c.node.readyState){b=c;break}b?(F(b),ba(ua(b,g[1],g[2]))):I("error",p("ieDefineFailed",g[0]));da()}};Ia.amd={vendor:"dojotoolkit.org"};h(h(m,i.loaderPatch),e.loaderPatch);J("error",function(a){try{if(a instanceof Error)for(var h in a);}catch(d){}});h(m,{uid:n,cache:K,packs:Q});if(!q.define){q.define=Ia;q.require=m;d(T,function(a){G(a)});var Ja=C.deps||e.deps||i.deps,Ka=C.callback||e.callback||i.callback;m.boot=Ja||Ka?[Ja||[],Ka]:0}})(this.dojoConfig||this.djConfig||this.require||{},{async:0,hasCache:{"config-selectorEngine":"acme",
"config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:"../kk",name:"kk"},{location:"../library",name:"library"},{location:".",name:"dojo"},{location:"../dijit",name:"dijit"}]});
require({cache:{"dojo/domReady":function(){define("dojo/domReady",["./has"],function(e){function i(a){g?a(l):f.push(a)}var k=this,l=document,c={loaded:1,complete:1},b="string"!=typeof l.readyState,g=!!c[l.readyState];if(b)l.readyState="loading";if(!g){var f=[],j=[],a=function(a){a=a||k.event;if(!(g||"readystatechange"==a.type&&!c[l.readyState])){g=1;if(b)l.readyState="complete";for(;f.length;)f.shift()(l)}},d=function(h,d){h.addEventListener(d,a,!1);f.push(function(){h.removeEventListener(d,a,!1)})};
if(!e("dom-addeventlistener")){var d=function(h,d){d="on"+d;h.attachEvent(d,a);f.push(function(){h.detachEvent(d,a)})},h=l.createElement("div");try{h.doScroll&&null===k.frameElement&&j.push(function(){try{return h.doScroll("left"),1}catch(a){}})}catch(p){}}d(l,"DOMContentLoaded");d(k,"load");"onreadystatechange"in l?d(l,"readystatechange"):b||j.push(function(){return c[l.readyState]});if(j.length){var o=function(){if(!g){for(var h=j.length;h--;)if(j[h]()){a("poller");return}setTimeout(o,30)}};o()}}i.load=
function(a,h,d){i(d)};return i})},"dojo/has":function(){define("dojo/has",["require","module"],function(e){var i=e.has||function(){};i.add("dom-addeventlistener",!!document.addEventListener);i.add("touch","ontouchstart"in document);i.add("device-width",screen.availWidth||innerWidth);e=document.createElement("form");i.add("dom-attributes-explicit",0==e.attributes.length);i.add("dom-attributes-specified-flag",0<e.attributes.length&&40>e.attributes.length);i.clearElement=function(e){e.innerHTML="";return e};
i.normalize=function(e,l){var c=e.match(/[\?:]|[^:\?]*/g),b=0,g=function(f){var j=c[b++];if(":"==j)return 0;if("?"==c[b++]){if(!f&&i(j))return g();g(!0);return g(f)}return j||0};return(e=g())&&l(e)};i.load=function(e,l,c){e?l([e],c):c()};return i})},"kk/main":function(){require(["dojo/ready","kk/models/mainModel","kk/views/mainView","kk/controllers/dndController"],function(e,i,k,l){e(function(){var c=new i,b=new k({mainModel:c});new l({mainModel:c,mainView:b})})})},"dojo/ready":function(){define("dojo/ready",
["./_base/kernel","./has","require","./domReady","./_base/lang"],function(e,i,k,l,c){var b=0,g,f=[],j=0,a=function(){if(b&&!j&&f.length){j=1;var h=f.shift();try{h()}finally{j=0}j=0;f.length&&g(a)}};k.on("idle",a);g=function(){k.idle()&&a()};var i=e.ready=e.addOnLoad=function(a,d,b){var j=c._toArray(arguments);"number"!=typeof a?(b=d,d=a,a=1E3):j.shift();b=b?c.hitch.apply(e,j):function(){d()};b.priority=a;for(j=0;j<f.length&&a>=f[j].priority;j++);f.splice(j,0,b);g()},d=e.config.addOnLoad;if(d)i[c.isArray(d)?
"apply":"call"](e,d);l(function(){b=1;e._postLoad=e.config.afterOnLoad=!0;f.length&&g(a)});return i})},"dojo/_base/kernel":function(){define(["../has","./config","require","module"],function(e,i,k,l){var c,b={},g={},f={config:i,global:this,dijit:b,dojox:g},b={dojo:["dojo",f],dijit:["dijit",b],dojox:["dojox",g]},l=k.map&&k.map[l.id.match(/[^\/]+/)[0]];for(c in l)b[c]?b[c][0]=l[c]:b[c]=[l[c],{}];for(c in b)l=b[c],l[1]._scopeName=l[0],i.noGlobals||(this[l[0]]=l[1]);f.scopeMap=b;f.baseUrl=f.config.baseUrl=
k.baseUrl;f.isAsync=k.async;f.locale=i.locale;l="$Rev: 30226 $".match(/\d+/);f.version={major:1,minor:8,patch:3,flag:"",revision:l?+l[0]:NaN,toString:function(){var a=f.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(f);f.exit=function(){};"undefined"!=typeof console||(console={});for(var b="assert,count,debug,dir,dirxml,error,group,groupEnd,info,profile,profileEnd,time,timeEnd,trace,warn,log".split(","),
j,l=0;j=b[l++];)console[j]||function(){var a=j+"";console[a]="log"in console?function(){var d=Array.apply({},arguments);d.unshift(a+":");console.log(d.join(" "))}:function(){};console[a]._fake=!0}();e.add("dojo-debug-messages",!!i.isDebug);f.deprecated=f.experimental=function(){};if(e("dojo-debug-messages"))f.deprecated=function(){},f.experimental=function(){};if(i.modulePaths){f.deprecated("dojo.modulePaths","use paths configuration");e={};for(c in i.modulePaths)e[c.replace(/\./g,"/")]=i.modulePaths[c];
k({paths:e})}f.moduleUrl=function(a,d){f.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var h=null;a&&(h=k.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")+"/*.*").replace(/\/\*\.\*/,"")+(d?"":"/"));return h};f._hasResource={};return f})},"dojo/_base/config":function(){define(["../has","require"],function(e,i){var k={},l=i.rawConfig,c;for(c in l)k[c]=l[c];return k})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(e,i){i.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;
return 1});var k=i("bug-for-in-skips-shadowed")?"hasOwnProperty.valueOf.isPrototypeOf.propertyIsEnumerable.toLocaleString.toString.constructor".split("."):[],l=k.length,c=function(a,d,h){var b,f=0,c=e.global;if(!h)if(a.length){b=a[f++];try{h=e.scopeMap[b]&&e.scopeMap[b][1]}catch(g){}h=h||(b in c?c[b]:d?c[b]={}:void 0)}else return c;for(;h&&(b=a[f++]);)h=b in h?h[b]:d?h[b]={}:void 0;return h},b=Object.prototype.toString,g=function(a,d,h){return(h||[]).concat(Array.prototype.slice.call(a,d||0))},f=
/\{([^\}]+)\}/g,j={_extraNames:k,_mixin:function(a,d,h){var b,f,c,g={};for(b in d)if(f=d[b],!(b in a)||a[b]!==f&&(!(b in g)||g[b]!==f))a[b]=h?h(f):f;if(i("bug-for-in-skips-shadowed")&&d)for(c=0;c<l;++c)if(b=k[c],f=d[b],!(b in a)||a[b]!==f&&(!(b in g)||g[b]!==f))a[b]=h?h(f):f;return a},mixin:function(a,d){a||(a={});for(var h=1,b=arguments.length;h<b;h++)j._mixin(a,arguments[h]);return a},setObject:function(a,d,h){var b=a.split("."),a=b.pop();return(h=c(b,!0,h))&&a?h[a]=d:void 0},getObject:function(a,
d,h){return c(a.split("."),d,h)},exists:function(a,d){return void 0!==j.getObject(a,!1,d)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(a){return"[object Function]"===b.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||j.isArray(a)||j.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!j.isString(a)&&!j.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&
(j.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!j.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(""+a)},extend:function(a,d){for(var h=1,b=arguments.length;h<b;h++)j._mixin(a.prototype,arguments[h]);return a},_hitchArgs:function(a,d){var h=j._toArray(arguments,2),b=j.isString(d);return function(){var f=j._toArray(arguments),c=b?(a||e.global)[d]:d;return c&&c.apply(a||this,h.concat(f))}},hitch:function(a,d){if(2<arguments.length)return j._hitchArgs.apply(e,arguments);d||(d=a,a=
null);if(j.isString(d)){a=a||e.global;if(!a[d])throw['lang.hitch: scope["',d,'"] is null (scope="',a,'")'].join("");return function(){return a[d].apply(a,arguments||[])}}return!a?d:function(){return d.apply(a,arguments||[])}},delegate:function(){function a(){}return function(d,h){a.prototype=d;var b=new a;a.prototype=null;h&&j._mixin(b,h);return b}}(),_toArray:i("ie")?function(){function a(a,h,b){b=b||[];for(h=h||0;h<a.length;h++)b.push(a[h]);return b}return function(d){return(d.item?a:g).apply(this,
arguments)}}():g,partial:function(a){return j.hitch.apply(e,[null].concat(j._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||j.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return RegExp(a);var d,h,b;if(j.isArray(a)){d=[];for(h=0,b=a.length;h<b;++h)h in a&&d.push(j.clone(a[h]))}else d=a.constructor?new a.constructor:{};return j._mixin(d,a,j.clone)},trim:String.prototype.trim?
function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,d,h){return a.replace(h||f,j.isFunction(d)?d:function(a,h){return j.getObject(h,!1,d)})}};j.mixin(e,j);return j})},"dojo/sniff":function(){define("dojo/sniff",["./has"],function(e){var i=navigator,k=i.userAgent,i=i.appVersion,l=parseFloat(i);e.add("air",0<=k.indexOf("AdobeAIR"));e.add("khtml",0<=i.indexOf("Konqueror")?l:void 0);e.add("webkit",parseFloat(k.split("WebKit/")[1])||void 0);e.add("chrome",
parseFloat(k.split("Chrome/")[1])||void 0);e.add("safari",0<=i.indexOf("Safari")&&!e("chrome")?parseFloat(i.split("Version/")[1]):void 0);e.add("mac",0<=i.indexOf("Macintosh"));e.add("quirks","BackCompat"==document.compatMode);e.add("ios",/iPhone|iPod|iPad/.test(k));e.add("android",parseFloat(k.split("Android ")[1])||void 0);if(!e("webkit")){0<=k.indexOf("Opera")&&e.add("opera",9.8<=l?parseFloat(k.split("Version/")[1])||l:l);0<=k.indexOf("Gecko")&&!e("khtml")&&!e("webkit")&&e.add("mozilla",l);e("mozilla")&&
e.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0);if(document.all&&!e("opera"))k=parseFloat(i.split("MSIE ")[1])||void 0,(i=document.documentMode)&&5!=i&&Math.floor(k)!=i&&(k=i),e.add("ie",k);e.add("wii","undefined"!=typeof opera&&opera.wiiremote)}return e})},"kk/models/mainModel":function(){define("kk/models/mainModel","dojo/_base/declare,dojo/json,dojo/topic,dojo/_base/lang,dojo/when,library/base/mvc/model,library/factories/store".split(","),function(e,i,k,l,c,b,g){return e([b],
{storiesStore:null,workflowStore:null,setupStores:function(){this.workflowStore=g.getInstance("/workflow/","id","jsonCache");this.storiesStore=g.getInstance("/stories/","id","jsonCache")},setupConnections:function(){k.subscribe("/kk/dndUpdateStore",l.hitch(this,this.updateStores));k.subscribe("/kk/newStory",l.hitch(this,this.newStory));k.subscribe("/kk/newWorkflow",l.hitch(this,this.newWorkflow))},newWorkflow:function(b){b.initialstate="openedSource";c(this.workflowStore.put(b),function(b){k.publish("/kk/dndNewWorkflow",
b)})},newStory:function(b){c(this.storiesStore.put(b),function(b){k.publish("/kk/dndNewStory",b)})},updateStores:function(b,g,a){c(this.storiesStore.get(a),l.hitch(this,function(a){a.workflow=g;c(this.storiesStore.put(a),function(){})}))}})})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(e,i,k){function l(a,h){throw Error("declare"+(h?" "+h:"")+": "+a);}function c(a,h,d){var b,f,c,g,j,m,n,e=this._inherited=this._inherited||{};"string"==typeof a&&(b=a,a=h,h=d);d=0;
g=a.callee;(b=b||g.nom)||l("can't deduce a name to call inherited()",this.declaredClass);j=this.constructor._meta;c=j.bases;n=e.p;if(b!=y){if(e.c!==g&&(n=0,m=c[0],j=m._meta,j.hidden[b]!==g)){(f=j.chains)&&"string"==typeof f[b]&&l("calling chained method with inherited: "+b,this.declaredClass);do if(j=m._meta,f=m.prototype,j&&(f[b]===g&&f.hasOwnProperty(b)||j.hidden[b]===g))break;while(m=c[++n]);n=m?n:-1}if(m=c[++n])if(f=m.prototype,m._meta&&f.hasOwnProperty(b))d=f[b];else{g=t[b];do if(f=m.prototype,
(d=f[b])&&(m._meta?f.hasOwnProperty(b):d!==g))break;while(m=c[++n])}d=m&&d||t[b]}else{if(e.c!==g&&(n=0,(j=c[0]._meta)&&j.ctor!==g)){f=j.chains;for((!f||"manual"!==f.constructor)&&l("calling chained constructor with inherited",this.declaredClass);(m=c[++n])&&!((j=m._meta)&&j.ctor===g););n=m?n:-1}for(;(m=c[++n])&&!(d=(j=m._meta)?j.ctor:m););d=m&&d}e.c=d;e.p=n;if(d)return!0===h?d:d.apply(this,h||a)}function b(a,h){return"string"==typeof a?this.__inherited(a,h,!0):this.__inherited(a,!0)}function g(a,
h,d){var b=this.getInherited(a,h);if(b)return b.apply(this,d||h||a)}function f(a){for(var h=this.constructor._meta.bases,d=0,b=h.length;d<b;++d)if(h[d]===a)return!0;return this instanceof a}function j(a,h){for(var d in h)d!=y&&h.hasOwnProperty(d)&&(a[d]=h[d]);if(i("bug-for-in-skips-shadowed"))for(var b=k._extraNames,f=b.length;f;)d=b[--f],d!=y&&h.hasOwnProperty(d)&&(a[d]=h[d])}function a(a){r.safeMixin(this.prototype,a);return this}function d(a){return r([this].concat(a))}function h(a,h){return function(){var w;
var d=arguments,b=d,f=d[0],c,g;g=a.length;var j;if(!(this instanceof d.callee))return q(d);if(h&&(f&&f.preamble||this.preamble)){j=Array(a.length);j[0]=d;for(c=0;;){if(f=d[0])(f=f.preamble)&&(d=f.apply(this,d)||d);f=a[c].prototype;(f=f.hasOwnProperty("preamble")&&f.preamble)&&(d=f.apply(this,d)||d);if(++c==g)break;j[c]=d}}for(c=g-1;0<=c;--c)f=a[c],(w=(g=f._meta)?g.ctor:f,f=w)&&f.apply(this,j?j[c]:d);(f=this.postscript)&&f.apply(this,b)}}function p(a,d){return function(){var h=arguments,b=h,f=h[0];
if(!(this instanceof h.callee))return q(h);if(d){if(f)(f=f.preamble)&&(b=f.apply(this,b)||b);(f=this.preamble)&&f.apply(this,b)}a&&a.apply(this,h);(f=this.postscript)&&f.apply(this,h)}}function o(a){return function(){var w;var h=arguments,d=0,b,f;if(!(this instanceof h.callee))return q(h);for(;b=a[d];++d)if(w=(f=b._meta)?f.ctor:b,b=w){b.apply(this,h);break}(b=this.postscript)&&b.apply(this,h)}}function n(a,h,d){return function(){var b,f,c=0,g=1;d&&(c=h.length-1,g=-1);for(;b=h[c];c+=g)f=b._meta,(b=
(f?f.hidden:b.prototype)[a])&&b.apply(this,arguments)}}function m(a){s.prototype=a.prototype;a=new s;s.prototype=null;return a}function q(a){var h=a.callee,d=m(h);h.apply(d,a);return d}function r(g,e,q){"string"!=typeof g&&(q=e,e=g,g="");var q=q||{},i,s,B,A,w,x,K,H=1,C=e;if("[object Array]"==v.call(e)){H=g;B=[];A=[{cls:0,refs:[]}];x={};for(var F=1,O=e.length,D=0,L,T,G,M;D<O;++D){(L=e[D])?"[object Function]"!=v.call(L)&&l("mixin #"+D+" is not a callable constructor.",H):l("mixin #"+D+" is unknown. Did you use dojo.require to pull it in?",
H);T=L._meta?L._meta.bases:[L];G=0;for(L=T.length-1;0<=L;--L){M=T[L].prototype;if(!M.hasOwnProperty("declaredClass"))M.declaredClass="uniqName_"+z++;M=M.declaredClass;x.hasOwnProperty(M)||(x[M]={count:0,refs:[],cls:T[L]},++F);M=x[M];G&&G!==M&&(M.refs.push(G),++G.count);G=M}++G.count;A[0].refs.push(G)}for(;A.length;){G=A.pop();B.push(G.cls);for(--F;s=G.refs,1==s.length;){G=s[0];if(!G||--G.count){G=0;break}B.push(G.cls);--F}if(G)for(D=0,O=s.length;D<O;++D)G=s[D],--G.count||A.push(G)}F&&l("can't build consistent linearization",
H);L=e[0];B[0]=L?L._meta&&L===B[B.length-L._meta.bases.length]?L._meta.bases.length:1:0;x=B;B=x[0];H=x.length-B;e=x[H]}else x=[0],e?"[object Function]"==v.call(e)?(B=e._meta,x=x.concat(B?B.bases:e)):l("base class is not a callable constructor.",g):null!==e&&l("unknown base class. Did you use dojo.require to pull it in?",g);if(e)for(s=H-1;;--s){i=m(e);if(!s)break;B=x[s];(B._meta?j:u)(i,B.prototype);A=new Function;A.superclass=e;A.prototype=i;e=i.constructor=A}else i={};r.safeMixin(i,q);B=q.constructor;
if(B!==t.constructor)B.nom=y,i.constructor=B;for(s=H-1;s;--s)(B=x[s]._meta)&&B.chains&&(K=u(K||{},B.chains));i["-chains-"]&&(K=u(K||{},i["-chains-"]));B=!K||!K.hasOwnProperty(y);x[0]=A=K&&"manual"===K.constructor?o(x):1==x.length?p(q.constructor,B):h(x,B);A._meta={bases:x,hidden:q,chains:K,parents:C,ctor:q.constructor};A.superclass=e&&e.prototype;A.extend=a;A.createSubclass=d;A.prototype=i;i.constructor=A;i.getInherited=b;i.isInstanceOf=f;i.inherited=I;i.__inherited=c;if(g)i.declaredClass=g,k.setObject(g,
A);if(K)for(w in K)if(i[w]&&"string"==typeof K[w]&&w!=y)B=i[w]=n(w,x,"after"===K[w]),B.nom=w;return A}var u=k.mixin,t=Object.prototype,v=t.toString,s=new Function,z=0,y="constructor",I=e.config.isDebug?g:c;e.safeMixin=r.safeMixin=function(a,h){var d,b;for(d in h)if(b=h[d],(b!==t[d]||!(d in t))&&d!=y){if("[object Function]"==v.call(b))b.nom=d;a[d]=b}if(i("bug-for-in-skips-shadowed"))for(var f=k._extraNames,c=f.length;c;)if(d=f[--c],b=h[d],(b!==t[d]||!(d in t))&&d!=y){if("[object Function]"==v.call(b))b.nom=
d;a[d]=b}return a};return e.declare=r})},"dojo/json":function(){define("dojo/json",["./has"],function(e){var i="undefined"!=typeof JSON;e.add("json-parse",i);e.add("json-stringify",i&&'{"a":1}'==JSON.stringify({a:0},function(e,c){return c||1}));if(e("json-stringify"))return JSON;var k=function(e){return('"'+e.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:e("json-parse")?JSON.parse:function(e,
c){if(c&&!/^([\s\[\{]*(?:"(?:\\.|[^"])+"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(e))throw new SyntaxError("Invalid characters in JSON");return eval("("+e+")")},stringify:function(e,c,b){function g(j,a,d){c&&(j=c(d,j));var h;h=typeof j;if("number"==h)return isFinite(j)?j+"":"null";if("boolean"==h)return j+"";if(null===j)return"null";if("string"==typeof j)return k(j);if("function"==h||"undefined"==h)return f;if("function"==typeof j.toJSON)return g(j.toJSON(d),a,d);
if(j instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,d,h){a=j["getUTC"+d]()+(h?1:0);return 10>a?"0"+a:a});if(j.valueOf()!==j)return g(j.valueOf(),a,d);var e=b?a+b:"",l=b?" ":"",n=b?"\n":"";if(j instanceof Array){for(var l=j.length,m=[],d=0;d<l;d++)h=g(j[d],e,d),"string"!=typeof h&&(h="null"),m.push(n+e+h);return"["+m.join(",")+n+a+"]"}m=[];for(d in j){var q;if(j.hasOwnProperty(d)){if("number"==typeof d)q='"'+d+'"';else if("string"==
typeof d)q=k(d);else continue;h=g(j[d],e,d);"string"==typeof h&&m.push(n+e+q+":"+l+h)}}return"{"+m.join(",")+n+a+"}"}var f;"string"==typeof c&&(b=c,c=null);return g(e,"","")}}})},"dojo/topic":function(){define("dojo/topic",["./Evented"],function(e){var i=new e;return{publish:function(e,l){return i.emit.apply(i,arguments)},subscribe:function(e,l){return i.on.apply(i,arguments)}}})},"dojo/Evented":function(){define("dojo/Evented",["./aspect","./on"],function(e,i){function k(){}var l=e.after;k.prototype=
{on:function(c,b){return i.parse(this,c,b,function(c,f){return l(c,"on"+f,b,!0)})},emit:function(c,b){var g=[this];g.push.apply(g,arguments);return i.emit.apply(i,g)}};return k})},"dojo/aspect":function(){define("dojo/aspect",[],function(){function e(b,c,a,d){var h=b[c],g="around"==c,e;if(g){var n=a(function(){return h.advice(this,arguments)});e={remove:function(){e.cancelled=!0},advice:function(a,d){return e.cancelled?h.advice(a,d):n.apply(a,d)}}}else e={remove:function(){var a=e.previous,d=e.next;
if(!d&&!a)delete b[c];else if(a?a.next=d:b[c]=d,d)d.previous=a},id:l++,advice:a,receiveArguments:d};if(h&&!g)if("after"==c){for(;h.next&&(h=h.next););h.next=e;e.previous=h}else{if("before"==c)b[c]=e,e.next=h,h.previous=e}else b[c]=e;return e}function i(b){return function(c,a,d,h){var g=c[a],o;if(!g||g.target!=c){c[a]=o=function(){for(var a=l,d=arguments,h=o.before;h;)d=h.advice.apply(this,d)||d,h=h.next;if(o.around)var b=o.around.advice(this,d);for(h=o.after;h&&h.id<a;){if(h.receiveArguments)var f=
h.advice.apply(this,d),b=f===k?b:f;else b=h.advice.call(this,b,d);h=h.next}return b};if(g)o.around={advice:function(a,d){return g.apply(a,d)}};o.target=c}c=e(o||g,b,d,h);d=null;return c}}var k,l=0,c=i("after"),b=i("before"),g=i("around");return{before:b,around:g,after:c}})},"dojo/on":function(){define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./has"],function(e,i,k){function l(a,d,b,c,g){if(c=d.match(/(.*):(.*)/))return d=c[2],c=c[1],f.selector(c,d).call(g,a,b);k("touch")&&
(j.test(d)&&(b=z(b)),!k("event-orientationchange")&&"orientationchange"==d&&(d="resize",a=window,b=z(b)));o&&(b=o(b));if(a.addEventListener){var e=d in h,n=e?h[d]:d;a.addEventListener(n,b,e);return{remove:function(){a.removeEventListener(n,b,e)}}}if(r&&a.attachEvent)return r(a,"on"+d,b);throw Error("Target must be an event emitter");}function c(){this.cancelable=!1}function b(){this.bubbles=!1}var g=window.ScriptEngineMajorVersion;k.add("jscript",g&&g()+ScriptEngineMinorVersion()/10);k.add("event-orientationchange",
k("touch")&&!k("android"));k.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);var f=function(a,d,h,b){return"function"==typeof a.on&&"function"!=typeof d?a.on(d,h):f.parse(a,d,h,l,b,this)};f.pausable=function(a,d,h,b){var c,a=f(a,d,function(){if(!c)return h.apply(this,arguments)},b);a.pause=function(){c=!0};a.resume=function(){c=!1};return a};f.once=function(a,d,h){var b=f(a,d,function(){b.remove();return h.apply(this,
arguments)});return b};f.parse=function(a,d,h,b,f,c){if(d.call)return d.call(c,a,h);if(-1<d.indexOf(",")){for(var d=d.split(/\s*,\s*/),g=[],e=0,j;j=d[e++];)g.push(b(a,j,h,f,c));g.remove=function(){for(var a=0;a<g.length;a++)g[a].remove()};return g}return b(a,d,h,f,c)};var j=/^touch/;f.selector=function(a,d,h){return function(b,c){function g(d){for(e=e&&e.matches?e:i.query;!e.matches(d,a,b);)if(d==b||!1===h||!(d=d.parentNode)||1!=d.nodeType)return;return d}var e="function"==typeof a?{matches:a}:this,
j=d.bubble;return j?f(b,j(g),c):f(b,d,function(a){var d=g(a.target);return d&&c.call(d,a)})}};var a=[].slice,d=f.emit=function(d,h,f){var g=a.call(arguments,2),e="on"+h;if("parentNode"in d){var j=g[0]={},n;for(n in f)j[n]=f[n];j.preventDefault=c;j.stopPropagation=b;j.target=d;j.type=h;f=j}do d[e]&&d[e].apply(d,g);while(f&&f.bubbles&&(d=d.parentNode));return f&&f.cancelable&&f},h={};if(!k("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=!0},o=function(a){return function(d){if(!d.immediatelyStopped)return d.stopImmediatePropagation=
p,a.apply(this,arguments)}};if(k("dom-addeventlistener"))h={focusin:"focus",focusout:"blur"},f.emit=function(a,h,b){if(a.dispatchEvent&&document.createEvent){var c=a.ownerDocument.createEvent("HTMLEvents");c.initEvent(h,!!b.bubbles,!!b.cancelable);for(var g in b)g in c||(c[g]=b[g]);return a.dispatchEvent(c)&&c}return d.apply(f,arguments)};else{f._fixEvent=function(a,d){if(!a)a=(d&&(d.ownerDocument||d.document||d).parentWindow||window).event;if(!a)return a;n&&a.type==n.type&&(a=n);if(!a.target){a.target=
a.srcElement;a.currentTarget=d||a.srcElement;if("mouseover"==a.type)a.relatedTarget=a.fromElement;if("mouseout"==a.type)a.relatedTarget=a.toElement;if(!a.stopPropagation)a.stopPropagation=u,a.preventDefault=t;switch(a.type){case "keypress":var h="charCode"in a?a.charCode:a.keyCode;10==h?(h=0,a.keyCode=13):13==h||27==h?h=0:3==h&&(h=99);a.charCode=h;h=a;h.keyChar=h.charCode?String.fromCharCode(h.charCode):"";h.charOrCode=h.keyChar||h.keyCode}}return a};var n,m=function(a){this.handle=a};m.prototype.remove=
function(){delete _dojoIEListeners_[this.handle]};var q=function(a){return function(d){var d=f._fixEvent(d,this),h=a.call(this,d);d.modified&&(n||setTimeout(function(){n=null}),n=d);return h}},r=function(a,d,h){h=q(h);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>k("jscript"))&&!k("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var b=a[d];if(!b||!b.listeners){var f=b,b=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
b.listeners=[];a[d]=b;b.global=this;f&&b.listeners.push(_dojoIEListeners_.push(f)-1)}b.listeners.push(a=b.global._dojoIEListeners_.push(h)-1);return new m(a)}return e.after(a,d,h,!0)},u=function(){this.cancelBubble=!0},t=f._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(a){}this.defaultPrevented=!0;this.returnValue=!1}}if(k("touch"))var v=function(){},s=window.orientation,z=function(a){return function(d){var h=d.corrected;if(!h){var b=d.type;try{delete d.type}catch(f){}d.type?
(v.prototype=d,h=new v,h.preventDefault=function(){d.preventDefault()},h.stopPropagation=function(){d.stopPropagation()}):(h=d,h.type=b);d.corrected=h;if("resize"==b){if(s==window.orientation)return null;s=window.orientation;h.type="orientationchange";return a.call(this,h)}if(!("rotation"in h))h.rotation=0,h.scale=1;var b=h.changedTouches[0],c;for(c in b)delete h[c],h[c]=b[c]}return a.call(this,h)}};return f})},"dojo/when":function(){define(["./Deferred","./promise/Promise"],function(e,i){return function(k,
l,c,b){var g=k&&"function"===typeof k.then,f=g&&k instanceof i;if(g){if(!f)g=new e(k.cancel),k.then(g.resolve,g.reject,g.progress),k=g.promise}else return l?l(k):(new e).resolve(k);return l||c||b?k.then(l,c,b):k}})},"dojo/Deferred":function(){define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./promise/instrumentation"],function(e,i,k,l,c){var b=Object.freeze||function(){},g=function(a,b,c,g,e){2===b&&d.instrumentRejected&&0===a.length&&d.instrumentRejected(c,
!1,g,e);for(e=0;e<a.length;e++)f(a[e],b,c,g)},f=function(h,b,f,c){var g=h[b],e=h.deferred;if(g)try{var l=g(f);if(0===b)"undefined"!==typeof l&&a(e,b,l);else{if(l&&"function"===typeof l.then){h.cancel=l.cancel;l.then(j(e,1),j(e,2),j(e,0));return}a(e,1,l)}}catch(i){a(e,2,i)}else a(e,b,f);2===b&&d.instrumentRejected&&d.instrumentRejected(f,!!g,c,e.promise)},j=function(d,b){return function(f){a(d,b,f)}},a=function(a,d,b){if(!a.isCanceled())switch(d){case 0:a.progress(b);break;case 1:a.resolve(b);break;
case 2:a.reject(b)}},d=function(a){var c=this.promise=new l,e=this,j,m,q,r=!1,i=[];Error.captureStackTrace&&(Error.captureStackTrace(e,d),Error.captureStackTrace(c,d));this.isResolved=c.isResolved=function(){return 1===j};this.isRejected=c.isRejected=function(){return 2===j};this.isFulfilled=c.isFulfilled=function(){return!!j};this.isCanceled=c.isCanceled=function(){return r};this.progress=function(a,d){if(j){if(!0===d)throw Error("This deferred has already been fulfilled.");return c}g(i,0,a,null,
e);return c};this.resolve=function(a,d){if(j){if(!0===d)throw Error("This deferred has already been fulfilled.");return c}g(i,j=1,m=a,null,e);i=null;return c};var t=this.reject=function(a,d){if(j){if(!0===d)throw Error("This deferred has already been fulfilled.");return c}Error.captureStackTrace&&Error.captureStackTrace(q={},t);g(i,j=2,m=a,q,e);i=null;return c};this.then=c.then=function(a,h,b){var g=[b,a,h];g.cancel=c.cancel;g.deferred=new d(function(a){return g.cancel&&g.cancel(a)});j&&!i?f(g,j,
m,q):i.push(g);return g.deferred.promise};this.cancel=c.cancel=function(d,b){if(j){if(!0===b)throw Error("This deferred has already been fulfilled.");}else{if(a)var c=a(d),d="undefined"===typeof c?d:c;r=!0;if(j){if(2===j&&m===d)return d}else return"undefined"===typeof d&&(d=new k),t(d),d}};b(c)};d.prototype.toString=function(){return"[object Deferred]"};c&&c(d);return d})},"dojo/errors/CancelError":function(){define(["./create"],function(e){return e("CancelError",null,null,{dojoType:"cancel"})})},
"dojo/errors/create":function(){define(["../_base/lang"],function(e){return function(i,k,l,c){var l=l||Error,b=function(c){if(l===Error){Error.captureStackTrace&&Error.captureStackTrace(this,b);var f=Error.call(this,c),e;for(e in f)f.hasOwnProperty(e)&&(this[e]=f[e]);this.message=c;this.stack=f.stack}else l.apply(this,arguments);k&&k.apply(this,arguments)};b.prototype=e.delegate(l.prototype,c);b.prototype.name=i;return b.prototype.constructor=b}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
function(e){function i(){throw new TypeError("abstract");}return e.extend(function(){},{then:function(){i()},cancel:function(){i()},isResolved:function(){i()},isRejected:function(){i()},isFulfilled:function(){i()},isCanceled:function(){i()},always:function(e){return this.then(e,e)},otherwise:function(e){return this.then(null,e)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},"dojo/promise/instrumentation":function(){define(["./tracer",
"../has","../_base/lang","../_base/array"],function(e,i,k,l){function c(a,d){d&&d.stack&&d.stack.split("\n").slice(1).join("\n").replace(/^\s+/," ")}function b(a,d,b,f){d||c(a,b,f)}function g(h,b,c,g){b?l.some(j,function(a,d){if(a.error===h)return j.splice(d,1),!0}):l.some(j,function(a){return a.error===h})||j.push({error:h,rejection:c,deferred:g,timestamp:(new Date).getTime()});a||(a=setTimeout(f,d))}function f(){var h=(new Date).getTime(),b=h-d;j=l.filter(j,function(a){return a.timestamp<b?(c(a.error,
a.rejection,a.deferred),!1):!0});a=j.length?setTimeout(f,j[0].timestamp+d-h):!1}var j=[],a=!1,d=1E3;return function(a){var c=i("config-useDeferredInstrumentation");if(c){e.on("resolved",k.hitch(console,"log","resolved"));e.on("rejected",k.hitch(console,"log","rejected"));e.on("progress",k.hitch(console,"log","progress"));var f=[];"string"===typeof c&&(f=c.split(","),c=f.shift());if("report-rejections"===c)a.instrumentRejected=b;else if("report-unhandled-rejections"===c||!0===c||1===c)a.instrumentRejected=
g,d=parseInt(f[0],10)||d;else throw Error("Unsupported instrumentation usage <"+c+">");}}})},"dojo/promise/tracer":function(){define(["../_base/lang","./Promise","../Evented"],function(e,i,k){function l(g){setTimeout(function(){b.apply(c,g)},0)}var c=new k,b=c.emit;c.emit=null;i.prototype.trace=function(){var b=e._toArray(arguments);this.then(function(c){l(["resolved",c].concat(b))},function(c){l(["rejected",c].concat(b))},function(c){l(["progress",c].concat(b))});return this};i.prototype.traceRejected=
function(){var b=e._toArray(arguments);this.otherwise(function(c){l(["rejected",c].concat(b))});return this};return c})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(e,i,k){function l(a){return g[a]=new Function("item","index","array",a)}function c(a){var d=!a;return function(h,b,c){var f=0,e=h&&h.length||0,j;e&&"string"==typeof h&&(h=h.split(""));"string"==typeof b&&(b=g[b]||l(b));if(c)for(;f<e;++f){if(j=!b.call(c,h[f],f,h),a^j)return!j}else for(;f<e;++f)if(j=!b(h[f],
f,h),a^j)return!j;return d}}function b(a){var d=1,h=0,b=0;a||(d=h=b=-1);return function(c,g,e,l){if(l&&0<d)return j.lastIndexOf(c,g,e);var l=c&&c.length||0,r=a?l+b:h;e===f?e=a?h:l+b:0>e?(e=l+e,0>e&&(e=h)):e=e>=l?l+b:e;for(l&&"string"==typeof c&&(c=c.split(""));e!=r;e+=d)if(c[e]==g)return e;return-1}}var g={},f,j={every:c(!1),some:c(!0),indexOf:b(!0),lastIndexOf:b(!1),forEach:function(a,d,b){var c=0,f=a&&a.length||0;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=g[d]||l(d));if(b)for(;c<
f;++c)d.call(b,a[c],c,a);else for(;c<f;++c)d(a[c],c,a)},map:function(a,d,b,c){var f=0,e=a&&a.length||0,c=new (c||Array)(e);e&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=g[d]||l(d));if(b)for(;f<e;++f)c[f]=d.call(b,a[f],f,a);else for(;f<e;++f)c[f]=d(a[f],f,a);return c},filter:function(a,d,b){var c=0,f=a&&a.length||0,e=[],j;f&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=g[d]||l(d));if(b)for(;c<f;++c)j=a[c],d.call(b,j,c,a)&&e.push(j);else for(;c<f;++c)j=a[c],d(j,c,a)&&e.push(j);
return e},clearCache:function(){g={}}};k.mixin(e,j);return j})},"library/base/mvc/model":function(){define("library/base/mvc/model",["dojo/_base/declare","dojo/_base/lang","library/base/getterSetterBase"],function(e,i,k){return e([k],{setupStores:function(){},setupConnections:function(){},setupFinal:function(){},init:function(){this.setupStores();this.setupConnections();this.setupFinal()},constructor:function(e){i.mixin(this,e);this.init()}})})},"library/base/getterSetterBase":function(){define("library/base/getterSetterBase",
["dojo/_base/declare","dojo/_base/lang","library/utilities/string"],function(e,i,k){return e([],{get:function(e){var c=null;return c="function"==typeof i.getObject("get"+k.ucfirst(e),!1,this)?i.getObject("get"+k.ucfirst(e),!1,this)():i.getObject(e,!1,this)},set:function(e,c){"function"==typeof i.getObject("set"+k.ucfirst(e),!1,this)?i.getObject("set"+k.ucfirst(e),!1,this)(c):i.setObject(e,c,this);return this}})})},"library/utilities/string":function(){define("library/utilities/string",[],function(){return{ucfirst:function(e){return e.charAt(0).toUpperCase()+
e.slice(1)}}})},"library/factories/store":function(){define("library/factories/store","dojo/_base/declare,dojo/store/Memory,dojo/_base/lang,dojo/store/Observable,dojo/store/JsonRest,dojo/store/Cache".split(","),function(e,i,k,l,c,b){return{getInstance:function(g,f,e){var a=null;if("undefined"==typeof e)switch(typeof g){case "string":a=new c({target:g,idProperty:f});break;case "object":g=k.clone(g),a=new i({idProperty:f,data:g})}else switch(e){case "jsonRest":a=new c({target:g,idProperty:f});break;
case "memory":g=k.clone(g);a=new i({idProperty:f,data:g});break;case "jsonCache":g=new c({target:g,idProperty:f}),g=new l(g),a=new b(g,new i({idProperty:f}))}return a}}})},"dojo/store/Memory":function(){define(["../_base/declare","./util/QueryResults","./util/SimpleQueryEngine"],function(e,i,k){return e("dojo.store.Memory",null,{constructor:function(e){for(var c in e)this[c]=e[c];this.setData(this.data||[])},data:null,idProperty:"id",index:null,queryEngine:k,get:function(e){return this.data[this.index[e]]},
getIdentity:function(e){return e[this.idProperty]},put:function(e,c){var b=this.data,g=this.index,f=this.idProperty,f=e[f]=c&&"id"in c?c.id:f in e?e[f]:Math.random();if(f in g){if(c&&!1===c.overwrite)throw Error("Object already exists");b[g[f]]=e}else g[f]=b.push(e)-1;return f},add:function(e,c){(c=c||{}).overwrite=!1;return this.put(e,c)},remove:function(e){var c=this.index,b=this.data;if(e in c)return b.splice(c[e],1),this.setData(b),!0},query:function(e,c){return i(this.queryEngine(e,c)(this.data))},
setData:function(e){var a;e.items?(this.idProperty=e.identifier,a=this.data=e.items,e=a):this.data=e;this.index={};for(var c=0,b=e.length;c<b;c++)this.index[e[c][this.idProperty]]=c}})})},"dojo/store/util/QueryResults":function(){define(["../../_base/array","../../_base/lang","../../_base/Deferred"],function(e,i,k){var l=function(c){function b(b){c[b]||(c[b]=function(){var f=arguments;return k.when(c,function(c){Array.prototype.unshift.call(f,c);return l(e[b].apply(e,f))})})}if(!c)return c;c.then&&
(c=i.delegate(c));b("forEach");b("filter");b("map");if(!c.total)c.total=k.when(c,function(b){return b.length});return c};i.setObject("dojo.store.util.QueryResults",l);return l})},"dojo/_base/Deferred":function(){define("./kernel,../Deferred,../promise/Promise,../errors/CancelError,../has,./lang,../when".split(","),function(e,i,k,l,c,b,g){var f=function(){},j=Object.freeze||function(){},a=e.Deferred=function(d){function h(a){if(n)throw Error("This deferred has already been resolved");g=a;n=!0;e()}
function e(){for(var a;!a&&r;){var d=r;r=r.next;if(a=d.progress==f)n=!1;var h=m?d.error:d.resolved;c("config-useDeferredInstrumentation")&&m&&i.instrumentRejected&&i.instrumentRejected(g,!!h);if(h)try{var j=h(g);j&&"function"===typeof j.then?j.then(b.hitch(d.deferred,"resolve"),b.hitch(d.deferred,"reject"),b.hitch(d.deferred,"progress")):(h=a&&void 0===j,a&&!h&&(m=j instanceof Error),d.deferred[h&&m?"reject":"resolve"](h?g:j))}catch(l){d.deferred.reject(l)}else m?d.deferred.reject(g):d.deferred.resolve(g)}}
var g,n,m,q,r,u=this.promise=new k;this.resolve=this.callback=function(a){this.fired=0;this.results=[a,null];h(a)};this.reject=this.errback=function(a){m=!0;this.fired=1;c("config-useDeferredInstrumentation")&&i.instrumentRejected&&i.instrumentRejected(a,!!r);h(a);this.results=[null,a]};this.progress=function(a){for(var d=r;d;){var b=d.progress;b&&b(a);d=d.next}};this.addCallbacks=function(a,d){this.then(a,d,f);return this};u.then=this.then=function(d,b,h){var c=h==f?this:new a(u.cancel),d={resolved:d,
error:b,progress:h,deferred:c};r?q=q.next=d:r=q=d;n&&e();return c.promise};var t=this;u.cancel=this.cancel=function(){if(!n){var a=d&&d(t);if(!n)a instanceof Error||(a=new l(a)),a.log=!1,t.reject(a)}};j(u)};b.extend(a,{addCallback:function(a){return this.addCallbacks(b.hitch.apply(e,arguments))},addErrback:function(a){return this.addCallbacks(null,b.hitch.apply(e,arguments))},addBoth:function(a){var h=b.hitch.apply(e,arguments);return this.addCallbacks(h,h)},fired:-1});a.when=e.when=g;return a})},
"dojo/store/util/SimpleQueryEngine":function(){define(["../../_base/array"],function(e){return function(i,k){function l(b){var b=e.filter(b,i),c=k&&k.sort;c&&b.sort("function"==typeof c?c:function(b,a){for(var d,h=0;d=c[h];h++){var f=b[d.attribute],e=a[d.attribute];if(f!=e)return!!d.descending==(null==f||f>e)?-1:1}return 0});if(k&&(k.start||k.count)){var f=b.length,b=b.slice(k.start||0,(k.start||0)+(k.count||Infinity));b.total=f}return b}switch(typeof i){default:throw Error("Can not query with a "+
typeof i);case "object":case "undefined":var c=i,i=function(b){for(var e in c){var f=c[e];if(f&&f.test){if(!f.test(b[e],b))return!1}else if(f!=b[e])return!1}return!0};break;case "string":if(!this[i])throw Error("No filter function "+i+" was found in store");i=this[i];case "function":}l.matches=i;return l}})},"dojo/store/Observable":function(){define(["../_base/kernel","../_base/lang","../_base/Deferred","../_base/array"],function(e,i,k,l){e=function(c){function b(d,b){var f=c[d];f&&(c[d]=function(d){if(a)return f.apply(this,
arguments);a=!0;try{var c=f.apply(this,arguments);k.when(c,function(a){b("object"==typeof a&&a||d)});return c}finally{a=!1}})}var e=[],f=0,c=i.delegate(c);c.notify=function(a,b){f++;for(var c=e.slice(),j=0,n=c.length;j<n;j++)c[j](a,b)};var j=c.query;c.query=function(a,b){var b=b||{},p=j.apply(this,arguments);if(p&&p.forEach){var o=i.mixin({},b);delete o.start;delete o.count;var n=c.queryEngine&&c.queryEngine(a,o),m=f,q=[],r;p.observe=function(a,d){1==q.push(a)&&e.push(r=function(a,e){k.when(p,function(g){var j=
g.length!=b.count,p,r;if(++m!=f)throw Error("Query is out of date, you must observe() the query prior to any data modifications");var i,k=-1,o=-1;if(void 0!==e)for(p=0,r=g.length;p<r;p++){var u=g[p];if(c.getIdentity(u)==e){i=u;k=p;(n||!a)&&g.splice(p,1);break}}if(n){if(a&&(n.matches?n.matches(a):n([a]).length))p=-1<k?k:g.length,g.splice(p,0,a),o=l.indexOf(n(g),a),g.splice(p,1),b.start&&0==o||!j&&o==g.length?o=-1:g.splice(o,0,a)}else a&&(void 0!==e?o=k:b.start||(o=c.defaultIndex||0,g.splice(o,0,a)));
if((-1<k||-1<o)&&(d||!n||k!=o)){j=q.slice();for(p=0;g=j[p];p++)g(a||i,k,o)}})});var j={};j.remove=j.cancel=function(){var d=l.indexOf(q,a);-1<d&&(q.splice(d,1),q.length||e.splice(l.indexOf(e,r),1))};return j}}return p};var a;b("put",function(a){c.notify(a,c.getIdentity(a))});b("add",function(a){c.notify(a)});b("remove",function(a){c.notify(void 0,a)});return c};i.setObject("dojo.store.Observable",e);return e})},"dojo/store/JsonRest":function(){define(["../_base/xhr","../_base/lang","../json","../_base/declare",
"./util/QueryResults"],function(e,i,k,l,c){return l("dojo.store.JsonRest",null,{constructor:function(b){this.headers={};l.safeMixin(this,b)},headers:{},target:"",idProperty:"id",get:function(b,c){var c=c||{},f=i.mixin({Accept:this.accepts},this.headers,c.headers||c);return e("GET",{url:this.target+b,handleAs:"json",headers:f})},accepts:"application/javascript, application/json",getIdentity:function(b){return b[this.idProperty]},put:function(b,c){var c=c||{},f="id"in c?c.id:this.getIdentity(b),j="undefined"!=
typeof f;return e(j&&!c.incremental?"PUT":"POST",{url:j?this.target+f:this.target,postData:k.stringify(b),handleAs:"json",headers:i.mixin({"Content-Type":"application/json",Accept:this.accepts,"If-Match":!0===c.overwrite?"*":null,"If-None-Match":!1===c.overwrite?"*":null},this.headers,c.headers)})},add:function(b,c){c=c||{};c.overwrite=!1;return this.put(b,c)},remove:function(b,c){c=c||{};return e("DELETE",{url:this.target+b,headers:i.mixin({},this.headers,c.headers)})},query:function(b,g){var g=
g||{},f=i.mixin({Accept:this.accepts},this.headers,g.headers);if(0<=g.start||0<=g.count)f.Range=f["X-Range"]="items="+(g.start||"0")+"-"+("count"in g&&Infinity!=g.count?g.count+(g.start||0)-1:"");var j=-1<this.target.indexOf("?");b&&"object"==typeof b&&(b=(b=e.objectToQuery(b))?(j?"&":"?")+b:"");if(g&&g.sort){for(var a=this.sortParam,b=b+((b||j?"&":"?")+(a?a+"=":"sort(")),j=0;j<g.sort.length;j++)var d=g.sort[j],b=b+((0<j?",":"")+(d.descending?"-":"+")+encodeURIComponent(d.attribute));a||(b+=")")}var h=
e("GET",{url:this.target+(b||""),handleAs:"json",headers:f});h.total=h.then(function(){var a=h.ioArgs.xhr.getResponseHeader("Content-Range");return a&&(a=a.match(/\/(.*)/))&&+a[1]});return c(h)}})})},"dojo/_base/xhr":function(){define("./kernel,./sniff,require,../io-query,../dom,../dom-form,./Deferred,./config,./json,./lang,./array,../on,../aspect,../request/watch,../request/xhr,../request/util".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m){e._xhrObj=n._create;var q=e.config;e.objectToQuery=
l.objectToQuery;e.queryToObject=l.queryToObject;e.fieldToObject=b.fieldToObject;e.formToObject=b.toObject;e.formToQuery=b.toQuery;e.formToJson=b.toJson;e._blockAsync=!1;var r=e._contentHandlers=e.contentHandlers={text:function(a){return a.responseText},json:function(a){return j.fromJson(a.responseText||null)},"json-comment-filtered":function(a){var a=a.responseText,d=a.indexOf("/*"),b=a.lastIndexOf("*/");if(-1==d||-1==b)throw Error("JSON was not comment filtered");return j.fromJson(a.substring(d+
2,b))},javascript:function(a){return e.eval(a.responseText)},xml:function(a){var b=a.responseXML;if(i("ie")&&(!b||!b.documentElement)){var h=function(a){return"MSXML"+a+".DOMDocument"},h=["Microsoft.XMLDOM",h(6),h(4),h(3),h(2)];d.some(h,function(d){try{var h=new ActiveXObject(d);h.async=!1;h.loadXML(a.responseText);b=h}catch(c){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?r["json-comment-filtered"](a):r.json(a)}};e._ioSetArgs=
function(d,h,f,j){var n={args:d,url:d.url},m=null;if(d.form){var m=c.byId(d.form),p=m.getAttributeNode("action");n.url=n.url||(p?p.value:null);m=b.toObject(m)}p=[{}];m&&p.push(m);d.content&&p.push(d.content);d.preventCache&&p.push({"dojo.preventCache":(new Date).valueOf()});n.query=l.objectToQuery(a.mixin.apply(null,p));n.handleAs=d.handleAs||"text";var r=new g(function(a){a.canceled=!0;h&&h(a);var d=a.ioArgs.error;if(!d)d=Error("request cancelled"),d.dojoType="cancel",a.ioArgs.error=d;return d});
r.addCallback(f);var i=d.load;i&&a.isFunction(i)&&r.addCallback(function(a){return i.call(d,a,n)});var k=d.error;k&&a.isFunction(k)&&r.addErrback(function(a){return k.call(d,a,n)});var o=d.handle;o&&a.isFunction(o)&&r.addBoth(function(a){return o.call(d,a,n)});r.addErrback(function(a){return j(a,r)});q.ioPublish&&e.publish&&!1!==n.args.ioPublish&&(r.addCallbacks(function(a){e.publish("/dojo/io/load",[r,a]);return a},function(a){e.publish("/dojo/io/error",[r,a]);return a}),r.addBoth(function(a){e.publish("/dojo/io/done",
[r,a]);return a}));r.ioArgs=n;return r};var u=function(a){a=r[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},t=function(a){return a},v=function(a){0>=s&&(s=0,q.ioPublish&&e.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&e.publish("/dojo/io/stop"))},s=0;p.after(o,"_onAction",function(){s-=1});p.after(o,"_onInFlight",v);e._ioCancelAll=o.cancelAll;e._ioNotifyStart=function(a){q.ioPublish&&e.publish&&!1!==a.ioArgs.args.ioPublish&&(s||e.publish("/dojo/io/start"),s+=1,e.publish("/dojo/io/send",
[a]))};e._ioWatch=function(d,b,h,c){d.ioArgs.options=d.ioArgs.args;a.mixin(d,{response:d.ioArgs,isValid:function(){return b(d)},isReady:function(){return h(d)},handleResponse:function(){return c(d)}});o(d);v(d)};e._ioAddQueryToUrl=function(a){if(a.query.length)a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null};e.xhr=function(a,d,b){var h,c=e._ioSetArgs(d,function(){h&&h.cancel()},u,t),f=c.ioArgs;"postData"in d?f.query=d.postData:"putData"in d?f.query=d.putData:"rawBody"in d?f.query=d.rawBody:
(2<arguments.length&&!b||-1==="POST|PUT".indexOf(a.toUpperCase()))&&e._ioAddQueryToUrl(f);var g={method:a,handleAs:"text",timeout:d.timeout,withCredentials:d.withCredentials,ioArgs:f};if("undefined"!==typeof d.headers)g.headers=d.headers;if("undefined"!==typeof d.contentType){if(!g.headers)g.headers={};g.headers["Content-Type"]=d.contentType}if("undefined"!==typeof f.query)g.data=f.query;if("undefined"!==typeof d.sync)g.sync=d.sync;e._ioNotifyStart(c);try{h=n(f.url,g,!0)}catch(j){return c.cancel(),
c}c.ioArgs.xhr=h.response.xhr;h.then(function(){c.resolve(c)}).otherwise(function(a){f.error=a;if(a.response)a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr;c.reject(a)});return c};e.xhrGet=function(a){return e.xhr("GET",a)};e.rawXhrPost=e.xhrPost=function(a){return e.xhr("POST",a,!0)};e.rawXhrPut=e.xhrPut=function(a){return e.xhr("PUT",a,!0)};e.xhrDelete=function(a){return e.xhr("DELETE",a)};e._isDocumentOk=function(a){return m.checkStatus(a.status)};e._getText=function(a){var d;
e.xhrGet({url:a,sync:!0,load:function(a){d=a}});return d};a.mixin(e.xhr,{_xhrObj:e._xhrObj,fieldToObject:b.fieldToObject,formToObject:b.toObject,objectToQuery:l.objectToQuery,formToQuery:b.toQuery,formToJson:b.toJson,queryToObject:l.queryToObject,contentHandlers:r,_ioSetArgs:e._ioSetArgs,_ioCancelAll:e._ioCancelAll,_ioNotifyStart:e._ioNotifyStart,_ioWatch:e._ioWatch,_ioAddQueryToUrl:e._ioAddQueryToUrl,_isDocumentOk:e._isDocumentOk,_getText:e._getText,get:e.xhrGet,post:e.xhrPost,put:e.xhrPut,del:e.xhrDelete});
return e.xhr})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(e,i,k){e._name="browser";i.mixin(e,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:k("khtml"),isWebKit:k("webkit"),isMozilla:k("mozilla"),isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:k("android"),isWii:k("wii"),isQuirks:k("quirks"),isAir:k("air")});e.locale=e.locale||(k("ie")?navigator.userLanguage:navigator.language).toLowerCase();
return k})},"dojo/io-query":function(){define("dojo/io-query",["./_base/lang"],function(e){var i={};return{objectToQuery:function(k){var l=encodeURIComponent,c=[],b;for(b in k){var g=k[b];if(g!=i[b]){var f=l(b)+"=";if(e.isArray(g))for(var j=0,a=g.length;j<a;++j)c.push(f+l(g[j]));else c.push(f+l(g))}}return c.join("&")},queryToObject:function(i){for(var l=decodeURIComponent,i=i.split("&"),c={},b,g,f=0,j=i.length;f<j;++f)if(g=i[f],g.length){var a=g.indexOf("=");0>a?(b=l(g),g=""):(b=l(g.slice(0,a)),
g=l(g.slice(a+1)));"string"==typeof c[b]&&(c[b]=[c[b]]);e.isArray(c[b])?c[b].push(g):c[b]=g}return c}}})},"dojo/dom":function(){define("dojo/dom",["./sniff","./_base/window"],function(e,i){if(7>=e("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(k){}var l={};l.byId=e("ie")?function(b,c){if("string"!=typeof b)return b;var f=c||i.doc,e=b&&f.getElementById(b);if(e&&(e.attributes.id.value==b||e.id==b))return e;f=f.all[b];if(!f||f.nodeName)f=[f];for(var a=0;e=f[a++];)if(e.attributes&&
e.attributes.id&&e.attributes.id.value==b||e.id==b)return e}:function(b,c){return("string"==typeof b?(c||i.doc).getElementById(b):b)||null};l.isDescendant=function(b,c){try{b=l.byId(b);for(c=l.byId(c);b;){if(b==c)return!0;b=b.parentNode}}catch(f){}return!1};e.add("css-user-select",function(b,c,f){if(!f)return!1;var b=f.style,c=["Khtml","O","ms","Moz","Webkit"],f=c.length,e="userSelect";do if("undefined"!==typeof b[e])return e;while(f--&&(e=c[f]+"UserSelect"));return!1});var c=e("css-user-select");
l.setSelectable=c?function(b,e){l.byId(b).style[c]=e?"":"none"}:function(b,c){var b=l.byId(b),f=b.getElementsByTagName("*"),e=f.length;if(c)for(b.removeAttribute("unselectable");e--;)f[e].removeAttribute("unselectable");else for(b.setAttribute("unselectable","on");e--;)f[e].setAttribute("unselectable","on")};return l})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(e,i,k){var l={global:e.global,doc:this.document||null,body:function(c){c=c||e.doc;return c.body||c.getElementsByTagName("body")[0]},
setContext:function(c,b){e.global=l.global=c;e.doc=l.doc=b},withGlobal:function(c,b,g,f){var j=e.global;try{return e.global=l.global=c,l.withDoc.call(null,c.document,b,g,f)}finally{e.global=l.global=j}},withDoc:function(c,b,g,f){var j=l.doc,a=k("quirks"),d=k("ie"),h,p,i;try{e.doc=l.doc=c;e.isQuirks=k.add("quirks","BackCompat"==e.doc.compatMode,!0,!0);if(k("ie")&&(i=c.parentWindow)&&i.navigator)h=parseFloat(i.navigator.appVersion.split("MSIE ")[1])||void 0,(p=c.documentMode)&&5!=p&&Math.floor(h)!=
p&&(h=p),e.isIE=k.add("ie",h,!0,!0);g&&"string"==typeof b&&(b=g[b]);return b.apply(g,f||[])}finally{e.doc=l.doc=j,e.isQuirks=k.add("quirks",a,!0,!0),e.isIE=k.add("ie",d,!0,!0)}}};i.mixin(e,l);return l})},"dojo/dom-form":function(){define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(e,i,k,l){var c={fieldToObject:function(b){var c=null;if(b=i.byId(b)){var f=b.name,e=(b.type||"").toLowerCase();if(f&&e&&!b.disabled)if("radio"==e||"checkbox"==e){if(b.checked)c=b.value}else if(b.multiple){c=
[];for(b=[b.firstChild];b.length;)for(f=b.pop();f;f=f.nextSibling)if(1==f.nodeType&&"option"==f.tagName.toLowerCase())f.selected&&c.push(f.value);else{f.nextSibling&&b.push(f.nextSibling);f.firstChild&&b.push(f.firstChild);break}}else c=b.value}return c},toObject:function(b){for(var g={},b=i.byId(b).elements,f=0,j=b.length;f<j;++f){var a=b[f],d=a.name,h=(a.type||"").toLowerCase();if(d&&h&&0>"file|submit|image|reset|button".indexOf(h)&&!a.disabled){var l=g,k=d,a=c.fieldToObject(a);if(null!==a){var n=
l[k];"string"==typeof n?l[k]=[n,a]:e.isArray(n)?n.push(a):l[k]=a}if("image"==h)g[d+".x"]=g[d+".y"]=g[d].x=g[d].y=0}}return g},toQuery:function(b){return k.objectToQuery(c.toObject(b))},toJson:function(b,e){return l.stringify(c.toObject(b),null,e?4:0)}};return c})},"dojo/_base/json":function(){define(["./kernel","../json"],function(e,i){e.fromJson=function(e){return eval("("+e+")")};e._escapeString=i.stringify;e.toJsonIndentStr="\t";e.toJson=function(k,l){return i.stringify(k,function(c,b){if(b){var e=
b.__json__||b.json;if("function"==typeof e)return e.call(b)}return b},l&&e.toJsonIndentStr)};return e})},"dojo/request/watch":function(){define("./util,../errors/RequestTimeoutError,../errors/CancelError,../_base/array,../_base/window,../has!host-browser?dom-addeventlistener?:../on:".split(","),function(e,i,k,l,c,b){function g(){for(var d=+new Date,b=0,c;b<a.length&&(c=a[b]);b++){var e=c.response,g=e.options;if(c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(e))a.splice(b--,1),f._onAction&&f._onAction();
else if(c.isReady&&c.isReady(e))a.splice(b--,1),c.handleResponse(e),f._onAction&&f._onAction();else if(c.startTime&&c.startTime+(g.timeout||0)<d)a.splice(b--,1),c.cancel(new i("Timeout exceeded",e)),f._onAction&&f._onAction()}f._onInFlight&&f._onInFlight(c);a.length||(clearInterval(j),j=null)}function f(d){if(d.response.options.timeout)d.startTime=+new Date;d.isFulfilled()||(a.push(d),j||(j=setInterval(g,50)),d.response.options.sync&&g())}var j=null,a=[];f.cancelAll=function(){try{l.forEach(a,function(a){try{a.cancel(new k("All requests canceled."))}catch(d){}})}catch(d){}};
c&&b&&c.doc.attachEvent&&b(c.global,"unload",function(){f.cancelAll()});return f})},"dojo/request/util":function(){define("exports,../errors/RequestError,../errors/CancelError,../Deferred,../io-query,../_base/array,../_base/lang".split(","),function(e,i,k,l,c,b,g){function f(a){return j(a)}e.deepCopy=function(a,d){for(var b in d){var c=a[b],f=d[b];c!==f&&(c&&"object"===typeof c&&f&&"object"===typeof f?e.deepCopy(c,f):a[b]=f)}return a};e.deepCreate=function(a,d){var d=d||{},b=g.delegate(a),c,f;for(c in a)(f=
a[c])&&"object"===typeof f&&(b[c]=e.deepCreate(f,d[c]));return e.deepCopy(b,d)};var j=Object.freeze||function(a){return a};e.deferred=function(a,d,b,c,o,n){var m=new l(function(b){d&&d(m,a);return!b||!(b instanceof i)&&!(b instanceof k)?new k("Request canceled",a):b});m.response=a;m.isValid=b;m.isReady=c;m.handleResponse=o;b=m.then(f).otherwise(function(d){d.response=a;throw d;});e.notify&&b.then(g.hitch(e.notify,"emit","load"),g.hitch(e.notify,"emit","error"));c=b.then(function(a){return a.data||
a.text});b=j(g.delegate(c,{response:b}));n&&m.then(function(a){n.call(m,a)},function(d){n.call(m,a,d)});m.promise=b;m.then=b.then;return m};e.addCommonMethods=function(a,d){b.forEach(d||["GET","POST","PUT","DELETE"],function(d){a[("DELETE"===d?"DEL":d).toLowerCase()]=function(b,c){c=g.delegate(c||{});c.method=d;return a(b,c)}})};e.parseArgs=function(a,d,b){var f=d.data,e=d.query;if(f&&!b&&"object"===typeof f)d.data=c.objectToQuery(f);e?("object"===typeof e&&(e=c.objectToQuery(e)),d.preventCache&&
(e+=(e?"&":"")+"request.preventCache="+ +new Date)):d.preventCache&&(e="request.preventCache="+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"&":"?")+e);return{url:a,options:d,getHeader:function(){return null}}};e.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}})},"dojo/errors/RequestError":function(){define(["./create"],function(e){return e("RequestError",function(e,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(e,
i){return e("RequestTimeoutError",null,i,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(e,i,k,l,c){function b(a,d){var b=a.xhr;a.status=a.xhr.status;a.text=b.responseText;if("xml"===a.options.handleAs)a.data=b.responseXML;if(!d)try{k(a)}catch(c){d=c}d?this.reject(d):l.checkStatus(b.status)?this.resolve(a):(d=new e("Unable to load "+a.url+" status: "+b.status,a),this.reject(d))}function g(n,q,r){var k=l.parseArgs(n,
l.deepCreate(p,q),c("native-formdata")&&q&&q.data&&q.data instanceof FormData),n=k.url,q=k.options,o,v=l.deferred(k,d,f,j,b,function(){o&&o()}),s=k.xhr=g._create();if(!s)return v.cancel(new e("XHR was not created")),r?v:v.promise;k.getHeader=function(a){return this.xhr.getResponseHeader(a)};a&&(o=a(s,v,k));var z=q.data,y=!q.sync,I=q.method;try{s.open(I,n,y,q.user||h,q.password||h);if(q.withCredentials)s.withCredentials=q.withCredentials;var J=q.headers,N;if(J)for(var E in J)"content-type"===E.toLowerCase()?
N=J[E]:J[E]&&s.setRequestHeader(E,J[E]);N&&!1!==N&&s.setRequestHeader("Content-Type",N);(!J||!("X-Requested-With"in J))&&s.setRequestHeader("X-Requested-With","XMLHttpRequest");l.notify&&l.notify.emit("send",k,v.promise.cancel);s.send(z)}catch(S){v.reject(S)}i(v);s=null;return r?v:v.promise}c.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});c.add("dojo-force-activex-xhr",function(){return c("activex")&&!document.addEventListener&&"file:"===window.location.protocol});c.add("native-xhr2",
function(){if(c("native-xhr")){var a=new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});c.add("native-formdata",function(){return"function"===typeof FormData});var f,j,a,d;c("native-xhr2")?(f=function(){return!this.isFulfilled()},d=function(a,d){d.xhr.abort()},a=function(a,d,b){function c(){d.handleResponse(b)}function h(a){a=new e("Unable to load "+b.url+" status: "+a.target.status,b);d.handleResponse(b,a)}function f(a){if(a.lengthComputable)b.loaded=
a.loaded,b.total=a.total,d.progress(b)}a.addEventListener("load",c,!1);a.addEventListener("error",h,!1);a.addEventListener("progress",f,!1);return function(){a.removeEventListener("load",c,!1);a.removeEventListener("error",h,!1);a.removeEventListener("progress",f,!1)}}):(f=function(a){return a.xhr.readyState},j=function(a){return 4===a.xhr.readyState},d=function(a,d){var b=d.xhr,c=typeof b.abort;("function"===c||"object"===c||"unknown"===c)&&b.abort()});var h,p={data:null,query:null,sync:!1,method:"GET",
headers:{"Content-Type":"application/x-www-form-urlencoded"}};g._create=function(){throw Error("XMLHTTP not available");};if(c("native-xhr")&&!c("dojo-force-activex-xhr"))g._create=function(){return new XMLHttpRequest};else if(c("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),g._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(o){try{new ActiveXObject("Microsoft.XMLHTTP"),g._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(n){}}l.addCommonMethods(g);return g})},
"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has"],function(e,i,k,l){function c(b){var a=f[b.options.handleAs];b.data=a?a(b):b.data||b.text;return b}l.add("activex","undefined"!==typeof ActiveXObject);var b;if(l("activex")){var g=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];b=function(b){var a=b.data;if(!a||!a.documentElement){var d=b.text;k.some(g,function(b){try{var c=new ActiveXObject(b);c.async=
!1;c.loadXML(d);a=c}catch(f){return!1}return!0})}return a}}var f={javascript:function(b){return i.eval(b.text||"")},json:function(b){return e.parse(b.text||null)},xml:b};c.register=function(b,a){f[b]=a};return c})},"dojo/store/Cache":function(){define(["../_base/lang","../_base/Deferred"],function(e,i){var k=function(l,c,b){b=b||{};return e.delegate(l,{query:function(e,f){var j=l.query(e,f);j.forEach(function(a){(!b.isLoaded||b.isLoaded(a))&&c.put(a)});return j},queryEngine:l.queryEngine||c.queryEngine,
get:function(b,f){return i.when(c.get(b),function(e){return e||i.when(l.get(b,f),function(a){a&&c.put(a,{id:b});return a})})},add:function(b,f){return i.when(l.add(b,f),function(e){c.add("object"==typeof e?e:b,f);return e})},put:function(b,f){c.remove(f&&f.id||this.getIdentity(b));return i.when(l.put(b,f),function(e){c.put("object"==typeof e?e:b,f);return e})},remove:function(b,f){return i.when(l.remove(b,f),function(){return c.remove(b,f)})},evict:function(b){return c.remove(b)}})};e.setObject("dojo.store.Cache",
k);return k})},"kk/views/mainView":function(){define("kk/views/mainView","dojo/_base/declare,library/base/mvc/view,dijit/Dialog,kk/views/widgets/kanbanBoard/kanbanBoard,dijit/form/Button,kk/views/widgets/newStory/newStoryDialog,kk/views/widgets/newWorkflow/newWorkflowDialog,kk/views/widgets/menuBar/menuBar,kk/views/widgets/kanbanBoard/trashSource,dojo/dom-style,dojo/query,dojo/topic,dojo/_base/lang,dojo/_base/array,dojo/dom,dojo/dom-class,dojo/on,dojo/NodeList-traverse".split(","),function(e,i,k,
l,c,b,g,f,j,a,d,h,p,o,n,m,q){return e([i],{mainModel:null,outerContainer:"outerContainer",titleBar:"titleBar",newStoryDialog:null,kanbanBoard:{},construct:function(a){land.mixin(this,a)},setupDijits:function(){this.kanbanBoard=(new l({workflowstepsStore:this.mainModel.workflowStore,kanbancardsStore:this.mainModel.storiesStore})).placeAt(this.outerContainer);(new j({workflowstepsStore:this.mainModel.workflowStore,kanbancardsStore:this.mainModel.storiesStore})).placeAt(this.titleBar,"first");this.newStoryDialog=
(new b({store:this.mainModel.workflowStore})).placeAt(this.outerContainer);this.newWorkflowDialog=(new g({store:this.mainModel.workflowStore})).placeAt(this.outerContainer)},setupFinal:function(){},setupConnections:function(){h.subscribe("/kk/newstory",p.hitch(this,this.newStoryDialog.show));h.subscribe("/kk/newworkflow",p.hitch(this,this.newWorkflowDialog.show));q(this.newWorkflowDialog,"submit",p.hitch(this,this.sendNewWorkflow));q(this.newStoryDialog,"submit",p.hitch(this,this.sendNewStory));h.subscribe("/kk/dndNewStory",
p.hitch(this,this.receiveNewStory));h.subscribe("/kk/dndNewWorkflow",p.hitch(this,this.receiveNewWorkflow))},sendNewStory:function(a){h.publish("/kk/newStory",a)},sendNewWorkflow:function(a){h.publish("/kk/newWorkflow",a)},receiveNewStory:function(a){this.kanbanBoard.newNode(a);this.newStoryDialog.cancel()},receiveNewWorkflow:function(){this.newWorkflowDialog.cancel()}})})},"library/base/mvc/view":function(){define("library/base/mvc/view",["dojo/_base/declare","dojo/_base/lang","library/base/getterSetterBase"],
function(e,i,k){return e([k],{setupDom:function(){},setupDijits:function(){},setupConnections:function(){},setupFinal:function(){},init:function(){this.setupDom();this.setupDijits();this.setupConnections();this.setupFinal()},constructor:function(e){i.mixin(this,e);this.init()}})})},"dijit/Dialog":function(){define("require,dojo/_base/array,dojo/_base/connect,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/_base/fx,dojo/i18n,dojo/keys,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/window,dojo/dnd/Moveable,dojo/dnd/TimedMoveable,./focus,./_base/manager,./_Widget,./_TemplatedMixin,./_CssStateMixin,./form/_FormMixin,./_DialogMixin,./DialogUnderlay,./layout/ContentPane,dojo/text!./templates/Dialog.html,./main,dojo/i18n!./nls/common".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q,r,u,t,v,s,z,y,I,J,N,E,S,Q,B){var s=l("dijit._DialogBase",[y,J,N,I],{templateString:Q,baseClass:"dijitDialog",cssStateNodes:{closeButtonNode:"dijitDialogCloseIcon"},_setTitleAttr:[{node:"titleNode",type:"innerHTML"},{node:"titleBar",type:"attribute"}],open:!1,duration:s.defaultDuration,refocus:!0,autofocus:!0,_firstFocusItem:null,_lastFocusItem:null,doLayout:!1,draggable:!0,_setDraggableAttr:function(a){this._set("draggable",a)},"aria-describedby":"",maxRatio:0.9,
postMixInProperties:function(){var a=h.getLocalization("dijit","common");o.mixin(this,a);this.inherited(arguments)},postCreate:function(){j.set(this.domNode,{display:"none",position:"absolute"});this.ownerDocumentBody.appendChild(this.domNode);this.inherited(arguments);this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");this._modalconnects=[]},onLoad:function(){this._position();this.autofocus&&w.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));
this.inherited(arguments)},_onBlur:function(a){this.inherited(arguments);var d=o.hitch(this,function(){this.open&&!this._destroyed&&w.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem))});if("mouse"==a)n.once(this.ownerDocument,"mouseup",d);else d()},_endDrag:function(){var a=f.position(this.domNode),d=r.getBox(this.ownerDocument);a.y=Math.min(Math.max(a.y,0),d.h-a.h);a.x=Math.min(Math.max(a.x,0),d.w-a.w);this._relativePosition=a;this._position()},_setup:function(){var a=
this.domNode;this.titleBar&&this.draggable?(this._moveable=new (6==q("ie")?t:u)(a,{handle:this.titleBar}),this.connect(this._moveable,"onMoveStop","_endDrag")):g.add(a,"dijitDialogFixed");this.underlayAttrs={dialogId:this.id,"class":i.map(this["class"].split(/\s/),function(a){return a+"_underlay"}).join(" "),ownerDocument:this.ownerDocument}},_size:function(){this._checkIfSingleChild();if(this._singleChild){if("undefined"!=typeof this._singleChildOriginalStyle)this._singleChild.domNode.style.cssText=
this._singleChildOriginalStyle,delete this._singleChildOriginalStyle}else j.set(this.containerNode,{width:"auto",height:"auto"});var a=f.position(this.domNode),d=r.getBox(this.ownerDocument);d.w*=this.maxRatio;d.h*=this.maxRatio;if(a.w>=d.w||a.h>=d.h){var b=f.position(this.containerNode),c=Math.min(a.w,d.w)-(a.w-b.w),a=Math.min(a.h,d.h)-(a.h-b.h);if(this._singleChild&&this._singleChild.resize){if("undefined"==typeof this._singleChildOriginalStyle)this._singleChildOriginalStyle=this._singleChild.domNode.style.cssText;
this._singleChild.resize({w:c,h:a})}else j.set(this.containerNode,{width:c+"px",height:a+"px",overflow:"auto",position:"relative"})}else this._singleChild&&this._singleChild.resize&&this._singleChild.resize()},_position:function(){if(!g.contains(this.ownerDocumentBody,"dojoMove")){var a=this.domNode,d=r.getBox(this.ownerDocument),b=this._relativePosition,c=b?null:f.position(a);j.set(a,{left:Math.floor(d.l+(b?b.x:(d.w-c.w)/2))+"px",top:Math.floor(d.t+(b?b.y:(d.h-c.h)/2))+"px"})}},_onKey:function(d){if(d.charOrCode){var b=
d.target;d.charOrCode===p.TAB&&this._getFocusItems(this.domNode);var c=this._firstFocusItem==this._lastFocusItem;if(b==this._firstFocusItem&&d.shiftKey&&d.charOrCode===p.TAB)c||v.focus(this._lastFocusItem),a.stop(d);else if(b==this._lastFocusItem&&d.charOrCode===p.TAB&&!d.shiftKey)c||v.focus(this._firstFocusItem),a.stop(d);else{for(;b;){if(b==this.domNode||g.contains(b,"dijitPopup"))if(d.charOrCode==p.ESCAPE)this.onCancel();else return;b=b.parentNode}if(d.charOrCode!==p.TAB)a.stop(d);else if(!q("opera"))try{this._firstFocusItem.focus()}catch(h){}}}},
show:function(){if(!this.open){this._started||this.startup();if(!this._alreadyInitialized)this._setup(),this._alreadyInitialized=!0;this._fadeOutDeferred&&this._fadeOutDeferred.cancel();var a=r.get(this.ownerDocument);this._modalconnects.push(n(a,"scroll",o.hitch(this,"resize")));this._modalconnects.push(n(this.domNode,k._keypress,o.hitch(this,"_onKey")));j.set(this.domNode,{opacity:0,display:""});this._set("open",!0);this._onShow();this._size();this._position();var b;this._fadeInDeferred=new c(o.hitch(this,
function(){b.stop();delete this._fadeInDeferred}));b=d.fadeIn({node:this.domNode,duration:this.duration,beforeBegin:o.hitch(this,function(){w.show(this,this.underlayAttrs)}),onEnd:o.hitch(this,function(){this.autofocus&&w.isTop(this)&&(this._getFocusItems(this.domNode),v.focus(this._firstFocusItem));this._fadeInDeferred.resolve(!0);delete this._fadeInDeferred})}).play();return this._fadeInDeferred}},hide:function(){if(this._alreadyInitialized&&this.open){this._fadeInDeferred&&this._fadeInDeferred.cancel();
var a;this._fadeOutDeferred=new c(o.hitch(this,function(){a.stop();delete this._fadeOutDeferred}));this._fadeOutDeferred.then(o.hitch(this,"onHide"));a=d.fadeOut({node:this.domNode,duration:this.duration,onEnd:o.hitch(this,function(){this.domNode.style.display="none";w.hide(this);this._fadeOutDeferred.resolve(!0);delete this._fadeOutDeferred})}).play();if(this._scrollConnected)this._scrollConnected=!1;for(var b;b=this._modalconnects.pop();)b.remove();this._relativePosition&&delete this._relativePosition;
this._set("open",!1);return this._fadeOutDeferred}},resize:function(){"none"!=this.domNode.style.display&&(E._singleton&&E._singleton.layout(),this._position(),this._size())},destroy:function(){this._fadeInDeferred&&this._fadeInDeferred.cancel();this._fadeOutDeferred&&this._fadeOutDeferred.cancel();this._moveable&&this._moveable.destroy();for(var a;a=this._modalconnects.pop();)a.remove();w.hide(this);this.inherited(arguments)}}),A=l("dijit.Dialog",[S,s],{});A._DialogBase=s;var w=A._DialogLevelManager=
{_beginZIndex:950,show:function(a,d){x[x.length-1].focus=v.curNode;var b=E._singleton;!b||b._destroyed?b=B._underlay=E._singleton=new E(d):b.set(a.underlayAttrs);var c=x[x.length-1].dialog?x[x.length-1].zIndex+2:A._DialogLevelManager._beginZIndex;1==x.length&&b.show();j.set(E._singleton.domNode,"zIndex",c-1);j.set(a.domNode,"zIndex",c);x.push({dialog:a,underlayAttrs:d,zIndex:c})},hide:function(a){if(x[x.length-1].dialog==a){x.pop();var d=x[x.length-1];E._singleton._destroyed||(1==x.length?E._singleton.hide():
(j.set(E._singleton.domNode,"zIndex",d.zIndex-1),E._singleton.set(d.underlayAttrs)));if(a.refocus){a=d.focus;if(d.dialog&&(!a||!b.isDescendant(a,d.dialog.domNode)))d.dialog._getFocusItems(d.dialog.domNode),a=d.dialog._firstFocusItem;if(a)try{a.focus()}catch(c){}}}else d=i.indexOf(i.map(x,function(a){return a.dialog}),a),-1!=d&&x.splice(d,1)},isTop:function(a){return x[x.length-1].dialog==a}},x=A._dialogStack=[{dialog:null,focus:null,underlayAttrs:null}];q("dijit-legacy-requires")&&m(0,function(){e(["dijit/TooltipDialog"])});
return A})},"dojo/_base/connect":function(){define("./kernel,../on,../topic,../aspect,./event,../mouse,./sniff,./lang,../keys".split(","),function(e,i,k,l,c,b,g,f){function j(a,d,c,h,g){h=f.hitch(c,h);if(!a||!a.addEventListener&&!a.attachEvent)return l.after(a||e.global,d,h,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));if(!a)a=e.global;if(!g)switch(d){case "keypress":d=o;break;case "mouseenter":d=b.enter;break;case "mouseleave":d=b.leave}return i(a,d,h,g)}function a(a){a.keyChar=
a.charCode?String.fromCharCode(a.charCode):"";a.charOrCode=a.keyChar||a.keyCode}g.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(d){}return 0==a.charCode&&!g("opera")});var d={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},h=g("mac")?"metaKey":"ctrlKey",p=function(d,b){var c=f.mixin({},d,b);a(c);c.preventDefault=
function(){d.preventDefault()};c.stopPropagation=function(){d.stopPropagation()};return c},o;o=g("events-keypress-typed")?function(a,b){var c=i(a,"keydown",function(a){var c=a.keyCode,h=13!=c&&32!=c&&(27!=c||!g("ie"))&&(48>c||90<c)&&(96>c||111<c)&&(186>c||192<c)&&(219>c||222<c)&&229!=c;if(h||a.ctrlKey){h=h?0:c;if(a.ctrlKey){if(3==c||13==c)return b.call(a.currentTarget,a);h=95<h&&106>h?h-48:!a.shiftKey&&65<=h&&90>=h?h+32:d[h]||h}c=p(a,{type:"keypress",faux:!0,charCode:h});b.call(a.currentTarget,c);
if(g("ie"))try{a.keyCode=c.keyCode}catch(f){}}}),h=i(a,"keypress",function(a){var d=a.charCode,a=p(a,{charCode:32<=d?d:0,faux:!0});return b.call(this,a)});return{remove:function(){c.remove();h.remove()}}}:g("opera")?function(a,d){return i(a,"keypress",function(a){var b=a.which;3==b&&(b=99);b=32>b&&!a.shiftKey?0:b;a.ctrlKey&&!a.shiftKey&&65<=b&&90>=b&&(b+=32);return d.call(this,p(a,{charCode:b}))})}:function(d,b){return i(d,"keypress",function(d){a(d);return b.call(this,d)})};var n={_keypress:o,connect:function(a,
d,b,c,h){var f=arguments,e=[],g=0;e.push("string"==typeof f[0]?null:f[g++],f[g++]);var n=f[g+1];e.push("string"==typeof n||"function"==typeof n?f[g++]:null,f[g++]);for(n=f.length;g<n;g++)e.push(f[g]);return j.apply(this,e)},disconnect:function(a){a&&a.remove()},subscribe:function(a,d,b){return k.subscribe(a,f.hitch(d,b))},publish:function(a,d){return k.publish.apply(k,[a].concat(d))},connectPublisher:function(a,d,b){var c=function(){n.publish(a,arguments)};return b?n.connect(d,b,c):n.connect(d,c)},
isCopyKey:function(a){return a[h]}};n.unsubscribe=n.disconnect;f.mixin(e,n);return n})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(e,i,k,l){if(i._fixEvent){var c=i._fixEvent;i._fixEvent=function(b,f){(b=c(b,f))&&l.normalizeEvent(b);return b}}var b={fix:function(b,c){return i._fixEvent?i._fixEvent(b,c):b},stop:function(b){k("dom-addeventlistener")||b&&b.preventDefault?(b.preventDefault(),b.stopPropagation()):(b=b||window.event,b.cancelBubble=!0,i._preventDefault.call(b))}};
e.fixEvent=b.fix;e.stopEvent=b.stop;return b})},"dojo/dom-geometry":function(){define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(e,i,k,l){function c(a,d,b,c,f,e){e=e||"px";a=a.style;if(!isNaN(d))a.left=d+e;if(!isNaN(b))a.top=b+e;if(0<=c)a.width=c+e;if(0<=f)a.height=f+e}function b(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function g(a){return"border-box"==f.boxModel||"table"==
a.tagName.toLowerCase()||b(a)}var f={boxModel:"content-box"};if(e("ie"))f.boxModel="BackCompat"==document.compatMode?"border-box":"content-box";f.getPadExtents=function(a,d){var a=k.byId(a),b=d||l.getComputedStyle(a),c=l.toPixelValue,f=c(a,b.paddingLeft),e=c(a,b.paddingTop),g=c(a,b.paddingRight),b=c(a,b.paddingBottom);return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getBorderExtents=function(a,d){var a=k.byId(a),b=l.toPixelValue,c=d||l.getComputedStyle(a),f="none"!=c.borderLeftStyle?b(a,c.borderLeftWidth):
0,e="none"!=c.borderTopStyle?b(a,c.borderTopWidth):0,g="none"!=c.borderRightStyle?b(a,c.borderRightWidth):0,b="none"!=c.borderBottomStyle?b(a,c.borderBottomWidth):0;return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getPadBorderExtents=function(a,d){var a=k.byId(a),b=d||l.getComputedStyle(a),c=f.getPadExtents(a,b),b=f.getBorderExtents(a,b);return{l:c.l+b.l,t:c.t+b.t,r:c.r+b.r,b:c.b+b.b,w:c.w+b.w,h:c.h+b.h}};f.getMarginExtents=function(a,d){var a=k.byId(a),b=d||l.getComputedStyle(a),c=l.toPixelValue,f=c(a,b.marginLeft),
e=c(a,b.marginTop),g=c(a,b.marginRight),b=c(a,b.marginBottom);return{l:f,t:e,r:g,b:b,w:f+g,h:e+b}};f.getMarginBox=function(a,d){var a=k.byId(a),b=d||l.getComputedStyle(a),c=f.getMarginExtents(a,b),g=a.offsetLeft-c.l,j=a.offsetTop-c.t,m=a.parentNode,i=l.toPixelValue;if(e("mozilla")){var r=parseFloat(b.left),b=parseFloat(b.top);!isNaN(r)&&!isNaN(b)?(g=r,j=b):m&&m.style&&(m=l.getComputedStyle(m),"visible"!=m.overflow&&(g+="none"!=m.borderLeftStyle?i(a,m.borderLeftWidth):0,j+="none"!=m.borderTopStyle?
i(a,m.borderTopWidth):0))}else if((e("opera")||8==e("ie")&&!e("quirks"))&&m)m=l.getComputedStyle(m),g-="none"!=m.borderLeftStyle?i(a,m.borderLeftWidth):0,j-="none"!=m.borderTopStyle?i(a,m.borderTopWidth):0;return{l:g,t:j,w:a.offsetWidth+c.w,h:a.offsetHeight+c.h}};f.getContentBox=function(a,d){var a=k.byId(a),b=d||l.getComputedStyle(a),c=a.clientWidth,g=f.getPadExtents(a,b),j=f.getBorderExtents(a,b);c?(b=a.clientHeight,j.w=j.h=0):(c=a.offsetWidth,b=a.offsetHeight);e("opera")&&(g.l+=j.l,g.t+=j.t);return{l:g.l,
t:g.t,w:c-g.w-j.w,h:b-g.h-j.h}};f.setContentSize=function(a,b,h){var a=k.byId(a),e=b.w,b=b.h;g(a)&&(h=f.getPadBorderExtents(a,h),0<=e&&(e+=h.w),0<=b&&(b+=h.h));c(a,NaN,NaN,e,b)};var j={l:0,t:0,w:0,h:0};f.setMarginBox=function(a,d,h){var a=k.byId(a),i=h||l.getComputedStyle(a),h=d.w,o=d.h,n=g(a)?j:f.getPadBorderExtents(a,i),i=f.getMarginExtents(a,i);if(e("webkit")&&b(a)){var m=a.style;if(0<=h&&!m.width)m.width="4px";if(0<=o&&!m.height)m.height="4px"}0<=h&&(h=Math.max(h-n.w-i.w,0));0<=o&&(o=Math.max(o-
n.h-i.h,0));c(a,d.l,d.t,h,o)};f.isBodyLtr=function(a){a=a||i.doc;return"ltr"==(i.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};f.docScroll=function(a){var a=a||i.doc,b=i.doc.parentWindow||i.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=e("quirks")?i.body(a):a.documentElement)&&{x:f.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};if(e("ie"))f.getIeDocumentElementOffset=function(a){a=a||i.doc;a=a.documentElement;if(8>e("ie")){var b=a.getBoundingClientRect(),
c=b.left,b=b.top;7>e("ie")&&(c+=a.clientLeft,b+=a.clientTop);return{x:0>c?0:c,y:0>b?0:b}}return{x:0,y:0}};f.fixIeBiDiScrollLeft=function(a,b){var b=b||i.doc,c=e("ie");if(c&&!f.isBodyLtr(b)){var g=e("quirks"),j=g?i.body(b):b.documentElement,l=i.global;6==c&&!g&&l.frameElement&&j.scrollHeight>j.clientHeight&&(a+=j.clientLeft);return 8>c||g?a+j.clientWidth-j.scrollWidth:-a}return a};f.position=function(a,b){var a=k.byId(a),c=i.body(a.ownerDocument),g=a.getBoundingClientRect(),g={x:g.left,y:g.top,w:g.right-
g.left,h:g.bottom-g.top};if(9>e("ie")){var j=f.getIeDocumentElementOffset(a.ownerDocument);g.x-=j.x+(e("quirks")?c.clientLeft+c.offsetLeft:0);g.y-=j.y+(e("quirks")?c.clientTop+c.offsetTop:0)}b&&(c=f.docScroll(a.ownerDocument),g.x+=c.x,g.y+=c.y);return g};f.getMarginSize=function(a,b){var a=k.byId(a),c=f.getMarginExtents(a,b||l.getComputedStyle(a)),e=a.getBoundingClientRect();return{w:e.right-e.left+c.w,h:e.bottom-e.top+c.h}};f.normalizeEvent=function(a){if(!("layerX"in a))a.layerX=a.offsetX,a.layerY=
a.offsetY;if(!e("dom-addeventlistener")){var b=a.target,b=b&&b.ownerDocument||document,c=e("quirks")?b.body:b.documentElement,g=f.getIeDocumentElementOffset(b);a.pageX=a.clientX+f.fixIeBiDiScrollLeft(c.scrollLeft||0,b)-g.x;a.pageY=a.clientY+(c.scrollTop||0)-g.y}};return f})},"dojo/dom-style":function(){define(["./sniff","./dom"],function(e,i){function k(c,f,h){f=f.toLowerCase();if(e("ie")){if("auto"==h){if("height"==f)return c.offsetHeight;if("width"==f)return c.offsetWidth}if("fontweight"==f)switch(h){case 700:return"bold";
default:return"normal"}}f in a||(a[f]=d.test(f));return a[f]?b(c,h):h}var l,c={};l=e("webkit")?function(a){var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);if(!b&&a.style)a.style.display="",b=d.getComputedStyle(a,null)}return b||{}}:e("ie")&&(9>e("ie")||e("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return 1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}};c.getComputedStyle=l;var b;b=e("ie")?function(a,
b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,c=a.runtimeStyle,f=d.left,h=c.left;c.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(e){b=0}d.left=f;c.left=h;return b}:function(a,b){return parseFloat(b)||0};c.toPixelValue=b;var g=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(d){return b?{}:null}},f=9>e("ie")||10>e("ie")&&e("quirks")?function(a){try{return g(a).Opacity/100}catch(b){return 1}}:function(a){return l(a).opacity},
j=9>e("ie")||10>e("ie")&&e("quirks")?function(a,b){var d=100*b,c=1==b;a.style.zoom=c?"":1;if(g(a))g(a,1).Opacity=d;else{if(c)return b;a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+d+")"}g(a,1).Enabled=!c;if("tr"==a.tagName.toLowerCase())for(d=a.firstChild;d;d=d.nextSibling)"td"==d.tagName.toLowerCase()&&j(d,b);return b}:function(a,b){return a.style.opacity=b},a={left:!0,top:!0},d=/margin|padding|width|height|max|min|offset/,h=e("ie")?"styleFloat":"cssFloat",p={cssFloat:h,styleFloat:h,
"float":h};c.get=function(a,b){var d=i.byId(a),h=arguments.length;if(2==h&&"opacity"==b)return f(d);var b=p[b]||b,e=c.getComputedStyle(d);return 1==h?e:k(d,b,e[b]||d.style[b])};c.set=function(a,b,d){var f=i.byId(a),h=arguments.length,e="opacity"==b,b=p[b]||b;if(3==h)return e?j(f,d):f.style[b]=d;for(var g in b)c.set(a,g,b[g]);return c.getComputedStyle(f)};return c})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(e,i,k,l,c){function b(c,f){var e=
function(a,b){return i(a,c,function(c){if(f)return f(c,b);if(!l.isDescendant(c.relatedTarget,a))return b.call(this,c)})};e.bubble=function(a){return b(c,function(b,c){var f=a(b.target),e=b.relatedTarget;if(f&&f!=(e&&1==e.nodeType&&a(e)))return c.call(f,b)})};return e}k.add("dom-quirks",c.doc&&"BackCompat"==c.doc.compatMode);k.add("events-mouseenter",c.doc&&"onmouseenter"in c.doc.createElement("div"));k.add("events-mousewheel",c.doc&&"onmousewheel"in c.doc);c=k("dom-quirks")&&k("ie")||!k("dom-addeventlistener")?
{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(b,c){return b.button&c},isLeft:function(b){return b.button&1},isMiddle:function(b){return b.button&4},isRight:function(b){return b.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(b,c){return b.button==c},isLeft:function(b){return 0==b.button},isMiddle:function(b){return 1==b.button},isRight:function(b){return 2==b.button}};e.mouseButtons=c;e=k("events-mousewheel")?"mousewheel":function(b,c){return i(b,"DOMMouseScroll",function(b){b.wheelDelta=-b.detail;
c.call(this,b)})};return{_eventHandler:b,enter:b("mouseover"),leave:b("mouseout"),wheel:e,isLeft:c.isLeft,isMiddle:c.isMiddle,isRight:c.isRight}})},"dojo/keys":function(){define("dojo/keys",["./_base/kernel","./sniff"],function(e,i){return e.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:i("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:i("mac")&&!i("air")?i("safari")?91:224:17}})},
"dojo/dom-class":function(){define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(e,i,k){function l(c){if("string"==typeof c||c instanceof String){if(c&&!b.test(c))return g[0]=c,g;c=c.split(b);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return!c?[]:i.filter(c,function(a){return a})}var c,b=/\s+/,g=[""],f={};return c={contains:function(b,a){return 0<=(" "+k.byId(b).className+" ").indexOf(" "+a+" ")},add:function(b,a){var b=k.byId(b),a=l(a),d=b.className,
c,d=d?" "+d+" ":" ";c=d.length;for(var f=0,e=a.length,g;f<e;++f)(g=a[f])&&0>d.indexOf(" "+g+" ")&&(d+=g+" ");c<d.length&&(b.className=d.substr(1,d.length-2))},remove:function(b,a){var b=k.byId(b),d;if(void 0!==a){a=l(a);d=" "+b.className+" ";for(var c=0,f=a.length;c<f;++c)d=d.replace(" "+a[c]+" "," ");d=e.trim(d)}else d="";b.className!=d&&(b.className=d)},replace:function(b,a,d){b=k.byId(b);f.className=b.className;c.remove(f,d);c.add(f,a);b.className!==f.className&&(b.className=f.className)},toggle:function(b,
a,d){b=k.byId(b);if(void 0===d)for(var a=l(a),f=0,e=a.length,g;f<e;++f)g=a[f],c[c.contains(b,g)?"remove":"add"](b,g);else c[d?"add":"remove"](b,a);return d}}})},"dojo/_base/fx":function(){define("./kernel,./config,./lang,../Evented,./Color,./connect,./sniff,../dom,../dom-style".split(","),function(e,i,k,l,c,b,g,f,j){var a=k.mixin,d={},h=d._Line=function(a,b){this.start=a;this.end=b};h.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};var p=d.Animation=function(b){a(this,b);
if(k.isArray(this.curve))this.curve=new h(this.curve[0],this.curve[1])};p.prototype=new l;k.extend(p,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var a=this._percent,b=this.easing;return b?b(a):a},_fire:function(a,b){var d=b||[];if(this[a])if(i.debugAtAllCosts)this[a].apply(this,d);else try{this[a].apply(this,d)}catch(c){}return this},play:function(a,b){this._delayTimer&&this._clearTimer();if(b)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&
!this._paused)return this;this._fire("beforeBegin",[this.node]);var d=a||this.delay,c=k.hitch(this,"_play",b);if(0<d)return this._delayTimer=setTimeout(c,d),this;c();return this},_play:function(){this._delayTimer&&this._clearTimer();this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;var a=this.curve.getValue(this._getStep());if(!this._percent){if(!this._startRepeatCount)this._startRepeatCount=this.repeat;this._fire("onBegin",
[a])}this._fire("onPlay",[a]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);return this},gotoPercent:function(a,b){this._stopTimer();this._active=this._paused=!0;this._percent=a;b&&this.play();return this},stop:function(a){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();if(a)this._percent=1;this._fire("onStop",
[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var a=(new Date).valueOf(),a=0===this.duration?1:(a-this._startTime)/this.duration;1<=a&&(a=1);this._percent=a;this.easing&&(a=this.easing(a));this._fire("onAnimate",[this.curve.getValue(a)]);if(1>this._percent)this._startTimer();else{this._active=!1;if(0<this.repeat)this.repeat--,this.play(null,!0);else if(-1==
this.repeat)this.play(null,!0);else if(this._startRepeatCount)this.repeat=this._startRepeatCount,this._startRepeatCount=0;this._percent=0;this._fire("onEnd",[this.node]);!this.repeat&&this._stopTimer()}}return this},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var o=0,n=null,m={run:function(){}};k.extend(p,{_startTimer:function(){if(!this._timer)this._timer=b.connect(m,"run",this,"_cycle"),o++;n||(n=setInterval(k.hitch(m,"run"),this.rate))},_stopTimer:function(){if(this._timer)b.disconnect(this._timer),
this._timer=null,o--;0>=o&&(clearInterval(n),n=null,o=0)}});var q=g("ie")?function(a){var b=a.style;if(!b.width.length&&"auto"==j.get(a,"width"))b.width="auto"}:function(){};d._fade=function(c){c.node=f.byId(c.node);var h=a({properties:{}},c),c=h.properties.opacity={};c.start=!("start"in h)?function(){return+j.get(h.node,"opacity")||0}:h.start;c.end=h.end;c=d.animateProperty(h);b.connect(c,"beforeBegin",k.partial(q,h.node));return c};d.fadeIn=function(b){return d._fade(a({end:1},b))};d.fadeOut=function(b){return d._fade(a({end:0},
b))};d._defaultEasing=function(a){return 0.5+Math.sin((a+1.5)*Math.PI)/2};var r=function(a){this._properties=a;for(var b in a){var d=a[b];if(d.start instanceof c)d.tempColor=new c}};r.prototype.getValue=function(a){var b={},d;for(d in this._properties){var f=this._properties[d],h=f.start;h instanceof c?b[d]=c.blendColors(h,f.end,a,f.tempColor).toCss():k.isArray(h)||(b[d]=(f.end-h)*a+h+("opacity"!=d?f.units||"px":0))}return b};d.animateProperty=function(d){var h=d.node=f.byId(d.node);if(!d.easing)d.easing=
e._defaultEasing;d=new p(d);b.connect(d,"beforeBegin",d,function(){var b={},d;for(d in this.properties){if("width"==d||"height"==d)this.node.display="block";var f=this.properties[d];k.isFunction(f)&&(f=f(h));f=b[d]=a({},k.isObject(f)?f:{end:f});if(k.isFunction(f.start))f.start=f.start(h);if(k.isFunction(f.end))f.end=f.end(h);var e=0<=d.toLowerCase().indexOf("color"),g=function(a,b){var d={height:a.offsetHeight,width:a.offsetWidth}[b];if(void 0!==d)return d;d=j.get(a,b);return"opacity"==b?+d:e?d:parseFloat(d)};
if("end"in f){if(!("start"in f))f.start=g(h,d)}else f.end=g(h,d);e?(f.start=new c(f.start),f.end=new c(f.end)):f.start="opacity"==d?+f.start:parseFloat(f.start)}this.curve=new r(b)});b.connect(d,"onAnimate",k.hitch(j,"set",d.node));return d};d.anim=function(a,b,c,f,h,e){return d.animateProperty({node:a,duration:c||p.prototype.duration,properties:b,easing:f,onEnd:h}).play(e||0)};a(e,d);e._Animation=p;return d})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(e,
i,k,l){var c=e.Color=function(b){b&&this.setColor(b)};c.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:l.transparentColor||[0,0,0,0]};i.extend(c,{r:255,g:255,b:255,a:1,_set:function(b,c,f,e){this.r=b;this.g=c;this.b=f;this.a=e},setColor:function(b){i.isString(b)?
c.fromString(b,this):i.isArray(b)?c.fromArray(b,this):(this._set(b.r,b.g,b.b,b.a),b instanceof c||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(b){b=this[b].toString(16);return 2>b.length?"0"+b:b},this).join("")},toCss:function(b){var c=this.r+", "+this.g+", "+this.b;return(b?"rgba("+c+", "+this.a:"rgb("+c)+")"},toString:function(){return this.toCss(!0)}});
c.blendColors=e.blendColors=function(b,e,f,j){var a=j||new c;k.forEach(["r","g","b","a"],function(d){a[d]=b[d]+(e[d]-b[d])*f;"a"!=d&&(a[d]=Math.round(a[d]))});return a.sanitize()};c.fromRgb=e.colorFromRgb=function(b,e){var f=b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return f&&c.fromArray(f[1].split(/\s*,\s*/),e)};c.fromHex=e.colorFromHex=function(b,e){var f=e||new c,j=4==b.length?4:8,a=(1<<j)-1,b=Number("0x"+b.substr(1));if(isNaN(b))return null;k.forEach(["b","g","r"],function(d){var c=b&a;
b>>=j;f[d]=4==j?17*c:c});f.a=1;return f};c.fromArray=e.colorFromArray=function(b,e){var f=e||new c;f._set(Number(b[0]),Number(b[1]),Number(b[2]),Number(b[3]));if(isNaN(f.a))f.a=1;return f.sanitize()};c.fromString=e.colorFromString=function(b,e){var f=c.named[b];return f&&c.fromArray(f,e)||c.fromRgb(b,e)||c.fromHex(b,e)};return c})},"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(e,i,k,l,c,b,g,f,j){k.add("dojo-preload-i18n-Api",
1);var g=e.i18n={},a=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,d=function(a,b,d,c){for(var f=[d+c],b=b.split("-"),h="",e=0;e<b.length;e++)h+=(h?"-":"")+b[e],(!a||a[h])&&f.push(d+h+"/"+c);return f},h={},p=function(a,b,d){d=d?d.toLowerCase():e.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b};e.getL10nName=function(a,b,d){return j.id+"!"+p(a,b,d)};var o=function(a,c,f,e,g,j){a([c],function(l){var n=b.clone(l.root),i=d(!l._v1x&&l,g,f,e);a(i,function(){for(var a=
1;a<i.length;a++)n=b.mixin(b.clone(n),arguments[a]);h[c+"/"+g]=n;j()})})},n=function(a){var d=c.extraLocale||[],d=b.isArray(d)?d:[d];d.push(a);return d},m=function(d,c,g){if(k("dojo-preload-i18n-Api")){var j=d.split("*"),i="preload"==j[1];i&&(h[d]||(h[d]=1,v(j[2],f.parse(j[3]),1,c)),g(1));if(!(j=i))u&&t.push([d,c,g]),j=u;if(j)return}var d=a.exec(d),m=d[1]+"/",q=d[5]||d[4],r=m+q,j=(d=d[5]&&d[4])||e.locale,p=r+"/"+j,d=d?[j]:n(j),z=d.length,y=function(){--z||g(b.delegate(h[p]))};l.forEach(d,function(a){var b=
r+"/"+a;k("dojo-preload-i18n-Api")&&s(b);h[b]?y():o(c,r,m,q,a,y)})};if(k("dojo-unit-tests"))var q=g.unitTests=[];k("dojo-preload-i18n-Api");var r=g.normalizeLocale=function(a){a=a?a.toLowerCase():e.locale;return"root"==a?"ROOT":a},u=0,t=[],v=g._preloadLocalizations=function(a,b,d,c){function f(a,b){c([a],b)}function g(a,b){for(var d=a.split("-");d.length;){if(b(d.join("-")))return;d.pop()}b("ROOT")}function j(d){d=r(d);g(d,function(d){if(0<=l.indexOf(b,d)){var c=a.replace(/\./g,"/")+"_"+d;u++;f(c,
function(a){for(var b in a)h[i.toAbsMid(b)+"/"+d]=a[b];for(--u;!u&&t.length;)m.apply(null,t.shift())});return!0}return!1})}c=c||i;j();l.forEach(e.config.extraLocale,j)},s=function(){},z={},y=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue","var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),
s=function(a){for(var b,d=a.split("/"),c=e.global[d[0]],f=1;c&&f<d.length-1;c=c[d[f++]]);c&&((b=c[d[f]])||(b=c[d[f].replace(/-/g,"_")]),b&&(h[a]=b));return b};g.getLocalization=function(a,b,d){var c,a=p(a,b,d);m(a,i,function(a){c=a});return c};k("dojo-unit-tests")&&q.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=y("{prop:1}",s,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=y("({prop:1})",s,"nonsense",z);a.is({prop:1},b);a.is(void 0,b[1]);b=y("{'prop-x':1}",s,"nonsense",z);
a.is({"prop-x":1},b);a.is(void 0,b[1]);b=y("({'prop-x':1})",s,"nonsense",z);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=y("define({'prop-x':1})",s,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=y("define('some/module', {'prop-x':1})",s,"nonsense",z);a.is(z,b);a.is({"prop-x":1},z.result);b=y("this is total nonsense and should throw an error",s,"nonsense",z);a.is(b instanceof Error,!0)})});return b.mixin(g,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:m,cache:h})})},"dojo/window":function(){define("dojo/window",
"./_base/lang,./sniff,./_base/window,./dom,./dom-geometry,./dom-style".split(","),function(e,i,k,l,c,b){var g={getBox:function(b){var b=b||k.doc,e="BackCompat"==b.compatMode?k.body(b):b.documentElement,a=c.docScroll(b);if(i("touch"))var d=g.get(b),b=d.innerWidth||e.clientWidth,e=d.innerHeight||e.clientHeight;else b=e.clientWidth,e=e.clientHeight;return{l:a.x,t:a.y,w:b,h:e}},get:function(b){if(i("ie")&&g!==document.parentWindow){b.parentWindow.execScript("document._parentWindow = window;","Javascript");
var c=b._parentWindow;b._parentWindow=null;return c}return b.parentWindow||b.defaultView},scrollIntoView:function(f,e){try{var f=l.byId(f),a=f.ownerDocument||k.doc,d=k.body(a),h=a.documentElement||d.parentNode,g=i("ie"),o=i("webkit");if((!i("mozilla")&&!g&&!o&&!i("opera")||f==d||f==h)&&"undefined"!=typeof f.scrollIntoView)f.scrollIntoView(!1);else{var n="BackCompat"==a.compatMode,m=9<=g&&"frameElement"in f.ownerDocument.parentWindow?0<h.clientHeight&&0<h.clientWidth&&(0==d.clientHeight||0==d.clientWidth||
d.clientHeight>h.clientHeight||d.clientWidth>h.clientWidth)?h:d:n?d:h,o=o?d:m,q=m.clientWidth,r=m.clientHeight,u=!c.isBodyLtr(a),t=e||c.position(f),v=f.parentNode,a=function(a){return 6>=g||g&&n?!1:"fixed"==b.get(a,"position").toLowerCase()};if(!a(f))for(;v;){v==d&&(v=o);var s=c.position(v),z=a(v);if(v==o){s.w=q;s.h=r;o==h&&g&&u&&(s.x+=o.offsetWidth-s.w);if(0>s.x||!g)s.x=0;if(0>s.y||!g)s.y=0}else{var y=c.getPadBorderExtents(v);s.w-=y.w;s.h-=y.h;s.x+=y.l;s.y+=y.t;var I=v.clientWidth,J=s.w-I;if(0<I&&
0<J)s.w=I,s.x+=u&&(g||v.clientLeft>y.l)?J:0;I=v.clientHeight;J=s.h-I;if(0<I&&0<J)s.h=I}if(z){if(0>s.y)s.h+=s.y,s.y=0;if(0>s.x)s.w+=s.x,s.x=0;if(s.y+s.h>r)s.h=r-s.y;if(s.x+s.w>q)s.w=q-s.x}var N=t.x-s.x,E=t.y-Math.max(s.y,0),S=N+t.w-s.w,Q=E+t.h-s.h;if(0<S*N){var B=Math[0>N?"max":"min"](N,S);if(u&&(8==g&&!n||9<=g))B=-B;t.x+=v.scrollLeft;v.scrollLeft+=B;t.x-=v.scrollLeft}0<Q*E&&(t.y+=v.scrollTop,v.scrollTop+=Math[0>E?"max":"min"](E,Q),t.y-=v.scrollTop);v=v!=o&&!z&&v.parentNode}}}catch(A){f.scrollIntoView(!1)}}};
e.setObject("dojo.window",g);return g})},"dojo/dnd/Moveable":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../dom,../dom-class,../Evented,../on,../topic,../touch,./common,./Mover,../_base/window".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p){return i("dojo.dnd.Moveable",[g],{handle:"",delay:0,skip:!1,constructor:function(b,d){this.node=c.byId(b);d||(d={});this.handle=d.handle?c.byId(d.handle):null;if(!this.handle)this.handle=this.node;this.delay=0<d.delay?d.delay:
0;this.skip=d.skip;this.mover=d.mover?d.mover:h;this.events=[f(this.handle,a.press,l.hitch(this,"onMouseDown")),f(this.handle,"dragstart",l.hitch(this,"onSelectStart")),f(this.handle,"selectstart",l.hitch(this,"onSelectStart"))]},markupFactory:function(a,b,d){return new d(b,a)},destroy:function(){e.forEach(this.events,function(a){a.remove()});this.events=this.node=this.handle=null},onMouseDown:function(b){if(!this.skip||!d.isFormElement(b)){if(this.delay)this.events.push(f(this.handle,a.move,l.hitch(this,
"onMouseMove")),f(this.handle,a.release,l.hitch(this,"onMouseUp"))),this._lastX=b.pageX,this._lastY=b.pageY;else this.onDragDetected(b);k.stop(b)}},onMouseMove:function(a){if(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)this.onMouseUp(a),this.onDragDetected(a);k.stop(a)},onMouseUp:function(a){for(var b=0;2>b;++b)this.events.pop().remove();k.stop(a)},onSelectStart:function(a){(!this.skip||!d.isFormElement(a))&&k.stop(a)},onDragDetected:function(a){new this.mover(this.node,
a,this)},onMoveStart:function(a){j.publish("/dnd/move/start",a);b.add(p.body(),"dojoMove");b.add(this.node,"dojoMoveItem")},onMoveStop:function(a){j.publish("/dnd/move/stop",a);b.remove(p.body(),"dojoMove");b.remove(this.node,"dojoMoveItem")},onFirstMove:function(){},onMove:function(a,b){this.onMoving(a,b);var d=a.node.style;d.left=b.l+"px";d.top=b.t+"px";this.onMoved(a,b)},onMoving:function(){},onMoved:function(){}})})},"dojo/touch":function(){define("dojo/touch","./_base/kernel,./aspect,./dom,./on,./has,./mouse,./ready,./_base/window".split(","),
function(e,i,k,l,c,b,g,f){function j(a){return function(b,d){return l(b,a,d)}}var i=c("touch"),a=!1;c("ios")&&(c=navigator.userAgent.match(/OS ([\d_]+)/)?RegExp.$1:"1",a=5>parseFloat(c.replace(/_/,".").replace(/_/g,"")));var d,h;i&&(g(function(){h=f.body();f.doc.addEventListener("touchstart",function(a){var b=h;h=a.target;l.emit(b,"dojotouchout",{target:b,relatedTarget:h,bubbles:!0});l.emit(h,"dojotouchover",{target:h,relatedTarget:b,bubbles:!0})},!0);l(f.doc,"touchmove",function(b){if((b=f.doc.elementFromPoint(b.pageX-
(a?0:f.global.pageXOffset),b.pageY-(a?0:f.global.pageYOffset)))&&h!==b)l.emit(h,"dojotouchout",{target:h,relatedTarget:b,bubbles:!0}),l.emit(b,"dojotouchover",{target:b,relatedTarget:h,bubbles:!0}),h=b})}),d=function(a,b){return l(f.doc,"touchmove",function(d){if(a===f.doc||k.isDescendant(h,a))d.target=h,b.call(this,d)})});b={press:j(i?"touchstart":"mousedown"),move:i?d:j("mousemove"),release:j(i?"touchend":"mouseup"),cancel:i?j("touchcancel"):b.leave,over:j(i?"dojotouchover":"mouseover"),out:j(i?
"dojotouchout":"mouseout"),enter:b._eventHandler(i?"dojotouchover":"mouseover"),leave:b._eventHandler(i?"dojotouchout":"mouseout")};return e.touch=b})},"dojo/dnd/common":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../dom"],function(e,i,k,l){var c=k.getObject("dojo.dnd",!0);c.getCopyKeyState=e.isCopyKey;c._uniqueId=0;c.getUniqueId=function(){var b;do b=i._scopeName+"Unique"+ ++c._uniqueId;while(l.byId(b));return b};c._empty={};c.isFormElement=function(b){b=b.target;if(3==
b.nodeType)b=b.parentNode;return 0<=" button textarea input select option ".indexOf(" "+b.tagName.toLowerCase()+" ")};return c})},"dojo/dnd/Mover":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../sniff,../_base/window,../dom,../dom-geometry,../dom-style,../Evented,../on,../touch,./common,./autoscroll".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o){return i("dojo.dnd.Mover",[a],{constructor:function(a,b,c){this.node=g.byId(a);this.marginBox={l:b.pageX,t:b.pageY};
this.mouseButton=b.button;b=this.host=c;a=a.ownerDocument;this.events=[d(a,h.move,l.hitch(this,"onFirstMove")),d(a,h.move,l.hitch(this,"onMouseMove")),d(a,h.release,l.hitch(this,"onMouseUp")),d(a,"dragstart",k.stop),d(a.body,"selectstart",k.stop)];o.autoScrollStart(a);if(b&&b.onMoveStart)b.onMoveStart(this)},onMouseMove:function(a){o.autoScroll(a);var b=this.marginBox;this.host.onMove(this,{l:b.l+a.pageX,t:b.t+a.pageY},a);k.stop(a)},onMouseUp:function(a){(c("webkit")&&c("mac")&&2==this.mouseButton?
0==a.button:this.mouseButton==a.button)&&this.destroy();k.stop(a)},onFirstMove:function(a){var d=this.node.style,c,h=this.host;switch(d.position){case "relative":case "absolute":c=Math.round(parseFloat(d.left))||0;d=Math.round(parseFloat(d.top))||0;break;default:d.position="absolute";d=f.getMarginBox(this.node);c=b.doc.body;var e=j.getComputedStyle(c),g=f.getMarginBox(c,e),e=f.getContentBox(c,e);c=d.l-(e.l-g.l);d=d.t-(e.t-g.t)}this.marginBox.l=c-this.marginBox.l;this.marginBox.t=d-this.marginBox.t;
if(h&&h.onFirstMove)h.onFirstMove(this,a);this.events.shift().remove()},destroy:function(){e.forEach(this.events,function(a){a.remove()});var a=this.host;if(a&&a.onMoveStop)a.onMoveStop(this);this.events=this.node=this.host=null}})})},"dojo/dnd/autoscroll":function(){define("../_base/lang,../sniff,../_base/window,../dom-geometry,../dom-style,../window".split(","),function(e,i,k,l,c,b){var g={};e.setObject("dojo.dnd.autoscroll",g);g.getViewport=b.getBox;g.V_TRIGGER_AUTOSCROLL=32;g.H_TRIGGER_AUTOSCROLL=
32;g.V_AUTOSCROLL_VALUE=16;g.H_AUTOSCROLL_VALUE=16;var f,j=k.doc,a=Infinity,d=Infinity;g.autoScrollStart=function(c){j=c;f=b.getBox(j);c=k.body(j).parentNode;a=Math.max(c.scrollHeight-f.h,0);d=Math.max(c.scrollWidth-f.w,0)};g.autoScroll=function(c){var e=f||b.getBox(j),l=k.body(j).parentNode,i=0,m=0;c.clientX<g.H_TRIGGER_AUTOSCROLL?i=-g.H_AUTOSCROLL_VALUE:c.clientX>e.w-g.H_TRIGGER_AUTOSCROLL&&(i=Math.min(g.H_AUTOSCROLL_VALUE,d-l.scrollLeft));c.clientY<g.V_TRIGGER_AUTOSCROLL?m=-g.V_AUTOSCROLL_VALUE:
c.clientY>e.h-g.V_TRIGGER_AUTOSCROLL&&(m=Math.min(g.V_AUTOSCROLL_VALUE,a-l.scrollTop));window.scrollBy(i,m)};g._validNodes={div:1,p:1,td:1};g._validOverflow={auto:1,scroll:1};g.autoScrollNodes=function(a){for(var b,d,f,e,j,r,u=0,t=0,v=a.target;v;){if(1==v.nodeType&&v.tagName.toLowerCase()in g._validNodes){f=c.getComputedStyle(v);e=f.overflow.toLowerCase()in g._validOverflow;j=f.overflowX.toLowerCase()in g._validOverflow;r=f.overflowY.toLowerCase()in g._validOverflow;if(e||j||r)b=l.getContentBox(v,
f),d=l.position(v,!0);if(e||j){f=Math.min(g.H_TRIGGER_AUTOSCROLL,b.w/2);j=a.pageX-d.x;if(i("webkit")||i("opera"))j+=k.body().scrollLeft;u=0;0<j&&j<b.w&&(j<f?u=-f:j>b.w-f&&(u=f),v.scrollLeft+=u)}if(e||r){e=Math.min(g.V_TRIGGER_AUTOSCROLL,b.h/2);r=a.pageY-d.y;if(i("webkit")||i("opera"))r+=k.body().scrollTop;t=0;0<r&&r<b.h&&(r<e?t=-e:r>b.h-e&&(t=e),v.scrollTop+=t)}if(u||t)return}try{v=v.parentNode}catch(s){v=null}}g.autoScroll(a)};return g})},"dojo/dnd/TimedMoveable":function(){define(["../_base/declare",
"./Moveable"],function(e,i){var k=i.prototype.onMove;return e("dojo.dnd.TimedMoveable",i,{timeout:40,constructor:function(e,c){c||(c={});if(c.timeout&&"number"==typeof c.timeout&&0<=c.timeout)this.timeout=c.timeout},onMoveStop:function(e){e._timer&&(clearTimeout(e._timer),k.call(this,e,e._leftTop));i.prototype.onMoveStop.apply(this,arguments)},onMove:function(e,c){e._leftTop=c;if(!e._timer){var b=this;e._timer=setTimeout(function(){e._timer=null;k.call(b,e,e._leftTop)},this.timeout)}}})})},"dijit/focus":function(){define("dojo/aspect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/Evented,dojo/_base/lang,dojo/on,dojo/ready,dojo/sniff,dojo/Stateful,dojo/_base/unload,dojo/_base/window,dojo/window,./a11y,./registry,./main".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q){var r=new (i([d,b],{curNode:null,activeStack:[],constructor:function(){var a=g.hitch(this,function(a){k.isDescendant(this.curNode,a)&&this.set("curNode",null);k.isDescendant(this.prevNode,a)&&this.set("prevNode",null)});e.before(c,"empty",a);e.before(c,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,d){var c=this,f=function(b){c._justMouseDowned=!0;setTimeout(function(){c._justMouseDowned=!1},0);
if(!a("ie")||!b||!(b.srcElement&&null==b.srcElement.parentNode))c._onTouchNode(d||b.target||b.srcElement,"mouse")},e=a("ie")?b.document.documentElement:b.document;if(e){if(a("ie")){b.document.body.attachEvent("onmousedown",f);var h=function(a){var b=a.srcElement.tagName.toLowerCase();"#document"==b||"body"==b||(n.isTabNavigable(a.srcElement)?c._onFocusNode(d||a.srcElement):c._onTouchNode(d||a.srcElement))};e.attachEvent("onfocusin",h);var g=function(a){c._onBlurNode(d||a.srcElement)};e.attachEvent("onfocusout",
g);return{remove:function(){b.document.detachEvent("onmousedown",f);e.detachEvent("onfocusin",h);e.detachEvent("onfocusout",g);e=null}}}e.body.addEventListener("mousedown",f,!0);e.body.addEventListener("touchstart",f,!0);var j=function(a){c._onFocusNode(d||a.target)};e.addEventListener("focus",j,!0);var l=function(a){c._onBlurNode(d||a.target)};e.addEventListener("blur",l,!0);return{remove:function(){e.body.removeEventListener("mousedown",f,!0);e.body.removeEventListener("touchstart",f,!0);e.removeEventListener("focus",
j,!0);e.removeEventListener("blur",l,!0);e=null}}}},_onBlurNode:function(){this._clearFocusTimer&&clearTimeout(this._clearFocusTimer);this._clearFocusTimer=setTimeout(g.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",null)}),0);if(!this._justMouseDowned)this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),this._clearActiveWidgetsTimer=setTimeout(g.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)},_onTouchNode:function(a,
b){this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);var d=[];try{for(;a;){var c=l.get(a,"dijitPopupParent");if(c)a=m.byId(c).domNode;else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===p.body())break;a=o.get(a.ownerDocument).frameElement}else{var f=a.getAttribute&&a.getAttribute("widgetId"),e=f&&m.byId(f);e&&!("mouse"==b&&e.get("disabled"))&&d.unshift(f);a=a.parentNode}}}catch(h){}this._setStack(d,b)},_onFocusNode:function(a){a&&
9!=a.nodeType&&(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),this.set("curNode",a)))},_setStack:function(a,b){var d=this.activeStack;this.set("activeStack",a);for(var c=0;c<Math.min(d.length,a.length)&&!(d[c]!=a[c]);c++);for(var f,e=d.length-1;e>=c;e--)if(f=m.byId(d[e]))f._hasBeenBlurred=!0,f.set("focused",!1),f._focusManager==this&&f._onBlur(b),this.emit("widget-blur",f,b);for(e=
c;e<a.length;e++)if(f=m.byId(a[e]))f.set("focused",!0),f._focusManager==this&&f._onFocus(b),this.emit("widget-focus",f,b)},focus:function(a){if(a)try{a.focus()}catch(b){}}}));j(function(){var b=r.registerWin(o.get(p.doc));a("ie")&&h.addOnWindowUnload(function(){b&&(b.remove(),b=null)})});q.focus=function(a){r.focus(a)};for(var u in r)/^_/.test(u)||(q.focus[u]="function"==typeof r[u]?g.hitch(r,u):r[u]);r.watch(function(a,b,d){q.focus[a]=d});return r})},"dojo/dom-attr":function(){define("dojo/dom-attr",
"exports,./sniff,./_base/lang,./dom,./dom-style,./dom-prop".split(","),function(e,i,k,l,c,b){function g(a,b){var c=a.getAttributeNode&&a.getAttributeNode(b);return c&&c.specified}var f={innerHTML:1,className:1,htmlFor:i("ie"),value:1},j={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};e.has=function(a,d){var c=d.toLowerCase();return f[b.names[c]||d]||g(l.byId(a),j[c]||d)};e.get=function(a,d){var a=l.byId(a),c=d.toLowerCase(),e=b.names[c]||d,i=a[e];if(f[e]&&"undefined"!=typeof i||
"href"!=e&&("boolean"==typeof i||k.isFunction(i)))return i;c=j[c]||d;return g(a,c)?a.getAttribute(c):null};e.set=function(a,d,h){a=l.byId(a);if(2==arguments.length){for(var g in d)e.set(a,g,d[g]);return a}g=d.toLowerCase();var i=b.names[g]||d,n=f[i];if("style"==i&&"string"!=typeof h)return c.set(a,h),a;if(n||"boolean"==typeof h||k.isFunction(h))return b.set(a,d,h);a.setAttribute(j[g]||d,h);return a};e.remove=function(a,b){l.byId(a).removeAttribute(j[b.toLowerCase()]||b)};e.getNodeProp=function(a,
d){var a=l.byId(a),c=d.toLowerCase(),f=b.names[c]||d;if(f in a&&"href"!=f)return a[f];c=j[c]||d;return g(a,c)?a.getAttribute(c):null}})},"dojo/dom-prop":function(){define("dojo/dom-prop","exports,./_base/kernel,./sniff,./_base/lang,./dom,./dom-style,./dom-construct,./_base/connect".split(","),function(e,i,k,l,c,b,g,f){var j={},a=0,d=i._scopeName+"attrid";e.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",
valuetype:"valueType"};e.get=function(a,b){var a=c.byId(a),d=b.toLowerCase();return a[e.names[d]||b]};e.set=function(h,i,o){h=c.byId(h);if(2==arguments.length&&"string"!=typeof i){for(var n in i)e.set(h,n,i[n]);return h}n=i.toLowerCase();n=e.names[n]||i;if("style"==n&&"string"!=typeof o)return b.set(h,o),h;if("innerHTML"==n)return k("ie")&&h.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(g.empty(h),h.appendChild(g.toDom(o,h.ownerDocument))):h[n]=o,h;if(l.isFunction(o)){var m=
h[d];m||(m=a++,h[d]=m);j[m]||(j[m]={});var q=j[m][n];if(q)f.disconnect(q);else try{delete h[n]}catch(r){}o?j[m][n]=f.connect(h,n,o):h[n]=null;return h}h[n]=o;return h}})},"dojo/dom-construct":function(){define("dojo/dom-construct","exports,./_base/kernel,./sniff,./_base/window,./dom,./dom-attr,./on".split(","),function(e,i,k,l,c,b){function g(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}var f={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody",
"tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},j=/<\s*([\w\:]+)/,a={},d=0,h="__"+i._scopeName+"ToDomId",p;for(p in f)if(f.hasOwnProperty(p))i=f[p],i.pre="option"==p?'<select multiple="multiple">':"<"+i.join("><")+">",i.post="</"+i.reverse().join("></")+">";e.toDom=function(b,c){var c=c||l.doc,e=c[h];e||(c[h]=e=++d+"",a[e]=c.createElement("div"));var b=b+"",g=b.match(j),i=g?g[1].toLowerCase():"",e=a[e];if(g&&f[i]){g=f[i];
e.innerHTML=g.pre+b+g.post;for(g=g.length;g;--g)e=e.firstChild}else e.innerHTML=b;if(1==e.childNodes.length)return e.removeChild(e.firstChild);for(i=c.createDocumentFragment();g=e.firstChild;)i.appendChild(g);return i};e.place=function(a,b,d){b=c.byId(b);"string"==typeof a&&(a=/^\s*</.test(a)?e.toDom(a,b.ownerDocument):c.byId(a));if("number"==typeof d){var f=b.childNodes;!f.length||f.length<=d?b.appendChild(a):g(a,f[0>d?0:d])}else switch(d){case "before":g(a,b);break;case "after":d=a;(f=b.parentNode)&&
(f.lastChild==b?f.appendChild(d):f.insertBefore(d,b.nextSibling));break;case "replace":b.parentNode.replaceChild(a,b);break;case "only":e.empty(b);b.appendChild(a);break;case "first":if(b.firstChild){g(a,b.firstChild);break}default:b.appendChild(a)}return a};e.create=function(a,d,f,h){var g=l.doc;if(f)f=c.byId(f),g=f.ownerDocument;"string"==typeof a&&(a=g.createElement(a));d&&b.set(a,d);f&&e.place(a,f,h);return a};var o=k("ie")?function(a){try{a.innerHTML=""}catch(b){for(var d;d=a.lastChild;){var c=
a;d.firstChild&&o(d);c&&c.removeChild(d)}}}:function(a){a.innerHTML=""};e.empty=function(a){o(c.byId(a))};e.destroy=function(a){if(a=c.byId(a)){var b=a,a=a.parentNode;b.firstChild&&o(b);a&&a.removeChild(b)}}})},"dojo/Stateful":function(){define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(e,i,k,l){return e("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var b=this._attrPairNames;return b[c]?b[c]:b[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},
postscript:function(c){c&&this.set(c)},_get:function(c,b){return"function"===typeof this[b.g]?this[b.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,b){if("object"===typeof c){for(var e in c)c.hasOwnProperty(e)&&"_watchCallbacks"!=e&&this.set(e,c[e]);return this}e=this._getAttrNames(c);var f=this._get(c,e);e=this[e.s];var j;"function"===typeof e?j=e.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=b;if(this._watchCallbacks){var a=this;l(j,function(){a._watchCallbacks(c,
f,b)})}return this},_changeAttrValue:function(c,b){var e=this.get(c);this[c]=b;this._watchCallbacks&&this._watchCallbacks(c,e,b);return this},watch:function(c,b){var e=this._watchCallbacks;if(!e)var f=this,e=this._watchCallbacks=function(a,b,c,j){var l=function(e){if(e)for(var e=e.slice(),g=0,j=e.length;g<j;g++)e[g].call(f,a,b,c)};l(e["_"+a]);j||l(e["*"])};!b&&"function"===typeof c?(b=c,c="*"):c="_"+c;var j=e[c];"object"!==typeof j&&(j=e[c]=[]);j.push(b);var a={};a.unwatch=a.remove=function(){var a=
k.indexOf(j,b);-1<a&&j.splice(a,1)};return a}})})},"dojo/_base/unload":function(){define(["./kernel","./lang","../on"],function(e,i,k){var l=window,c={addOnWindowUnload:function(b,c){if(!e.windowUnloaded)k(l,"unload",e.windowUnloaded=function(){});k(l,"unload",i.hitch(b,c))},addOnUnload:function(b,c){k(l,"beforeunload",i.hitch(b,c))}};e.addOnWindowUnload=c.addOnWindowUnload;e.addOnUnload=c.addOnUnload;return c})},"dijit/a11y":function(){define("dojo/_base/array,dojo/_base/config,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-style,dojo/sniff,./main".split(","),
function(e,i,k,l,c,b,g,f){var j=f._isElementShown=function(a){var e=b.get(a);return"hidden"!=e.visibility&&"collapsed"!=e.visibility&&"none"!=e.display&&"hidden"!=c.get(a,"type")};f.hasDefaultTabStop=function(a){switch(a.nodeName.toLowerCase()){case "a":return c.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var b;try{var e=a.contentDocument;if("designMode"in e&&"on"==e.designMode)return!0;b=e.body}catch(f){try{b=a.contentWindow.document.body}catch(g){return!1}}return b&&
("true"==b.contentEditable||b.firstChild&&"true"==b.firstChild.contentEditable);default:return"true"==a.contentEditable}};var a=f.isTabNavigable=function(a){return c.get(a,"disabled")?!1:c.has(a,"tabIndex")?0<=c.get(a,"tabIndex"):f.hasDefaultTabStop(a)};f._getTabNavigable=function(b){function e(a){return a&&"input"==a.tagName.toLowerCase()&&a.type&&"radio"==a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}var f,l,i,k,q,r,u={},t=function(b){for(b=b.firstChild;b;b=b.nextSibling)if(!(1!=b.nodeType||
9>=g("ie")&&"HTML"!==b.scopeName||!j(b))){if(a(b)){var d=+c.get(b,"tabIndex");if(!c.has(b,"tabIndex")||0==d)f||(f=b),l=b;else if(0<d){if(!i||d<k)k=d,i=b;if(!q||d>=r)r=d,q=b}d=e(b);c.get(b,"checked")&&d&&(u[d]=b)}"SELECT"!=b.nodeName.toUpperCase()&&t(b)}};j(b)&&t(b);return{first:u[e(f)]||f,last:u[e(l)]||l,lowest:u[e(i)]||i,highest:u[e(q)]||q}};f.getFirstInTabbingOrder=function(a,b){var c=f._getTabNavigable(l.byId(a,b));return c.lowest?c.lowest:c.first};f.getLastInTabbingOrder=function(a,b){var c=f._getTabNavigable(l.byId(a,
b));return c.last?c.last:c.highest};return{hasDefaultTabStop:f.hasDefaultTabStop,isTabNavigable:f.isTabNavigable,_getTabNavigable:f._getTabNavigable,getFirstInTabbingOrder:f.getFirstInTabbingOrder,getLastInTabbingOrder:f.getLastInTabbingOrder}})},"dijit/main":function(){define(["dojo/_base/kernel"],function(e){return e.dijit})},"dijit/registry":function(){define(["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(e,i,k,l,c){var b={},g={},f={length:0,add:function(b){if(g[b.id])throw Error("Tried to register widget with id=="+
b.id+" but that id is already registered");g[b.id]=b;this.length++},remove:function(b){g[b]&&(delete g[b],this.length--)},byId:function(b){return"string"==typeof b?g[b]:b},byNode:function(b){return g[b.getAttribute("widgetId")]},toArray:function(){var b=[],a;for(a in g)b.push(g[a]);return b},getUniqueId:function(e){var a;do a=e+"_"+(e in b?++b[e]:b[e]=0);while(g[a]);return"dijit"==c._scopeName?a:c._scopeName+"_"+a},findWidgets:function(b,a){function d(b){for(b=b.firstChild;b;b=b.nextSibling)if(1==
b.nodeType){var e=b.getAttribute("widgetId");e?(e=g[e])&&c.push(e):b!==a&&d(b)}}var c=[];d(b);return c},_destroyAll:function(){c._curFocus=null;c._prevFocus=null;c._activeStack=[];e.forEach(f.findWidgets(l.body()),function(b){b._destroyed||(b.destroyRecursive?b.destroyRecursive():b.destroy&&b.destroy())})},getEnclosingWidget:function(b){for(;b;){var a=1==b.nodeType&&b.getAttribute("widgetId");if(a)return g[a];b=b.parentNode}return null},_hash:g};return c.registry=f})},"dijit/_base/manager":function(){define(["dojo/_base/array",
"dojo/_base/config","dojo/_base/lang","../registry","../main"],function(e,i,k,l,c){var b={};e.forEach("byId,getUniqueId,findWidgets,_destroyAll,byNode,getEnclosingWidget".split(","),function(c){b[c]=l[c]});k.mixin(b,{defaultDuration:i.defaultDuration||200});k.mixin(c,b);return c})},"dijit/_Widget":function(){define("dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/query,dojo/ready,./registry,./_WidgetBase,./_OnDijitClickMixin,./_FocusMixin,dojo/uacss,./hccss".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p){function o(){}function n(a){return function(b,d,c,e){return b&&"string"==typeof d&&b[d]==o?b.on(d.substring(2).toLowerCase(),g.hitch(c,e)):a.apply(k,arguments)}}e.around(k,"connect",n);b.connect&&e.around(b,"connect",n);e=l("dijit._Widget",[d,h,p],{onClick:o,onDblClick:o,onKeyDown:o,onKeyPress:o,onKeyUp:o,onMouseDown:o,onMouseMove:o,onMouseOut:o,onMouseOver:o,onMouseLeave:o,onMouseEnter:o,onMouseUp:o,constructor:function(a){this._toConnect={};for(var b in a)this[b]===
o&&(this._toConnect[b.replace(/^on/,"").toLowerCase()]=a[b],delete a[b])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,b){return this[this._onMap(a)]===o?k.connect(this.domNode,a.toLowerCase(),this,b):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,d){b.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,d)},attr:function(a,d){if(i.isDebug){var c=arguments.callee._ach||(arguments.callee._ach={}),e=(arguments.callee.caller||"unknown caller").toString();c[e]||(b.deprecated(this.declaredClass+"::attr() is deprecated. Use get() or set() instead, called from "+e,"","2.0"),c[e]=!0)}return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){b.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.",
"","2.0");return this.containerNode?f("[widgetId]",this.containerNode).map(a.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});c("dijit-legacy-requires")&&j(0,function(){require(["dijit/_base"])});return e})},"dojo/query":function(){define("dojo/query","./_base/kernel,./has,./dom,./on,./_base/array,./_base/lang,./selector/_loader,./selector/_loader!default".split(","),function(e,i,k,l,c,b,g,f){function j(a,b){var d=function(d,c){if("string"==
typeof c&&(c=k.byId(c),!c))return new b([]);var e="string"==typeof d?a(d,c):d?d.orphan?d:[d]:[];return e.orphan?e:new b(e)};d.matches=a.match||function(a,b,c){return 0<d.filter([a],b,c).length};d.filter=a.filter||function(a,b,e){return d(b,e).filter(function(b){return-1<c.indexOf(a,b)})};if("function"!=typeof a)var e=a.search,a=function(a,b){return e(b||document,a)};return d}i.add("array-extensible",function(){return 1==b.delegate([],{length:1}).length&&!i("bug-for-in-skips-shadowed")});var a=Array.prototype,
d=a.slice,h=a.concat,p=c.forEach,o=function(a,b,c){b=[0].concat(d.call(b,0));c=c||e.global;return function(d){b[0]=d;return a.apply(c,b)}},n=function(a){var d=this instanceof m&&i("array-extensible");"number"==typeof a&&(a=Array(a));var c=a&&"length"in a?a:arguments;if(d||!c.sort){for(var e=d?this:[],f=e.length=c.length,h=0;h<f;h++)e[h]=c[h];if(d)return e;c=e}b._mixin(c,q);c._NodeListCtor=function(a){return m(a)};return c},m=n,q=m.prototype=i("array-extensible")?[]:{};m._wrap=q._wrap=function(a,b,
d){a=new (d||this._NodeListCtor||m)(a);return b?a._stash(b):a};m._adaptAsMap=function(a,b){return function(){return this.map(o(a,arguments,b))}};m._adaptAsForEach=function(a,b){return function(){this.forEach(o(a,arguments,b));return this}};m._adaptAsFilter=function(a,b){return function(){return this.filter(o(a,arguments,b))}};m._adaptWithCondition=function(a,b,d){return function(){var c=arguments,f=o(a,c,d);if(b.call(d||e.global,c))return this.map(f);this.forEach(f);return this}};p(["slice","splice"],
function(b){var d=a[b];q[b]=function(){return this._wrap(d.apply(this,arguments),"slice"==b?this:null)}});p(["indexOf","lastIndexOf","every","some"],function(a){var b=c[a];q[a]=function(){return b.apply(e,[this].concat(d.call(arguments,0)))}});b.extend(n,{constructor:m,_NodeListCtor:m,toString:function(){return this.join(",")},_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return l(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},
end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=d.call(this,0),e=c.map(arguments,function(a){return d.call(a,0)});return this._wrap(h.apply(b,e),this)},map:function(a,b){return this._wrap(c.map(this,a,b),this)},forEach:function(a,b){p(this,a,b);return this},filter:function(a){var b=arguments,d=this,e=0;if("string"==typeof a){d=r._filterResult(this,b[0]);if(1==b.length)return d._stash(this);e=1}return this._wrap(c.filter(d,b[e],b[e+1]),this)},instantiate:function(a,
d){var c=b.isFunction(a)?a:b.getObject(a),d=d||{};return this.forEach(function(a){new c(d,a)})},at:function(){var a=new this._NodeListCtor(0);p(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var r=j(f,n);e.query=j(f,function(a){return n(a)});r.load=function(a,b,d){g.load(a,b,function(a){d(j(a,n))})};e._filterQueryResult=r._filterResult=function(a,b,d){return new n(r.filter(a,b,d))};e.NodeList=r.NodeList=n;return r})},"dojo/selector/_loader":function(){define(["../has",
"require"],function(e,i){var k=document.createElement("div");e.add("dom-qsa2.1",!!k.querySelectorAll);e.add("dom-qsa3",function(){try{return k.innerHTML="<p class='TEST'></p>",1==k.querySelectorAll(".TEST:empty").length}catch(c){}});var l;return{load:function(c,b,g){var f=i,c="default"==c?e("config-selectorEngine")||"css3":c,c="css2"==c||"lite"==c?"./lite":"css2.1"==c?e("dom-qsa2.1")?"./lite":"./acme":"css3"==c?e("dom-qsa3")?"./lite":"./acme":"acme"==c?"./acme":(f=b)&&c;if("?"==c.charAt(c.length-
1))var c=c.substring(0,c.length-1),j=!0;if(j&&(e("dom-compliant-qsa")||l))return g(l);f([c],function(a){"./lite"!=c&&(l=a);g(a)})}}})},"dojo/selector/acme":function(){define(["../dom","../sniff","../_base/array","../_base/lang","../_base/window"],function(e,i,k,l,c){var b=l.trim,g=k.forEach,f="BackCompat"==c.doc.compatMode,j=!1,a=function(){return!0},d=function(a){for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",d=function(d,c){return b(a.slice(d,c))},c=[],e=-1,f=-1,h=-1,g=-1,l=-1,i=-1,k=-1,
r,n="",m="",q,p=0,o=a.length,u=null,s=null,v=function(){if(0<=i)u.id=d(i,p).replace(/\\/g,""),i=-1;if(0<=k){var a=k==p?null:d(k,p);u[0>">~+".indexOf(a)?"tag":"oper"]=a;k=-1}0<=l&&(u.classes.push(d(l+1,p).replace(/\\/g,"")),l=-1)};n=m,m=a.charAt(p),p<o;p++)if("\\"!=n)if(u||(q=p,u={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return j?this.otag:this.tag}},k=p),r)m==r&&(r=null);else if("'"==m||'"'==m)r=m;else if(0<=e)if("]"==m){s.attr?s.matchFor=d(h||e+1,p):
s.attr=d(e+1,p);if((e=s.matchFor)&&('"'==e.charAt(0)||"'"==e.charAt(0)))s.matchFor=e.slice(1,-1);if(s.matchFor)s.matchFor=s.matchFor.replace(/\\/g,"");u.attrs.push(s);s=null;e=h=-1}else{if("="==m)h=0<="|~^$*".indexOf(n)?n:"",s.type=h+m,s.attr=d(e+1,p-h.length),h=p+1}else if(0<=f){if(")"==m){if(0<=g)s.value=d(f+1,p);g=f=-1}}else if("#"==m)v(),i=p+1;else if("."==m)v(),l=p;else if(":"==m)v(),g=p;else if("["==m)v(),e=p,s={};else if("("==m)0<=g&&(s={name:d(g+1,p),value:null},u.pseudos.push(s)),f=p;else if(" "==
m&&n!=m){v();0<=g&&u.pseudos.push({name:d(g+1,p)});u.loops=u.pseudos.length||u.attrs.length||u.classes.length;u.oquery=u.query=d(q,p);u.otag=u.tag=u.oper?null:u.tag||"*";if(u.tag)u.tag=u.tag.toUpperCase();if(c.length&&c[c.length-1].oper)u.infixOper=c.pop(),u.query=u.infixOper.query+" "+u.query;c.push(u);u=null}return c},h=function(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}},p=function(a,b){var d=b||[];a&&d.push(a);return d},o=function(a){return 1==
a.nodeType},n=function(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||"":"style"==b?a.style.cssText||"":(j?a.getAttribute(b):a.getAttribute(b,2))||""},m={"*=":function(a,b){return function(d){return 0<=n(d,a).indexOf(b)}},"^=":function(a,b){return function(d){return 0==n(d,a).indexOf(b)}},"$=":function(a,b){return function(d){var d=" "+n(d,a),c=d.lastIndexOf(b);return-1<c&&c==d.length-b.length}},"~=":function(a,b){var d=" "+b+" ";return function(b){return 0<=(" "+n(b,a)+" ").indexOf(d)}},
"|=":function(a,b){var d=b+"-";return function(c){c=n(c,a);return c==b||0==c.indexOf(d)}},"=":function(a,b){return function(d){return n(d,a)==b}}},q="undefined"==typeof c.doc.firstChild.nextElementSibling,r=!q?"nextElementSibling":"nextSibling",u=!q?"previousElementSibling":"previousSibling",t=q?o:a,v=function(a){for(;a=a[u];)if(t(a))return!1;return!0},s=function(a){for(;a=a[r];)if(t(a))return!1;return!0},z=function(a){var b=a.parentNode,b=7!=b.nodeType?b:b.nextSibling,d=0,c=b.children||b.childNodes,
e=a._i||a.getAttribute("_i")||-1,f=b._l||("undefined"!==typeof b.getAttribute?b.getAttribute("_l"):-1);if(!c)return-1;c=c.length;if(f==c&&0<=e&&0<=f)return e;i("ie")&&"undefined"!==typeof b.setAttribute?b.setAttribute("_l",c):b._l=c;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[r])if(t(b))i("ie")?b.setAttribute("_i",++d):b._i=++d,a===b&&(e=d);return e},y=function(a){return!(z(a)%2)},I=function(a){return z(a)%2},J={checked:function(){return function(a){return!!("checked"in a?a.checked:a.selected)}},
disabled:function(){return function(a){return a.disabled}},enabled:function(){return function(a){return!a.disabled}},"first-child":function(){return v},"last-child":function(){return s},"only-child":function(){return function(a){return v(a)&&s(a)}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var d=b[a].nodeType;if(1===d||3==d)return!1}return!0}},contains:function(a,b){var d=b.charAt(0);if('"'==d||"'"==d)b=b.slice(1,-1);return function(a){return 0<=
a.innerHTML.indexOf(b)}},not:function(a,b){var c=d(b)[0],e={el:1};if("*"!=c.tag)e.tag=1;if(!c.classes.length)e.classes=1;var f=E(c,e);return function(a){return!f(a)}},"nth-child":function(a,b){var d=parseInt;if("odd"==b)return I;if("even"==b)return y;if(-1!=b.indexOf("n")){var c=b.split("n",2),e=c[0]?"-"==c[0]?-1:d(c[0]):1,f=c[1]?d(c[1]):0,h=0,g=-1;0<e?0>f?f=f%e&&e+f%e:0<f&&(f>=e&&(h=f-f%e),f%=e):0>e&&(e*=-1,0<f&&(g=f,f%=e));if(0<e)return function(a){a=z(a);return a>=h&&(0>g||a<=g)&&a%e==f};b=f}var j=
d(b);return function(a){return z(a)==j}}},N=9>i("ie")||9==i("ie")&&i("quirks")?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(d){return j?d.getAttribute(a):d[a]||d[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},E=function(b,d){if(!b)return a;var d=d||{},c=null;"el"in d||(c=h(c,o));"tag"in d||"*"!=b.tag&&(c=h(c,function(a){return a&&(j?a.tagName:a.tagName.toUpperCase())==b.getTag()}));"classes"in d||g(b.classes,function(a,b){var d=RegExp("(?:^|\\s)"+
a+"(?:\\s|$)");c=h(c,function(a){return d.test(a.className)});c.count=b});"pseudos"in d||g(b.pseudos,function(a){var b=a.name;J[b]&&(c=h(c,J[b](b,a.value)))});"attrs"in d||g(b.attrs,function(a){var b,d=a.attr;a.type&&m[a.type]?b=m[a.type](d,a.matchFor):d.length&&(b=N(d));b&&(c=h(c,b))});"id"in d||b.id&&(c=h(c,function(a){return!!a&&a.id==b.id}));c||"default"in d||(c=a);return c},S=function(a){return function(b,d,c){for(;b=b[r];)if(!q||o(b)){(!c||P(b,c))&&a(b)&&d.push(b);break}return d}},Q=function(a){return function(b,
d,c){for(b=b[r];b;){if(t(b)){if(c&&!P(b,c))break;a(b)&&d.push(b)}b=b[r]}return d}},B=function(b){b=b||a;return function(a,d,c){for(var e=0,f=a.children||a.childNodes;a=f[e++];)t(a)&&(!c||P(a,c))&&b(a,e)&&d.push(a);return d}},A={},w=function(b){var d=A[b.query];if(d)return d;var h=b.infixOper,h=h?h.oper:"",g=E(b,{el:1}),j="*"==b.tag,l=c.doc.getElementsByClassName;if(h){l={el:1};if(j)l.tag=1;g=E(b,l);"+"==h?d=S(g):"~"==h?d=Q(g):">"==h&&(d=B(g))}else if(b.id)g=!b.loops&&j?a:E(b,{el:1,id:1}),d=function(a,
d){var c=e.byId(b.id,a.ownerDocument||a);if(c&&g(c)){if(9==a.nodeType)return p(c,d);for(var f=c.parentNode;f&&!(f==a);)f=f.parentNode;if(f)return p(c,d)}};else if(l&&/\{\s*\[native code\]\s*\}/.test(""+l)&&b.classes.length&&!f)var g=E(b,{el:1,classes:1,id:1}),i=b.classes.join(" "),d=function(a,b,d){for(var b=p(0,b),c,e=0,f=a.getElementsByClassName(i);c=f[e++];)g(c,a)&&P(c,d)&&b.push(c);return b};else!j&&!b.loops?d=function(a,d,c){for(var d=p(0,d),e=0,f=b.getTag(),f=f?a.getElementsByTagName(f):[];a=
f[e++];)P(a,c)&&d.push(a);return d}:(g=E(b,{el:1,tag:1,id:1}),d=function(a,d,c){for(var d=p(0,d),e,f=0,h=(e=b.getTag())?a.getElementsByTagName(e):[];e=h[f++];)g(e,a)&&P(e,c)&&d.push(e);return d});return A[b.query]=d},x={},K={},H=function(a){var c=d(b(a));if(1==c.length){var e=w(c[0]);return function(a){if(a=e(a,[]))a.nozip=!0;return a}}return function(a){for(var a=p(a),b,d,e=c.length,f,h,g=0;g<e;g++){h=[];b=c[g];d=a.length-1;if(0<d)f={},h.nozip=!0;d=w(b);for(var j=0;b=a[j];j++)d(b,h,f);if(!h.length)break;
a=h}return h}},C=i("ie")?"commentStrip":"nozip",F=!!c.doc.querySelectorAll,O=/\\[>~+]|n\+\d|([^ \\])?([>~+])([^ =])?/g,D=function(a,b,d,c){return d?(b?b+" ":"")+d+(c?" "+c:""):a},L=/([^[]*)([^\]]*])?/g,T=function(a,b,d){return b.replace(O,D)+(d||"")},G=function(a,b){a=a.replace(L,T);if(F){var d=K[a];if(d&&!b)return d}if(d=x[a])return d;var d=a.charAt(0),c=-1==a.indexOf(" ");0<=a.indexOf("#")&&c&&(b=!0);if(F&&!b&&-1==">~+".indexOf(d)&&(!i("ie")||-1==a.indexOf(":"))&&!(f&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&
-1==a.indexOf(":checked")&&-1==a.indexOf("|=")){var e=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return K[a]=function(b){try{if(!(9==b.nodeType||c))throw"";var d=b.querySelectorAll(e);d[C]=!0;return d}catch(f){return G(a,!0)(b)}}}var h=a.match(/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g);return x[a]=2>h.length?H(a):function(a){for(var b=0,d=[],c;c=h[b++];)d=d.concat(H(c)(a));return d}},M=0,X=i("ie")?function(a){return j?a.getAttribute("_uid")||a.setAttribute("_uid",++M)||M:a.uniqueID}:
function(a){return a._uid||(a._uid=++M)},P=function(a,b){if(!b)return 1;var d=X(a);return!b[d]?b[d]=1:0},Y=function(a){if(a&&a.nozip)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;M++;var d,c;if(i("ie")&&j){var e=M+"";a[0].setAttribute("_zipIdx",e);for(d=1;c=a[d];d++)a[d].getAttribute("_zipIdx")!=e&&b.push(c),c.setAttribute("_zipIdx",e)}else if(i("ie")&&a.commentStrip)try{for(d=1;c=a[d];d++)o(c)&&b.push(c)}catch(f){}else{a[0]&&(a[0]._zipIdx=M);for(d=1;c=a[d];d++)a[d]._zipIdx!=
M&&b.push(c),c._zipIdx=M}return b},U=function(a,b){b=b||c.doc;j="div"===(b.ownerDocument||b).createElement("div").tagName;var d=G(a)(b);return d&&d.nozip?d:Y(d)};U.filter=function(a,b,c){for(var f=[],h=d(b),h=1==h.length&&!/[^\w#\.]/.test(b)?E(h[0]):function(a){return-1!=k.indexOf(U(b,e.byId(c)),a)},g=0,j;j=a[g];g++)h(j)&&f.push(j);return f};return U})},"dijit/_WidgetBase":function(){define("require,dojo/_base/array,dojo/aspect,dojo/_base/config,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/ready,dojo/Stateful,dojo/topic,dojo/_base/window,./Destroyable,./registry".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q,r,u,t,v,s){function z(a){return function(b){f[b?"set":"remove"](this.domNode,a,b);this._set(a,b)}}p.add("dijit-legacy-requires",!o.isAsync);p("dijit-legacy-requires")&&q(0,function(){e(["dijit/_base/manager"])});var y={};return b("dijit._WidgetBase",[r,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:z("lang"),dir:"",_setDirAttr:z("dir"),textDir:"","class":"",_setClassAttr:{node:"domNode",type:"class"},style:"",title:"",tooltip:"",baseClass:"",srcNodeRef:null,
domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(a){this._set("ownerDocument",a)},attributeMap:{},_blankGif:l.blankGif||e.toUrl("dojo/resources/blank.gif"),postscript:function(a,b){this.create(a,b)},create:function(a,b){this.srcNodeRef=g.byId(b);this._connects=[];this._supportingWidgets=[];if(this.srcNodeRef&&"string"==typeof this.srcNodeRef.id)this.id=this.srcNodeRef.id;if(a)this.params=a,n.mixin(this,a);this.postMixInProperties();if(!this.id)this.id=s.getUniqueId(this.declaredClass.replace(/\./g,
"_")),this.params&&delete this.params.id;this.ownerDocument=this.ownerDocument||(this.srcNodeRef?this.srcNodeRef.ownerDocument:t.doc);this.ownerDocumentBody=t.body(this.ownerDocument);s.add(this);this.buildRendering();var d;if(this.domNode){this._applyAttributes();var c=this.srcNodeRef;c&&c.parentNode&&this.domNode!==c&&(c.parentNode.replaceChild(this.domNode,c),d=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();d&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var a=
this.constructor,b=a._setterAttrs;if(!b){var b=a._setterAttrs=[],d;for(d in this.attributeMap)b.push(d);var a=a.prototype,c;for(c in a)c in this.attributeMap||"_set"+c.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()})+"Attr"in a&&b.push(c)}var e={},f;for(f in this.params||{})e[f]=this[f];i.forEach(b,function(a){a in e||this[a]&&this.set(a,this[a])},this);for(f in e)this.set(f,e[f])},postMixInProperties:function(){},buildRendering:function(){if(!this.domNode)this.domNode=
this.srcNodeRef||this.ownerDocument.createElement("div");if(this.baseClass){var a=this.baseClass.split(" ");this.isLeftToRight()||(a=a.concat(i.map(a,function(a){return a+"Rtl"})));j.add(this.domNode,a)}},postCreate:function(){},startup:function(){if(!this._started)this._started=!0,i.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&n.isFunction(a.startup))a.startup(),a._started=!0})},destroyRecursive:function(a){this._beingDestroyed=!0;this.destroyDescendants(a);this.destroy(a)},
destroy:function(a){function b(d){d.destroyRecursive?d.destroyRecursive(a):d.destroy&&d.destroy(a)}this._beingDestroyed=!0;this.uninitialize();i.forEach(this._connects,n.hitch(this,"disconnect"));i.forEach(this._supportingWidgets,b);this.domNode&&i.forEach(s.findWidgets(this.domNode,this.containerNode),b);this.destroyRendering(a);s.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?f.remove(this.domNode,
"widgetId"):a.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||a.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(a){i.forEach(this.getChildren(),function(b){b.destroyRecursive&&b.destroyRecursive(a)})},uninitialize:function(){return!1},_setStyleAttr:function(a){var b=this.domNode;n.isObject(a)?h.set(b,a):b.style.cssText=b.style.cssText?b.style.cssText+("; "+a):a;this._set("style",a)},_attrToDom:function(a,b,d){d=3<=arguments.length?d:this.attributeMap[a];
i.forEach(n.isArray(d)?d:[d],function(d){var c=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":n.isFunction(b)&&(b=n.hitch(this,b));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(a)?a.toLowerCase():a;c.tagName?f.set(c,d,b):c.set(d,b);break;case "innerText":c.innerHTML="";c.appendChild(this.ownerDocument.createTextNode(b));break;case "innerHTML":c.innerHTML=b;break;case "class":j.replace(c,b,this[a])}},this)},get:function(a){var b=this._getAttrNames(a);return this[b.g]?
this[b.g]():this[a]},set:function(a,b){if("object"===typeof a){for(var d in a)this.set(d,a[d]);return this}d=this._getAttrNames(a);var c=this[d.s];if(n.isFunction(c))var e=c.apply(this,Array.prototype.slice.call(arguments,1));else{var c=this.focusNode&&!n.isFunction(this.focusNode)?"focusNode":"domNode",f=this[c].tagName,h;if(!(h=y[f])){h=this[c];var g={},j;for(j in h)g[j.toLowerCase()]=!0;h=y[f]=g}j=a in this.attributeMap?this.attributeMap[a]:d.s in this?this[d.s]:d.l in h&&"function"!=typeof b||
/^aria-|^data-|^role$/.test(a)?c:null;null!=j&&this._attrToDom(a,b,j);this._set(a,b)}return e||this},_attrPairNames:{},_getAttrNames:function(a){var b=this._attrPairNames;if(b[a])return b[a];var d=a.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return b[a]={n:a+"Node",s:"_set"+d+"Attr",g:"_get"+d+"Attr",l:d.toLowerCase()}},_set:function(a,b){var d=this[a];this[a]=b;this._created&&b!==d&&(this._watchCallbacks&&this._watchCallbacks(a,d,b),this.emit("attrmodified-"+
a,{detail:{prevValue:d,newValue:b}}))},emit:function(a,b,d){b=b||{};if(void 0===b.bubbles)b.bubbles=!0;if(void 0===b.cancelable)b.cancelable=!0;if(!b.detail)b.detail={};b.detail.widget=this;var c,e=this["on"+a];e&&(c=e.apply(this,d?d:[b]));this._started&&!this._beingDestroyed&&m.emit(this.domNode,a.toLowerCase(),b);return c},on:function(a,b){var d=this._onMap(a);return d?k.after(this,d,b,!0):this.own(m(this.domNode,a,b))[0]},_onMap:function(a){var b=this.constructor,d=b._onMap;if(!d){var d=b._onMap=
{},c;for(c in b.prototype)/^on/.test(c)&&(d[c.replace(/^on/,"").toLowerCase()]=c)}return d["string"==typeof a&&a.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?s.findWidgets(this.containerNode):[]},getParent:function(){return s.getEnclosingWidget(this.domNode.parentNode)},connect:function(a,b,d){return this.own(c.connect(a,b,this,d))[0]},disconnect:function(a){a.remove()},subscribe:function(a,b){return this.own(u.subscribe(a,
n.hitch(this,b)))[0]},unsubscribe:function(a){a.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir:d.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=h.get(this.domNode,"display")},placeAt:function(b,d){var c=!b.tagName&&s.byId(b);c&&c.addChild&&(!d||"number"===typeof d)?c.addChild(this,d):(c=c?c.containerNode&&!/after|before|replace/.test(d||"")?c.containerNode:c.domNode:g.byId(b,this.ownerDocument),a.place(this.domNode,c,d),!this._started&&(this.getParent()||
{})._started&&this.startup());return this},getTextDir:function(a,b){return b},applyTextDir:function(){},defer:function(a,b){var d=setTimeout(n.hitch(this,function(){d=null;this._destroyed||n.hitch(this,a)()}),b||0);return{remove:function(){d&&(clearTimeout(d),d=null);return null}}}})})},"dijit/Destroyable":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare"],function(e,i,k){return k("dijit.Destroyable",null,{destroy:function(){this._destroyed=!0},own:function(){e.forEach(arguments,
function(e){var c="destroyRecursive"in e?"destroyRecursive":"destroy"in e?"destroy":"remove",b=i.before(this,"destroy",function(b){e[c](b)}),g=i.after(e,c,function(){b.remove();g.remove()},!0)},this);return arguments}})})},"dijit/_OnDijitClickMixin":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window,./a11yclick".split(","),function(e,i,k,l,c,b,g,f){e=l("dijit._OnDijitClickMixin",null,{connect:function(b,a,d){return this.inherited(arguments,
[b,"ondijitclick"==a?f:a,d])}});e.a11yclick=f;return e})},"dijit/a11yclick":function(){define("dojo/on,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/has,dojo/_base/unload,dojo/_base/window".split(","),function(e,i,k,l,c,b,g){function f(a){return(a.keyCode===k.ENTER||a.keyCode===k.SPACE)&&!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey}var j=null;c("dom-addeventlistener")?g.doc.addEventListener("keydown",function(a){j=a.target},!0):function(){var a=function(a){j=a.srcElement};g.doc.attachEvent("onkeydown",
a);b.addOnWindowUnload(function(){g.doc.detachEvent("onkeydown",a)})}();return function(a,b){if(/input|button/i.test(a.nodeName))return e(a,"click",b);var h=[e(a,"keydown",function(a){if(f(a))j=a.target,a.preventDefault()}),e(a,"keyup",function(a){f(a)&&a.target==j&&(j=null,e.emit(a.target,"click",{cancelable:!0,bubbles:!0}))}),e(a,"click",function(a){b.call(this,a)})];if(c("touch")){var g;h.push(e(a,"touchend",function(a){var b=a.target;g=setTimeout(function(){g=null;e.emit(b,"click",{cancelable:!0,
bubbles:!0})},600)}),e(a,"click",function(){g&&clearTimeout(g)}))}return{remove:function(){i.forEach(h,function(a){a.remove()});g&&(clearTimeout(g),g=null)}}}})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(e,i,k,l){l.extend(i,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return k("dijit._FocusMixin",null,{_focusManager:e})})},"dojo/uacss":function(){define(["./dom-geometry",
"./_base/lang","./ready","./sniff","./_base/window"],function(e,i,k,l,c){var b=c.doc.documentElement,c=l("ie"),g=l("opera"),f=Math.floor,j=l("ff"),a=e.boxModel.replace(/-/,""),g={dj_quirks:l("quirks"),dj_opera:g,dj_khtml:l("khtml"),dj_webkit:l("webkit"),dj_safari:l("safari"),dj_chrome:l("chrome"),dj_gecko:l("mozilla")};if(c)g.dj_ie=!0,g["dj_ie"+f(c)]=!0,g.dj_iequirks=l("quirks");j&&(g["dj_ff"+f(j)]=!0);g["dj_"+a]=!0;var d="",h;for(h in g)g[h]&&(d+=h+" ");b.className=i.trim(b.className+" "+d);k(90,
function(){if(!e.isBodyLtr()){var a="dj_rtl dijitRtl "+d.replace(/ /g,"-rtl ");b.className=i.trim(b.className+" "+a+"dj_rtl dijitRtl "+d.replace(/ /g,"-rtl "))}});return l})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/ready","dojo/_base/window"],function(e,i,k,l){k(90,function(){i("highcontrast")&&e.add(l.body(),"dijit_a11y")});return i})},"dojo/hccss":function(){define("dojo/hccss","require,./_base/config,./dom-class,./dom-style,./has,./ready,./_base/window".split(","),
function(e,i,k,l,c,b,g){c.add("highcontrast",function(){var b=g.doc.createElement("div");b.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("+(i.blankGif||e.toUrl("./resources/blank.gif"))+");";g.body().appendChild(b);var j=l.getComputedStyle(b),a=j.backgroundImage,j=j.borderTopColor==j.borderRightColor||a&&("none"==a||"url(invalid-url:)"==a);8>=c("ie")?b.outerHTML="":g.body().removeChild(b);return j});b(90,function(){c("highcontrast")&&
k.add(g.body(),"dj_a11y")});return c})},"dijit/_TemplatedMixin":function(){define("dojo/_base/lang,dojo/touch,./_WidgetBase,dojo/string,dojo/cache,dojo/_base/array,dojo/_base/declare,dojo/dom-construct,dojo/sniff,dojo/_base/unload".split(","),function(e,i,k,l,c,b,g,f,j,a){var d=g("dijit._TemplatedMixin",null,{templateString:null,templatePath:null,_skipNodeCache:!1,_earlyTemplatedStartup:!1,constructor:function(){this._attachPoints=[];this._attachEvents=[]},_stringRepl:function(a){var b=this.declaredClass,
d=this;return l.substitute(a,this,function(a,c){"!"==c.charAt(0)&&(a=e.getObject(c.substr(1),!1,d));if("undefined"==typeof a)throw Error(b+" template:"+c);return null==a?"":"!"==c.charAt(0)?a:a.toString().replace(/"/g,"&quot;")},this)},buildRendering:function(){if(!this.templateString)this.templateString=c(this.templatePath,{sanitize:!0});var a=d.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),b;if(e.isString(a)){if(b=f.toDom(this._stringRepl(a),this.ownerDocument),1!=
b.nodeType)throw Error("Invalid template: "+a);}else b=a.cloneNode(!0);this.domNode=b;this.inherited(arguments);this._attachTemplateNodes(b,function(a,b){return a.getAttribute(b)});this._beforeFillContent();this._fillContent(this.srcNodeRef)},_beforeFillContent:function(){},_fillContent:function(a){var b=this.containerNode;if(a&&b)for(;a.hasChildNodes();)b.appendChild(a.firstChild)},_attachTemplateNodes:function(a,b){for(var d=e.isArray(a)?a:a.all||a.getElementsByTagName("*"),c=e.isArray(a)?0:-1;0>
c||d[c];c++){var f=-1==c?a:d[c];if(!this.widgetsInTemplate||!b(f,"dojoType")&&!b(f,"data-dojo-type")){var g=b(f,"dojoAttachPoint")||b(f,"data-dojo-attach-point");if(g)for(var j=g.split(/\s*,\s*/);g=j.shift();)e.isArray(this[g])?this[g].push(f):this[g]=f,this._attachPoints.push(g);if(g=b(f,"dojoAttachEvent")||b(f,"data-dojo-attach-event"))for(var j=g.split(/\s*,\s*/),l=e.trim;g=j.shift();)if(g){var k=null;-1!=g.indexOf(":")?(k=g.split(":"),g=l(k[0]),k=l(k[1])):g=l(g);k||(k=g);this._attachEvents.push(this.connect(f,
i[g]||g,k))}}}},destroyRendering:function(){b.forEach(this._attachPoints,function(a){delete this[a]},this);this._attachPoints=[];b.forEach(this._attachEvents,this.disconnect,this);this._attachEvents=[];this.inherited(arguments)}});d._templateCache={};d.getCachedTemplate=function(a,b,c){var e=d._templateCache,g=a,j=e[g];if(j){try{if(!j.ownerDocument||j.ownerDocument==(c||document))return j}catch(i){}f.destroy(j)}a=l.trim(a);if(b||a.match(/\$\{([^\}]+)\}/g))return e[g]=a;b=f.toDom(a,c);if(1!=b.nodeType)throw Error("Invalid template: "+
a);return e[g]=b};j("ie")&&a.addOnWindowUnload(function(){var a=d._templateCache,b;for(b in a){var c=a[b];"object"==typeof c&&f.destroy(c);delete a[b]}});e.extend(k,{dojoAttachEvent:"",dojoAttachPoint:""});return d})},"dojo/string":function(){define("dojo/string",["./_base/kernel","./_base/lang"],function(e,i){var k={};i.setObject("dojo.string",k);k.rep=function(e,c){if(0>=c||!e)return"";for(var b=[];;){c&1&&b.push(e);if(!(c>>=1))break;e+=e}return b.join("")};k.pad=function(e,c,b,g){b||(b="0");e=
""+e;c=k.rep(b,Math.ceil((c-e.length)/b.length));return g?e+c:c+e};k.substitute=function(l,c,b,g){g=g||e.global;b=b?i.hitch(g,b):function(b){return b};return l.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(e,j,a){e=i.getObject(j,!1,c);a&&(e=i.getObject(a,!1,g).call(g,e,j));return b(e,j).toString()})};k.trim=String.prototype.trim?i.trim:function(e){for(var e=e.replace(/^\s+/,""),c=e.length-1;0<=c;c--)if(/\S/.test(e.charAt(c))){e=e.substring(0,c+1);break}return e};return k})},"dojo/cache":function(){define("dojo/cache",
["./_base/kernel","./text"],function(e){return e.cache})},"dojo/text":function(){define("dojo/text",["./_base/kernel","require","./has","./_base/xhr"],function(e,i,k,l){var c;c=function(a,b,c){l("GET",{url:a,sync:!!b,load:c,headers:e.config.textPluginHeaders||{}})};var b={},g=function(a){if(a){var a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,""),b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},f={},j={};e.cache=function(a,d,e){var f;"string"==
typeof a?/\//.test(a)?(f=a,e=d):f=i.toUrl(a.replace(/\./g,"/")+(d?"/"+d:"")):(f=a+"",e=d);a=void 0!=e&&"string"!=typeof e?e.value:e;e=e&&e.sanitize;if("string"==typeof a)return b[f]=a,e?g(a):a;if(null===a)return delete b[f],null;f in b||c(f,!0,function(a){b[f]=a});return e?g(b[f]):b[f]};return{dynamic:!0,normalize:function(a,b){var c=a.split("!"),e=c[0];return(/^\./.test(e)?b(e):e)+(c[1]?"!"+c[1]:"")},load:function(a,d,e){var a=a.split("!"),l=1<a.length,i=a[0],k=d.toUrl(a[0]),a="url:"+k,m=f,q=function(a){e(l?
g(a):a)};i in b?m=b[i]:a in d.cache?m=d.cache[a]:k in b&&(m=b[k]);if(m===f)if(j[k])j[k].push(q);else{var r=j[k]=[q];c(k,!d.async,function(a){b[i]=b[k]=a;for(var d=0;d<r.length;)r[d++](a);delete j[k]})}else q(m)}}})},"dijit/_CssStateMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-class,dojo/has,dojo/_base/lang,dojo/on,dojo/ready,dojo/_base/window,./registry".split(","),function(e,i,k,l,c,b,g,f,j,a){i=i("dijit._CssStateMixin",[],{cssStateNodes:{},hovering:!1,active:!1,
_applyAttributes:function(){this.inherited(arguments);e.forEach("disabled,readOnly,checked,selected,focused,state,hovering,active,_opened".split(","),function(a){this.watch(a,b.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes)this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":this._set("active",!0);break;case "mouseup":case "touchend":this._set("active",!1)}},_setStateClass:function(){function a(d){b=b.concat(e.map(b,function(a){return a+d}),"dijit"+d)}var b=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var c="mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(c);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&
a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var c=this.stateNode||this.domNode,f={};e.forEach(c.className.split(" "),function(a){f[a]=!0});"_stateClasses"in this&&e.forEach(this._stateClasses,function(a){delete f[a]});e.forEach(b,function(a){f[a]=!0});var g=[],j;for(j in f)g.push(j);c.className=g.join(" ");this._stateClasses=b},_subnodeCssMouseEvent:function(a,b,c){function e(c){l.toggle(a,b+"Active",
c)}if(!this.disabled&&!this.readOnly)switch(c.type){case "mouseover":l.toggle(a,b+"Hover",!0);break;case "mouseout":l.toggle(a,b+"Hover",!1);e(!1);break;case "mousedown":case "touchstart":e(!0);break;case "mouseup":case "touchend":e(!1);break;case "focus":case "focusin":l.toggle(a,b+"Focused",!0);break;case "blur":case "focusout":l.toggle(a,b+"Focused",!1)}},_trackMouseState:function(a,b){a._cssState=b}});f(function(){function b(d){if(!k.isDescendant(d.relatedTarget,d.target))for(var c=d.target;c&&
c!=d.relatedTarget;c=c.parentNode)if(c._cssState){var e=a.getEnclosingWidget(c);e&&(c==e.domNode?e._cssMouseEvent(d):e._subnodeCssMouseEvent(c,c._cssState,d))}}function f(a){a.target=a.srcElement;b(a)}var l=j.body(),i=(c("touch")?[]:["mouseover","mouseout"]).concat(["mousedown","touchstart","mouseup","touchend"]);e.forEach(i,function(a){l.addEventListener?l.addEventListener(a,b,!0):l.attachEvent("on"+a,f)});g(l,"focusin, focusout",function(b){var d=b.target;d._cssState&&!d.getAttribute("widgetId")&&
a.getEnclosingWidget(d)._subnodeCssMouseEvent(d,d._cssState,b)})});return i})},"dijit/form/_FormMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/kernel,dojo/_base/lang,dojo/on,dojo/window".split(","),function(e,i,k,l,c,b){return i("dijit.form._FormMixin",null,{state:"",_getDescendantFormWidgets:function(b){var c=[];e.forEach(b||this.getChildren(),function(b){"value"in b?c.push(b):c=c.concat(this._getDescendantFormWidgets(b.getChildren()))},this);return c},reset:function(){e.forEach(this._getDescendantFormWidgets(),
function(b){b.reset&&b.reset()})},validate:function(){var c=!1;return e.every(e.map(this._getDescendantFormWidgets(),function(e){e._hasBeenBlurred=!0;var j=e.disabled||!e.validate||e.validate();!j&&!c&&(b.scrollIntoView(e.containerNode||e.domNode),e.focus(),c=!0);return j}),function(b){return b})},setValues:function(b){k.deprecated(this.declaredClass+"::setValues() is deprecated. Use set('value', val) instead.","","2.0");return this.set("value",b)},_setValueAttr:function(b){var c={};e.forEach(this._getDescendantFormWidgets(),
function(a){a.name&&(c[a.name]||(c[a.name]=[])).push(a)});for(var j in c)if(c.hasOwnProperty(j)){var a=c[j],d=l.getObject(j,!1,b);void 0!==d&&(l.isArray(d)||(d=[d]),"boolean"==typeof a[0].checked?e.forEach(a,function(a){a.set("value",-1!=e.indexOf(d,a.value))}):a[0].multiple?a[0].set("value",d):e.forEach(a,function(a,b){a.set("value",d[b])}))}},getValues:function(){k.deprecated(this.declaredClass+"::getValues() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},_getValueAttr:function(){var b=
{};e.forEach(this._getDescendantFormWidgets(),function(c){var e=c.name;if(e&&!c.disabled){var a=c.get("value");"boolean"==typeof c.checked?/Radio/.test(c.declaredClass)?!1!==a?l.setObject(e,a,b):(a=l.getObject(e,!1,b),void 0===a&&l.setObject(e,null,b)):(c=l.getObject(e,!1,b),c||(c=[],l.setObject(e,c,b)),!1!==a&&c.push(a)):(c=l.getObject(e,!1,b),"undefined"!=typeof c?l.isArray(c)?c.push(a):l.setObject(e,[c,a],b):l.setObject(e,a,b))}});return b},isValid:function(){return""==this.state},onValidStateChange:function(){},
_getState:function(){var b=e.map(this._descendants,function(b){return b.get("state")||""});return 0<=e.indexOf(b,"Error")?"Error":0<=e.indexOf(b,"Incomplete")?"Incomplete":""},disconnectChildren:function(){},connectChildren:function(b){this._descendants=this._getDescendantFormWidgets();e.forEach(this._descendants,function(b){b._started||b.startup()});b||this._onChildChange()},_onChildChange:function(b){(!b||"state"==b||"disabled"==b)&&this._set("state",this._getState());if(!b||"value"==b||"disabled"==
b||"checked"==b)this._onChangeDelayTimer&&this._onChangeDelayTimer.remove(),this._onChangeDelayTimer=this.defer(function(){delete this._onChangeDelayTimer;this._set("value",this.get("value"))},10)},startup:function(){this.inherited(arguments);this._descendants=this._getDescendantFormWidgets();this.value=this.get("value");this.state=this._getState();var b=this;this.own(c(this.containerNode,"attrmodified-state, attrmodified-disabled, attrmodified-value, attrmodified-checked",function(c){c.target!=b.domNode&&
b._onChildChange(c.type.replace("attrmodified-",""))}));this.watch("state",function(b,c,a){this.onValidStateChange(""==a)})},destroy:function(){this.inherited(arguments)}})})},"dijit/_DialogMixin":function(){define(["dojo/_base/declare","./a11y"],function(e,i){return e("dijit._DialogMixin",null,{execute:function(){},onCancel:function(){},onExecute:function(){},_onSubmit:function(){this.onExecute();this.execute(this.get("value"))},_getFocusItems:function(){var e=i._getTabNavigable(this.containerNode);
this._firstFocusItem=e.lowest||e.first||this.closeButtonNode||this.domNode;this._lastFocusItem=e.last||e.highest||this._firstFocusItem}})})},"dijit/DialogUnderlay":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/window,./_Widget,./_TemplatedMixin,./BackgroundIframe".split(","),function(e,i,k,l,c,b){return e("dijit.DialogUnderlay",[l,c],{templateString:"<div class='dijitDialogUnderlayWrapper'><div class='dijitDialogUnderlay' data-dojo-attach-point='node'></div></div>",dialogId:"","class":"",
_setDialogIdAttr:function(b){i.set(this.node,"id",b+"_underlay");this._set("dialogId",b)},_setClassAttr:function(b){this.node.className="dijitDialogUnderlay "+b;this._set("class",b)},postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode)},layout:function(){var b=this.node.style,c=this.domNode.style;c.display="none";var e=k.getBox(this.ownerDocument);c.top=e.t+"px";c.left=e.l+"px";b.width=e.w+"px";b.height=e.h+"px";c.display="block"},show:function(){this.domNode.style.display="block";
this.layout();this.bgIframe=new b(this.domNode)},hide:function(){this.bgIframe.destroy();delete this.bgIframe;this.domNode.style.display="none"}})})},"dijit/BackgroundIframe":function(){define("require,./main,dojo/_base/config,dojo/dom-construct,dojo/dom-style,dojo/_base/lang,dojo/on,dojo/sniff,dojo/_base/window".split(","),function(e,i,k,l,c,b,g,f,j){var a=new function(){var a=[];this.pop=function(){var b;a.length?(b=a.pop(),b.style.display=""):(9>f("ie")?(b="<iframe src='"+(k.dojoBlankHtmlUrl||
e.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role='presentation' style='position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity=\"0\");'>",b=j.doc.createElement(b)):(b=l.create("iframe"),b.src='javascript:""',b.className="dijitBackgroundIframe",b.setAttribute("role","presentation"),c.set(b,"opacity",0.1)),b.tabIndex=-1);return b};this.push=function(b){b.style.display="none";a.push(b)}};i.BackgroundIframe=function(d){if(!d.id)throw Error("no id");if(f("ie")||f("mozilla")){var e=
this.iframe=a.pop();d.appendChild(e);7>f("ie")||f("quirks")?(this.resize(d),this._conn=g(d,"resize",b.hitch(this,function(){this.resize(d)}))):c.set(e,{width:"100%",height:"100%"})}};b.extend(i.BackgroundIframe,{resize:function(a){this.iframe&&c.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){if(this._conn)this._conn.remove(),this._conn=null;this.iframe&&(a.push(this.iframe),delete this.iframe)}});return i.BackgroundIframe})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel,dojo/_base/lang,../_Widget,../_Container,./_ContentPaneResizeMixin,dojo/string,dojo/html,dojo/i18n!../nls/loading,dojo/_base/array,dojo/_base/declare,dojo/_base/Deferred,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/_base/xhr,dojo/i18n,dojo/when".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q){return a("dijit.layout.ContentPane",[k,l,c],{href:"",content:"",extractContent:!1,parseOnLoad:!0,parserScope:e._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"<span class='dijitContentPaneLoading'><span class='dijitInline dijitIconLoading'></span>${loadingState}</span>",errorMessage:"<span class='dijitContentPaneError'><span class='dijitInline dijitIconError'></span>${errorState}</span>",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},
onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,create:function(a,b){if((!a||!a.template)&&b&&!("href"in a)&&!("content"in a)){for(var b=h.byId(b),d=b.ownerDocument.createDocumentFragment();b.firstChild;)d.appendChild(b.firstChild);a=i.delegate(a,{content:d})}this.inherited(arguments,[a,b])},postMixInProperties:function(){this.inherited(arguments);var a=m.getLocalization("dijit","loading",this.lang);this.loadingMessage=b.substitute(this.loadingMessage,a);this.errorMessage=b.substitute(this.errorMessage,
a)},buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode;this.domNode.title="";p.get(this.domNode,"role")||this.domNode.setAttribute("role","group")},startup:function(){this.inherited(arguments);this._contentSetter&&j.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&i.isFunction(a.startup))a.startup(),a._started=!0},this)},_startChildren:function(){j.forEach(this.getChildren(),function(a){if(!a._started&&!a._destroyed&&
i.isFunction(a.startup))a.startup(),a._started=!0});this._contentSetter&&j.forEach(this._contentSetter.parseResults,function(a){if(!a._started&&!a._destroyed&&i.isFunction(a.startup))a.startup(),a._started=!0},this)},setHref:function(a){e.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",a)},_setHrefAttr:function(a){this.cancel();this.onLoadDeferred=new d(i.hitch(this,"cancel"));this.onLoadDeferred.then(i.hitch(this,"onLoad"));
this._set("href",a);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(a){e.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",a)},_setContentAttr:function(a){this._set("href","");this.cancel();this.onLoadDeferred=new d(i.hitch(this,"cancel"));this._created&&this.onLoadDeferred.then(i.hitch(this,"onLoad"));this._setContent(a||"");this._isDownloaded=
!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(a){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},
refresh:function(){this.cancel();this.onLoadDeferred=new d(i.hitch(this,"cancel"));this.onLoadDeferred.then(i.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var a=this,b={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};i.isObject(this.ioArgs)&&i.mixin(b,this.ioArgs);var d=this._xhrDfd=(this.ioMethod||n.get)(b),c;d.then(function(b){c=b;try{return a._isDownloaded=!0,a._setContent(b,!1)}catch(d){a._onError("Content",
d)}},function(b){d.canceled||a._onError("Download",b);delete a._xhrDfd;return b}).then(function(){a.onDownloadEnd();delete a._xhrDfd;return c});delete this._hrefChanged},_onLoadHandler:function(a){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(a)}catch(b){}},_onUnloadHandler:function(){this._set("isLoaded",!1);try{this.onUnload()}catch(a){}},destroyDescendants:function(a){this.isLoaded&&this._onUnloadHandler();var b=this._contentSetter;j.forEach(this.getChildren(),function(b){b.destroyRecursive?
b.destroyRecursive(a):b.destroy&&b.destroy(a);b._destroyed=!0});b&&(j.forEach(b.parseResults,function(b){if(!b._destroyed)b.destroyRecursive?b.destroyRecursive(a):b.destroy&&b.destroy(a),b._destroyed=!0}),delete b.parseResults);a||o.empty(this.containerNode);delete this._singleChild},_setContent:function(a,b){this.destroyDescendants();var d=this._contentSetter;if(!(d&&d instanceof g._ContentSetter))d=this._contentSetter=new g._ContentSetter({node:this.containerNode,_onError:i.hitch(this,this._onError),
onContentError:i.hitch(this,function(a){a=this.onContentError(a);try{this.containerNode.innerHTML=a}catch(b){}})});var c=i.mixin({cleanContent:this.cleanContent,extractContent:this.extractContent,parseContent:!a.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),c=d.set(i.isObject(a)&&a.domNode?a.domNode:a,c),e=this;return q(c&&c.then?c:d.parseDeferred,function(){delete e._contentSetterParams;b||(e._started&&
(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(a))})},_onError:function(a,b,d){this.onLoadDeferred.reject(b);a=this["on"+a+"Error"].call(this,b);d||a&&this._setContent(a,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct"],function(e,
i,k){return i("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);if(!this.containerNode)this.containerNode=this.domNode},addChild:function(e,c){var b=this.containerNode;if(c&&"number"==typeof c){var g=this.getChildren();if(g&&g.length>=c)b=g[c-1].domNode,c="after"}k.place(e.domNode,b,c);this._started&&!e._started&&e.startup()},removeChild:function(e){"number"==typeof e&&(e=this.getChildren()[e]);if(e)(e=e.domNode)&&e.parentNode&&e.parentNode.removeChild(e)},hasChildren:function(){return 0<
this.getChildren().length},_getSiblingOfChild:function(l,c){var b=this.getChildren(),g=e.indexOf(this.getChildren(),l);return b[g+c]},getIndexOfChild:function(l){return e.indexOf(this.getChildren(),l)}})})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/query,dojo/sniff,../registry,../Viewport,./utils".split(","),function(e,i,k,l,c,b,g,f,j,a,d){return i("dijit.layout._ContentPaneResizeMixin",
null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var d=this.getParent();this._childOfLayoutWidget=d&&d.isLayoutContainer;this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",b.hitch(this,"resize")))}},_checkIfSingleChild:function(){var a=[],b=!1;g("> *",this.containerNode).some(function(d){var c=j.byNode(d);c&&c.resize?a.push(c):d.offsetHeight&&(b=!0)});this._singleChild=
1==a.length&&!b?a[0]:null;k.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)},resize:function(a,b){this._resizeCalled=!0;this._scheduleLayout(a,b)},_scheduleLayout:function(a,b){this._isShown()?this._layout(a,b):(this._needLayout=!0,this._changeSize=a,this._resultSize=b)},_layout:function(a,c){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&l.setMarginBox(this.domNode,a);var e=this.containerNode;if(e===this.domNode){var f=c||{};b.mixin(f,a||{});
if(!("h"in f)||!("w"in f))f=b.mixin(l.getMarginBox(e),f);this._contentBox=d.marginBox2contentBox(e,f)}else this._contentBox=l.getContentBox(e);this._layoutChildren()},_layoutChildren:function(){this.doLayout&&this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||l.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else e.forEach(this.getChildren(),function(a){a.resize&&a.resize()})},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&
"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,b=this.domNode.parentNode;return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!k.contains(a,"dijitHidden")&&b&&b.style&&"none"!=b.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dijit/Viewport":function(){define("dojo/Evented,dojo/on,dojo/ready,dojo/sniff,dojo/_base/window,dojo/window".split(","),
function(e,i,k,l,c,b){var g=new e;k(200,function(){var e=b.getBox();g._rlh=i(c.global,"resize",function(){var a=b.getBox();e.h==a.h&&e.w==a.w||(e=a,g.emit("resize"))});if(8==l("ie")){var j=screen.deviceXDPI;setInterval(function(){if(screen.deviceXDPI!=j)j=screen.deviceXDPI,g.emit("resize")},500)}});return g})},"dijit/layout/utils":function(){define("dojo/_base/array,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,../main".split(","),function(e,i,k,l,c,b){function g(b,e){var a=b.resize?
b.resize(e):k.setMarginBox(b.domNode,e);a?c.mixin(b,a):(c.mixin(b,k.getMarginBox(b.domNode)),c.mixin(b,e))}b=c.getObject("layout",!0,b);b.marginBox2contentBox=function(b,c){var a=l.getComputedStyle(b),d=k.getMarginExtents(b,a),e=k.getPadBorderExtents(b,a);return{l:l.toPixelValue(b,a.paddingLeft),t:l.toPixelValue(b,a.paddingTop),w:c.w-(d.w+e.w),h:c.h-(d.h+e.h)}};b.layoutChildren=function(b,j,a,d,h){j=c.mixin({},j);i.add(b,"dijitLayoutContainer");a=e.filter(a,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(e.filter(a,function(a){return"center"==a.region||"client"==a.layoutAlign}));e.forEach(a,function(a){var b=a.domNode,c=a.region||a.layoutAlign;if(!c)throw Error("No region setting for "+a.id);var e=b.style;e.left=j.l+"px";e.top=j.t+"px";e.position="absolute";i.add(b,"dijitAlign"+(c.substring(0,1).toUpperCase()+c.substring(1)));b={};d&&d==a.id&&(b["top"==a.region||"bottom"==a.region?"h":"w"]=h);"top"==c||"bottom"==c?(b.w=j.w,g(a,b),j.h-=a.h,"top"==c?j.t+=a.h:e.top=j.t+j.h+"px"):
"left"==c||"right"==c?(b.h=j.h,g(a,b),j.w-=a.w,"left"==c?j.l+=a.w:e.left=j.l+j.w+"px"):("client"==c||"center"==c)&&g(a,j)})};return{marginBox2contentBox:b.marginBox2contentBox,layoutChildren:b.layoutChildren}})},"dojo/html":function(){define("dojo/html","./_base/kernel,./_base/lang,./_base/array,./_base/declare,./dom,./dom-construct,./parser".split(","),function(e,i,k,l,c,b,g){var f={};i.setObject("dojo.html",f);var j=0;f._secureForInnerHtml=function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,
"")};f._emptyNode=b.empty;f._setNodeContent=function(a,d){b.empty(a);if(d)if("string"==typeof d&&(d=b.toDom(d,a.ownerDocument)),!d.nodeType&&i.isArrayLike(d))for(var c=d.length,e=0;e<d.length;e=c==d.length?e+1:0)b.place(d[e],a,"last");else b.place(d,a,"last");return a};f._ContentSetter=l("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:e._scopeName,startup:!0,constructor:function(a,b){i.mixin(this,a||{});b=this.node=c.byId(this.node||
b);if(!this.id)this.id=["Setter",b?b.id||b.tagName:"",j++].join("_")},set:function(a,b){if(void 0!==a)this.content=a;b&&this._mixin(b);this.onBegin();this.setContent();var c=this.onEnd();return c&&c.then?c:this.node},setContent:function(){var a=this.node;if(!a)throw Error(this.declaredClass+": setContent given no node");try{a=f._setNodeContent(a,this.content)}catch(b){var c=this.onContentError(b);try{a.innerHTML=c}catch(e){}}this.node=a},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||
this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(k.forEach(this.parseResults,function(a){a.destroy&&a.destroy()}),delete this.parseResults);b.empty(this.node)},onBegin:function(){var a=this.content;if(i.isString(a)&&(this.cleanContent&&(a=f._secureForInnerHtml(a)),this.extractContent)){var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}this.empty();this.content=a;return this.node},onEnd:function(){this.parseContent&&this._parse();
return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var b={},c;for(c in a)c in b||(this[c]=a[c])},_parse:function(){var a=this.node;try{var b={};k.forEach(["dir","lang","textDir"],function(a){this[a]&&(b[a]=this[a])},this);var c=this;this.parseDeferred=g.parse({rootNode:a,
noStart:!this.startup,inherited:b,scope:this.parserScope}).then(function(a){return c.parseResults=a})}catch(e){this._onError("Content",e,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(a,b,c){a=this["on"+a+"Error"].call(this,b);c||a&&f._setNodeContent(this.node,a,!0)}});f.set=function(a,b,c){void 0==b&&(b="");return c?(new f._ContentSetter(i.mixin(c,{content:b,node:a}))).set():f._setNodeContent(a,b,!0)};return f})},"dojo/parser":function(){define("dojo/parser","require,./_base/kernel,./_base/lang,./_base/array,./_base/config,./_base/html,./_base/window,./_base/url,./_base/json,./aspect,./date/stamp,./Deferred,./has,./query,./on,./ready".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m){function q(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<u){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=u}return b}function r(a){var b=a.join();if(!t[b]){for(var c=[],d=0,f=a.length;d<f;d++){var h=a[d];c[c.length]=t[h]=t[h]||k.getObject(h)||~h.indexOf("/")&&e(h)}a=c.shift();t[b]=c.length?a.createSubclass?a.createSubclass(c):a.extend.apply(a,c):a}return t[b]}var u=0;a.after(k,"extend",function(){u++},
!0);var t={},v={_clearCache:function(){u++;t={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&f.length&&l.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){var b=b||{},c=c||{},d=(c.scope||i._scopeName)+"Type",e="data-"+(c.scope||i._scopeName)+"-",f=e+"type",h=e+"mixins",g=[];l.forEach(a,function(a){var c=d in
b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(h),c=e?[c].concat(e.split(/\s*,\s*/)):[c];g.push({node:a,types:c})}});return this._instantiate(g,b,c)},_instantiate:function(a,b,c){a=l.map(a,function(a){var d=a.ctor||r(a.types);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);!b._started&&!c.noStart&&l.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a},
construct:function(b,c,e,h,g,m){var s;var r=b&&b.prototype,h=h||{},u={};h.defaults&&k.mixin(u,h.defaults);m&&k.mixin(u,m);var v;p("dom-attributes-explicit")?v=c.attributes:p("dom-attributes-specified-flag")?v=l.filter(c.attributes,function(a){return a.specified}):(m=(/^input$|^img$/i.test(c.nodeName)?c:c.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,"").replace(/\s*>.*$/,""),v=l.map(m.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,
value:"LI"==c.nodeName&&"value"==a||"enctype"==b?c.getAttribute(b):c.getAttributeNode(b).value}}));var t=h.scope||i._scopeName,m="data-"+t+"-",A={};"dojo"!==t&&(A[m+"props"]="data-dojo-props",A[m+"type"]="data-dojo-type",A[m+"mixins"]="data-dojo-mixins",A[t+"type"]="dojoType",A[m+"id"]="data-dojo-id");for(var t=0,w,x=[],K,H;w=v[t++];){var C=w.name,F=C.toLowerCase();w=w.value;switch(A[F]||F){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;case "data-dojo-props":H=w;break;case "data-dojo-id":case "jsid":K=
w;break;case "data-dojo-attach-point":case "dojoattachpoint":u.dojoAttachPoint=w;break;case "data-dojo-attach-event":case "dojoattachevent":u.dojoAttachEvent=w;break;case "class":u["class"]=c.className;break;case "style":u.style=c.style&&c.style.cssText;break;default:if(C in r||(C=q(b)[F]||C),C in r)switch(typeof r[C]){case "string":u[C]=w;break;case "number":u[C]=w.length?Number(w):NaN;break;case "boolean":u[C]="false"!=w.toLowerCase();break;case "function":u[C]=""===w||-1!=w.search(/[^\w\.]+/i)?
new Function(w):k.getObject(w,!1)||new Function(w);x.push(C);break;default:F=r[C],u[C]=F&&"length"in F?w?w.split(/\s*,\s*/):[]:F instanceof Date?""==w?new Date(""):"now"==w?new Date:d.fromISOString(w):F instanceof f?i.baseUrl+w:j.fromJson(w)}else u[C]=w}}for(t=0;t<x.length;t++)v=x[t].toLowerCase(),c.removeAttribute(v),c[v]=null;if(H)try{H=j.fromJson.call(h.propsThis,"{"+H+"}"),k.mixin(u,H)}catch(O){throw Error(O.toString()+" in data-dojo-props='"+H+"'");}k.mixin(u,e);g||(g=b&&(b._noScript||r._noScript)?
[]:o("> script[type^='dojo/']",c));e=[];h=[];H=[];x=[];if(g)for(t=0;t<g.length;t++){var D=g[t];c.removeChild(D);v=D.getAttribute(m+"event")||D.getAttribute("event");A=D.getAttribute(m+"prop");C=D.getAttribute(m+"method");F=D.getAttribute(m+"advice");w=D.getAttribute("type");D=this._functionFromScript(D,m);v?"dojo/connect"==w?e.push({method:v,func:D}):"dojo/on"==w?x.push({event:v,func:D}):u[v]=D:"dojo/aspect"==w?e.push({method:C,advice:F,func:D}):"dojo/watch"==w?H.push({prop:A,func:D}):h.push(D)}s=
(g=b.markupFactory||r.markupFactory)?g(u,c,b):new b(u,c),b=s;K&&k.setObject(K,b);for(t=0;t<e.length;t++)a[e[t].advice||"after"](b,e[t].method,k.hitch(b,e[t].func),!0);for(t=0;t<h.length;t++)h[t].call(b);for(t=0;t<H.length;t++)b.watch(H[t].prop,H[t].func);for(t=0;t<x.length;t++)n(b,x[t].event,x[t].func);return b},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(n)||
d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],f=[],g={},j=(b.scope||i._scopeName)+"Type",k="data-"+(b.scope||i._scopeName)+"-",m=k+"type",n=k+"textdir",k=k+"mixins",q=a.firstChild,u=b.inherited;if(!u){var v=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&v(a.parentNode,b)},u={dir:v(a,"dir"),lang:v(a,"lang"),textDir:v(a,n)},o;for(o in u)u[o]||delete u[o]}for(var u={inherited:u},t,C;;)if(q)if(1!=q.nodeType)q=q.nextSibling;else if(t&&"script"==
q.nodeName.toLowerCase())(F=q.getAttribute("type"))&&/^dojo\/\w/i.test(F)&&t.push(q),q=q.nextSibling;else if(C)q=q.nextSibling;else{var F=q.getAttribute(m)||q.getAttribute(j);o=q.firstChild;if(!F&&(!o||3==o.nodeType&&!o.nextSibling))q=q.nextSibling;else{C=null;if(F){var O=q.getAttribute(k);t=O?[F].concat(O.split(/\s*,\s*/)):[F];try{C=r(t)}catch(D){}C||l.forEach(t,function(a){~a.indexOf("/")&&!g[a]&&(g[a]=!0,f[f.length]=a)});O=C&&!C.prototype._noScript?[]:null;u={types:t,ctor:C,parent:u,node:q,scripts:O};
u.inherited=c(u);d.push(u)}else u={node:q,scripts:t,parent:u};q=o;t=O;C=C&&C.prototype.stopParser&&!b.template}}else{if(!u||!u.node)break;q=u.node.nextSibling;C=!1;u=u.parent;t=u.scripts}var L=new h;f.length?(p("dojo-debug-messages"),e(f,function(){L.resolve(l.filter(d,function(a){if(!a.ctor)try{a.ctor=r(a.types)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;
return a.instantiate}))})):L.resolve(d);return L.promise},_require:function(a){var a=j.fromJson("{"+a.innerHTML+"}"),b=[],c=[],d=new h,f;for(f in a)b.push(f),c.push(a[f]);e(c,function(){for(var a=0;a<b.length;a++)k.setObject(b[a],arguments[a]);d.resolve(arguments)});return d.promise},_scanAmd:function(a){var b=new h,c=b.promise;b.resolve(!0);var d=this;o("script[type='dojo/require']",a).forEach(function(a){c=c.then(function(){return d._require(a)});a.parentNode.removeChild(a)});return c},parse:function(a,
c){var d;!c&&a&&a.rootNode?(c=a,d=c.rootNode):a&&k.isObject(a)&&!("nodeType"in a)?c=a:d=a;d=d?b.byId(d):g.body();var c=c||{},e=c.template?{template:!0}:{},f=[],h=this,j=this._scanAmd(d,c).then(function(){return h.scan(d,c)}).then(function(a){return f=f.concat(h._instantiate(a,e,c))}).otherwise(function(a){throw a;});k.mixin(f,j);return f}};i.parser=v;c.parseOnLoad&&m(100,v,"parse");return v})},"dojo/_base/html":function(){define("./kernel,../dom,../dom-style,../dom-attr,../dom-prop,../dom-class,../dom-construct,../dom-geometry".split(","),
function(e,i,k,l,c,b,g,f){e.byId=i.byId;e.isDescendant=i.isDescendant;e.setSelectable=i.setSelectable;e.getAttr=l.get;e.setAttr=l.set;e.hasAttr=l.has;e.removeAttr=l.remove;e.getNodeProp=l.getNodeProp;e.attr=function(b,a,c){return 2==arguments.length?l["string"==typeof a?"get":"set"](b,a):l.set(b,a,c)};e.hasClass=b.contains;e.addClass=b.add;e.removeClass=b.remove;e.toggleClass=b.toggle;e.replaceClass=b.replace;e._toDom=e.toDom=g.toDom;e.place=g.place;e.create=g.create;e.empty=function(b){g.empty(b)};
e._destroyElement=e.destroy=function(b){g.destroy(b)};e._getPadExtents=e.getPadExtents=f.getPadExtents;e._getBorderExtents=e.getBorderExtents=f.getBorderExtents;e._getPadBorderExtents=e.getPadBorderExtents=f.getPadBorderExtents;e._getMarginExtents=e.getMarginExtents=f.getMarginExtents;e._getMarginSize=e.getMarginSize=f.getMarginSize;e._getMarginBox=e.getMarginBox=f.getMarginBox;e.setMarginBox=f.setMarginBox;e._getContentBox=e.getContentBox=f.getContentBox;e.setContentSize=f.setContentSize;e._isBodyLtr=
e.isBodyLtr=f.isBodyLtr;e._docScroll=e.docScroll=f.docScroll;e._getIeDocumentElementOffset=e.getIeDocumentElementOffset=f.getIeDocumentElementOffset;e._fixIeBiDiScrollLeft=e.fixIeBiDiScrollLeft=f.fixIeBiDiScrollLeft;e.position=f.position;e.marginBox=function(b,a){return a?f.setMarginBox(b,a):f.getMarginBox(b)};e.contentBox=function(b,a){return a?f.setContentSize(b,a):f.getContentBox(b)};e.coords=function(b,a){e.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");var b=i.byId(b),
c=k.getComputedStyle(b),c=f.getMarginBox(b,c),h=f.position(b,a);c.x=h.x;c.y=h.y;return c};e.getProp=c.get;e.setProp=c.set;e.prop=function(b,a,d){return 2==arguments.length?c["string"==typeof a?"get":"set"](b,a):c.set(b,a,d)};e.getStyle=k.get;e.setStyle=k.set;e.getComputedStyle=k.getComputedStyle;e.__toPixelValue=e.toPixelValue=k.toPixelValue;e.style=function(b,a,c){switch(arguments.length){case 1:return k.get(b);case 2:return k["string"==typeof a?"get":"set"](b,a)}return k.set(b,a,c)};return e})},
"dojo/_base/url":function(){define(["./kernel"],function(e){var i=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,k=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,l=function(){for(var c=arguments,b=[c[0]],e=1;e<c.length;e++)if(c[e]){var f=new l(c[e]+""),b=new l(b[0]+"");if(""==f.path&&!f.scheme&&!f.authority&&!f.query){if(null!=f.fragment)b.fragment=f.fragment;f=b}else if(!f.scheme&&(f.scheme=b.scheme,!f.authority&&(f.authority=b.authority,"/"!=f.path.charAt(0)))){for(var b=
(b.path.substring(0,b.path.lastIndexOf("/")+1)+f.path).split("/"),j=0;j<b.length;j++)"."==b[j]?j==b.length-1?b[j]="":(b.splice(j,1),j--):0<j&&!(1==j&&""==b[0])&&".."==b[j]&&".."!=b[j-1]&&(j==b.length-1?(b.splice(j,1),b[j-1]=""):(b.splice(j-1,2),j-=2));f.path=b.join("/")}b=[];f.scheme&&b.push(f.scheme,":");f.authority&&b.push("//",f.authority);b.push(f.path);f.query&&b.push("?",f.query);f.fragment&&b.push("#",f.fragment)}this.uri=b.join("");c=this.uri.match(i);this.scheme=c[2]||(c[1]?"":null);this.authority=
c[4]||(c[3]?"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);if(null!=this.authority)c=this.authority.match(k),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null};l.prototype.toString=function(){return this.uri};return e._Url=l})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(e,i){var k={};e.setObject("dojo.date.stamp",k);k.fromISOString=function(e,c){if(!k._isoRegExp)k._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;
var b=k._isoRegExp.exec(e),g=null;if(b){b.shift();b[1]&&b[1]--;b[6]&&(b[6]*=1E3);c&&(c=new Date(c),i.forEach(i.map("FullYear,Month,Date,Hours,Minutes,Seconds,Milliseconds".split(","),function(a){return c["get"+a]()}),function(a,c){b[c]=b[c]||a}));g=new Date(b[0]||1970,b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0);100>b[0]&&g.setFullYear(b[0]||1970);var f=0,j=b[7]&&b[7].charAt(0);"Z"!=j&&(f=60*(b[8]||0)+(Number(b[9])||0),"-"!=j&&(f*=-1));j&&(f-=g.getTimezoneOffset());f&&g.setTime(g.getTime()+6E4*
f)}return g};k.toISOString=function(e,c){var b=function(a){return 10>a?"0"+a:a},c=c||{},g=[],f=c.zulu?"getUTC":"get",j="";"time"!=c.selector&&(j=e[f+"FullYear"](),j=["0000".substr((j+"").length)+j,b(e[f+"Month"]()+1),b(e[f+"Date"]())].join("-"));g.push(j);if("date"!=c.selector){j=[b(e[f+"Hours"]()),b(e[f+"Minutes"]()),b(e[f+"Seconds"]())].join(":");f=e[f+"Milliseconds"]();c.milliseconds&&(j+="."+(100>f?"0":"")+b(f));if(c.zulu)j+="Z";else if("time"!=c.selector)var f=e.getTimezoneOffset(),a=Math.abs(f),
j=j+((0<f?"-":"+")+b(Math.floor(a/60))+":"+b(a%60));g.push(j)}return g.join("T")};return k})},"url:dijit/templates/Dialog.html":'<div class="dijitDialog" role="dialog" aria-labelledby="${id}_title">\n\t<div data-dojo-attach-point="titleBar" class="dijitDialogTitleBar">\n\t\t<span data-dojo-attach-point="titleNode" class="dijitDialogTitle" id="${id}_title"\n\t\t\t\trole="heading" level="1"></span>\n\t\t<span data-dojo-attach-point="closeButtonNode" class="dijitDialogCloseIcon" data-dojo-attach-event="ondijitclick: onCancel" title="${buttonCancel}" role="button" tabIndex="-1">\n\t\t\t<span data-dojo-attach-point="closeText" class="closeText" title="${buttonCancel}">x</span>\n\t\t</span>\n\t</div>\n\t<div data-dojo-attach-point="containerNode" class="dijitDialogPaneContent"></div>\n</div>\n',
"kk/views/widgets/kanbanBoard/kanbanBoard":function(){require({cache:{"url:kk/views/widgets/kanbanBoard/kanbanBoard.html":'<tr data-dojo-attach-point="columnNodes" class="innerContainer"></tr>'}});define("kk/views/widgets/kanbanBoard/kanbanBoard","dojo/_base/declare,dojo/query,dojo/dom-style,dojo/aspect,dojo/dom-attr,dojo/on,dojo/topic,dojo/dom-construct,dojo/dom-class,dojo/_base/lang,dojo/_base/array,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,kk/views/widgets/kanbanBoard/kanbanColumn,kk/views/widgets/kanbanBoard/kanbanCard,dojo/text!./kanbanBoard.html,dojo/_base/window,dojo/NodeList-traverse".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q){return e([h,p,o],{templateString:q,workflowstepsStore:{},kanbancardsStore:{},originalNodes:{},movingNodes:[],kbcs:{},moveStart:function(a,b){this.originSource=a;this.movingNodes=b;this.movingNodes.forEach(function(a){i(".itemImg",a).style("visibility","hidden");i(".itemText",a).style("visibility","hidden")});i(".dojoDndAvatar").style("width",b.style("width")+"px");i(".dojoDndAvatar").style("height",b.style("height")+"px");this.movingNodes.forEach(function(a){this.originalNodes[a.id]||
(this.originalNodes[a.id]=null!=a.previousSibling?{sibling:a.previousSibling,position:"after"}:null!=a.nextSibling?{sibling:a.nextSibling,position:"before"}:{sibling:a.parentNode,position:"first"})},this)},moveCancel:function(){this.movingNodes.forEach(function(a){f.place(a,this.originalNodes[a.id].sibling,this.originalNodes[a.id].position);i(".itemImg",a).style("visibility","visible");i(".itemText",a).style("visibility","visible")},this);this.movingNodes=[];this.originalNodes={}},moveStop:function(a,
b,d,e){this.movingNodes.forEach(function(a){i("div",a).style("visibility","visible")});this.movingNodes=[];this.originalNodes={};"undefined"!=typeof b&&(b.forEach(function(b){g.publish("/kk/dndUpdateStore",a.node.id,e.node.id,c.get(b,"dnddata"))}),g.publish("/kk/nodemoved"))},moveOver:function(a){if(null==a)this.movingNodes.forEach(function(a){f.place(a,this.originalNodes[a.id].sibling,this.originalNodes[a.id].position)},this);else{var b=i(".dojoDndItemBefore"),c=i(".dojoDndItemAfter"),d=null,e=null;
if(a.checkAcceptance(this.originSource,this.movingNodes))0==b.length&&0==c.length?(d=a.node,e="last"):0<b.length?(d=b[0],e="before"):(d=c[0],e="after"),this.movingNodes.forEach(function(a){a!=d&&f.place(a,d,e)})}},clickOnCard:function(){},addCommonListeners:function(b){l.after(b.dndSource,"_markTargetAnchor",a.hitch(this,this.moveOver,b.dndSource),!0)},addOnetimeListeners:function(){g.subscribe("/dnd/start",a.hitch(this,this.moveStart));g.subscribe("/dnd/drop",a.hitch(this,this.moveStop));g.subscribe("/dnd/cancel",
a.hitch(this,this.moveCancel));g.subscribe("/dnd/source/over",a.hitch(this,this.moveOver))},postCreate:function(){this.addOnetimeListeners();this.workflowstepsStore.query().then(a.hitch(this,this.processWorkflows))},processWorkflows:function(b){d.forEach(b,function(b){var c=b.id,b=new n({item:b});this.kbcs[c]=b;b.placeAt(this.columnNodes);this.addCommonListeners(b);this.kanbancardsStore.query({workflow:c}).then(a.hitch(this,this.processCards,b))},this)},processCards:function(a,b){a.dndSource.insertNodes(!1,
b);g.publish("/kk/finishedkanban")},newNode:function(a){this.kbcs[a.workflow].dndSource.insertNodes(!1,[a])}})})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/parser"],function(e,i,k){return i("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,widgetsInTemplate:!0,_beforeFillContent:function(){if(this.widgetsInTemplate){var e=this._startupWidgets=k.parse(this.domNode,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,
lang:this.lang,textDir:this.textDir},propsThis:this,scope:"dojo"});if(!e.isFulfilled())throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");this._attachTemplateNodes(e,function(c,b){return c[b]})}},startup:function(){e.forEach(this._startupWidgets,function(e){e&&!e._started&&e.startup&&e.startup()});this.inherited(arguments)}})})},"kk/views/widgets/kanbanBoard/kanbanColumn":function(){require({cache:{"url:kk/views/widgets/kanbanBoard/kanbanColumn.html":'<td class="column ${item.initialstate}">\r\n\t<h1 class="columnTitle">\r\n\t\t<span class="columnShower columnToggler clickable" data-dojo-attach-event="onclick:toggler">+</span>\r\n\t\t<span class="columnHider columnToggler clickable" data-dojo-attach-event="onclick:toggler">-</span>\r\n\t\t<span class="columnTitle clickable" data-dojo-attach-event="onclick:toggler">${item.title}</span>\r\n\t</h1>\r\n\t<ul id="${item.id}" class="columnContainer" data-dojo-attach-point="cardNodes"></ul>\r\n</td>',
"url:kk/views/widgets/kanbanBoard/kanbanCard.html":'<li dndData="${id}">\r\n\t<div class="kkcard">\r\n\t\t<div class="itemImg dojoDndHandle overflow_hidden card_title">\r\n\t\t\t<div class="card_id_block bold">${id}</div>\r\n\t\t\t<div class="card_name_block">${title}</div>\r\n\t\t</div>\r\n\t\t<div class="itemText"><span>${description}</span></div>\r\n\t</div>\r\n</li>'}});define("kk/views/widgets/kanbanBoard/kanbanColumn","dojo/_base/declare,dojo/dnd/Source,dojo/_base/lang,dojo/string,dojo/dom-construct,dojo/query,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/dom-class,dojo/dom,dojo/dom-style,dojo/text!./kanbanColumn.html,kk/views/widgets/kanbanBoard/kanbanCard,dojo/text!./kanbanCard.html".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n){return e([g,f,j],{templateString:p,kbCard:n,item:null,nodes:[],copyOnly:!1,selfAccept:!0,outernone:null,minimisedSource:!1,cardCreator:function(a){return{node:c.toDom(l.substitute(this.kbCard,a)),data:a}},postCreate:function(){return this.dndSource=new i(this.cardNodes,{selfAccept:!0,withHandles:!0,creator:k.hitch(this,this.cardCreator),singular:!0,copyState:function(){return!1}})},toggler:function(c){c=b(c.target).closest(".column");a.toggle(c[0],"minimisedSource");
a.toggle(c[0],"openedSource")}})})},"dojo/dnd/Source":function(){define("../_base/array,../_base/connect,../_base/declare,../_base/kernel,../_base/lang,../dom-class,../dom-geometry,../mouse,../ready,../topic,./common,./Selector,./Manager".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p){l.isAsync||j(0,function(){require(["dojo/dnd/AutoSource","dojo/dnd/Target"])});var o=k("dojo.dnd.Source",h,{isSource:!0,horizontal:!1,copyOnly:!1,selfCopy:!1,selfAccept:!0,skipForm:!1,withHandles:!1,autoSync:!1,delay:0,
accept:["text"],generateText:!0,constructor:function(d,e){c.mixin(this,c.mixin({},e));var f=this.accept;if(f.length){this.accept={};for(var h=0;h<f.length;++h)this.accept[f[h]]=1}this.mouseDown=this.isDragging=!1;this.targetBox=this.targetAnchor=null;this.before=!0;this._lastY=this._lastX=0;this.sourceState="";this.isSource&&b.add(this.node,"dojoDndSource");this.targetState="";this.accept&&b.add(this.node,"dojoDndTarget");this.horizontal&&b.add(this.node,"dojoDndHorizontal");this.topics=[a.subscribe("/dnd/source/over",
c.hitch(this,"onDndSourceOver")),a.subscribe("/dnd/start",c.hitch(this,"onDndStart")),a.subscribe("/dnd/drop",c.hitch(this,"onDndDrop")),a.subscribe("/dnd/cancel",c.hitch(this,"onDndCancel"))]},checkAcceptance:function(a,b){if(this==a)return!this.copyOnly||this.selfAccept;for(var c=0;c<b.length;++c){for(var d=a.getItem(b[c].id).type,e=!1,f=0;f<d.length;++f)if(d[f]in this.accept){e=!0;break}if(!e)return!1}return!0},copyState:function(a,b){if(a)return!0;2>arguments.length&&(b=this==p.manager().target);
if(b){if(this.copyOnly)return this.selfCopy}else return this.copyOnly;return!1},destroy:function(){o.superclass.destroy.call(this);e.forEach(this.topics,function(a){a.remove()});this.targetAnchor=null},onMouseMove:function(a){if(!(this.isDragging&&"Disabled"==this.targetState)){o.superclass.onMouseMove.call(this,a);var b=p.manager();if(!this.isDragging&&this.mouseDown&&this.isSource&&(Math.abs(a.pageX-this._lastX)>this.delay||Math.abs(a.pageY-this._lastY)>this.delay)){var c=this.getSelectedNodes();
c.length&&b.startDrag(this,c,this.copyState(d.getCopyKeyState(a),!0))}if(this.isDragging){c=!1;if(this.current){if(!this.targetBox||this.targetAnchor!=this.current)this.targetBox=g.position(this.current,!0);c=this.horizontal?a.pageX-this.targetBox.x<this.targetBox.w/2==g.isBodyLtr(this.current.ownerDocument):a.pageY-this.targetBox.y<this.targetBox.h/2}if(this.current!=this.targetAnchor||c!=this.before)this._markTargetAnchor(c),b.canDrop(!this.current||b.source!=this||!(this.current.id in this.selection))}}},
onMouseDown:function(a){if(!this.mouseDown&&this._legalMouseDown(a)&&(!this.skipForm||!d.isFormElement(a)))this.mouseDown=!0,this._lastX=a.pageX,this._lastY=a.pageY,o.superclass.onMouseDown.call(this,a)},onMouseUp:function(a){if(this.mouseDown)this.mouseDown=!1,o.superclass.onMouseUp.call(this,a)},onDndSourceOver:function(a){this!==a?(this.mouseDown=!1,this.targetAnchor&&this._unmarkTargetAnchor()):this.isDragging&&(a=p.manager(),a.canDrop("Disabled"!=this.targetState&&(!this.current||a.source!=this||
!(this.current.id in this.selection))))},onDndStart:function(a,b,c){this.autoSync&&this.sync();this.isSource&&this._changeState("Source",this==a?c?"Copied":"Moved":"");this._changeState("Target",this.accept&&this.checkAcceptance(a,b)?"":"Disabled");this==a&&p.manager().overSource(this);this.isDragging=!0},onDndDrop:function(a,b,c,d){if(this==d)this.onDrop(a,b,c);this.onDndCancel()},onDndCancel:function(){if(this.targetAnchor)this._unmarkTargetAnchor(),this.targetAnchor=null;this.before=!0;this.mouseDown=
this.isDragging=!1;this._changeState("Source","");this._changeState("Target","")},onDrop:function(a,b,c){if(this!=a)this.onDropExternal(a,b,c);else this.onDropInternal(b,c)},onDropExternal:function(a,b,c){var e=this._normalizedCreator;this._normalizedCreator=this.creator?function(b,c){return e.call(this,a.getItem(b.id).data,c)}:c?function(b){var c=a.getItem(b.id),b=b.cloneNode(!0);b.id=d.getUniqueId();return{node:b,data:c.data,type:c.type}}:function(b){var c=a.getItem(b.id);a.delItem(b.id);return{node:b,
data:c.data,type:c.type}};this.selectNone();!c&&!this.creator&&a.selectNone();this.insertNodes(!0,b,this.before,this.current);!c&&this.creator&&a.deleteSelectedNodes();this._normalizedCreator=e},onDropInternal:function(a,b){var c=this._normalizedCreator;if(!(this.current&&this.current.id in this.selection)){if(b)this._normalizedCreator=this.creator?function(a,b){return c.call(this,this.getItem(a.id).data,b)}:function(a){var b=this.getItem(a.id),a=a.cloneNode(!0);a.id=d.getUniqueId();return{node:a,
data:b.data,type:b.type}};else{if(!this.current)return;this._normalizedCreator=function(a){var b=this.getItem(a.id);return{node:a,data:b.data,type:b.type}}}this._removeSelection();this.insertNodes(!0,a,this.before,this.current);this._normalizedCreator=c}},onDraggingOver:function(){},onDraggingOut:function(){},onOverEvent:function(){o.superclass.onOverEvent.call(this);p.manager().overSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOver()},onOutEvent:function(){o.superclass.onOutEvent.call(this);
p.manager().outSource(this);if(this.isDragging&&"Disabled"!=this.targetState)this.onDraggingOut()},_markTargetAnchor:function(a){if(!(this.current==this.targetAnchor&&this.before==a))this.targetAnchor&&this._removeItemClass(this.targetAnchor,this.before?"Before":"After"),this.targetAnchor=this.current,this.targetBox=null,this.before=a,this.targetAnchor&&this._addItemClass(this.targetAnchor,this.before?"Before":"After")},_unmarkTargetAnchor:function(){if(this.targetAnchor)this._removeItemClass(this.targetAnchor,
this.before?"Before":"After"),this.targetBox=this.targetAnchor=null,this.before=!0},_markDndStatus:function(a){this._changeState("Source",a?"Copied":"Moved")},_legalMouseDown:function(a){if("touchstart"!=a.type&&!f.isLeft(a))return!1;if(!this.withHandles)return!0;for(a=a.target;a&&a!==this.node;a=a.parentNode){if(b.contains(a,"dojoDndHandle"))return!0;if(b.contains(a,"dojoDndItem")||b.contains(a,"dojoDndIgnore"))break}return!1}});return o})},"dojo/dnd/Selector":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../dom,../dom-construct,../mouse,../_base/NodeList,../on,../touch,./common,./Container".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p){var o=i("dojo.dnd.Selector",p,{constructor:function(b,e){e||(e={});this.singular=e.singular;this.autoSync=e.autoSync;this.selection={};this.anchor=null;this.simpleSelection=!1;this.events.push(a(this.node,d.press,c.hitch(this,"onMouseDown")),a(this.node,d.release,c.hitch(this,"onMouseUp")))},singular:!1,getSelectedNodes:function(){var a=new j,c=h._empty,d;for(d in this.selection)d in c||a.push(b.byId(d));return a},selectNone:function(){return this._removeSelection()._removeAnchor()},
selectAll:function(){this.forInItems(function(a,c){this._addItemClass(b.byId(c),"Selected");this.selection[c]=1},this);return this._removeAnchor()},deleteSelectedNodes:function(){var a=h._empty,c;for(c in this.selection)if(!(c in a)){var d=b.byId(c);this.delItem(c);g.destroy(d)}this.anchor=null;this.selection={};return this},forInSelectedItems:function(a,b){var b=b||l.global,c=this.selection,d=h._empty,e;for(e in c)e in d||a.call(b,this.getItem(e),e,this)},sync:function(){o.superclass.sync.call(this);
if(this.anchor&&!this.getItem(this.anchor.id))this.anchor=null;var a=[],b=h._empty,c;for(c in this.selection)c in b||this.getItem(c)||a.push(c);e.forEach(a,function(a){delete this.selection[a]},this);return this},insertNodes:function(a,b,c,d){var e=this._normalizedCreator;this._normalizedCreator=function(b,c){var d=e.call(this,b,c);a?(this.anchor?this.anchor!=d.node&&(this._removeItemClass(d.node,"Anchor"),this._addItemClass(d.node,"Selected")):(this.anchor=d.node,this._removeItemClass(d.node,"Selected"),
this._addItemClass(this.anchor,"Anchor")),this.selection[d.node.id]=1):(this._removeItemClass(d.node,"Selected"),this._removeItemClass(d.node,"Anchor"));return d};o.superclass.insertNodes.call(this,b,c,d);this._normalizedCreator=e;return this},destroy:function(){o.superclass.destroy.call(this);this.selection=this.anchor=null},onMouseDown:function(a){this.autoSync&&this.sync();if(this.current)if(!this.singular&&!h.getCopyKeyState(a)&&!a.shiftKey&&this.current.id in this.selection)this.simpleSelection=
!0,f.isLeft(a)&&k.stop(a);else{if(!this.singular&&a.shiftKey){h.getCopyKeyState(a)||this._removeSelection();var b=this.getAllNodes();if(b.length){if(!this.anchor)this.anchor=b[0],this._addItemClass(this.anchor,"Anchor");this.selection[this.anchor.id]=1;if(this.anchor!=this.current){for(var c=0,d;c<b.length&&!(d=b[c],d==this.anchor||d==this.current);++c);for(++c;c<b.length;++c){d=b[c];if(d==this.anchor||d==this.current)break;this._addItemClass(d,"Selected");this.selection[d.id]=1}this._addItemClass(this.current,
"Selected");this.selection[this.current.id]=1}}}else if(this.singular)this.anchor==this.current?h.getCopyKeyState(a)&&this.selectNone():(this.selectNone(),this.anchor=this.current,this._addItemClass(this.anchor,"Anchor"),this.selection[this.current.id]=1);else if(h.getCopyKeyState(a))this.anchor==this.current?(delete this.selection[this.anchor.id],this._removeAnchor()):this.current.id in this.selection?(this._removeItemClass(this.current,"Selected"),delete this.selection[this.current.id]):(this.anchor&&
(this._removeItemClass(this.anchor,"Anchor"),this._addItemClass(this.anchor,"Selected")),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1);else if(!(this.current.id in this.selection))this.selectNone(),this.anchor=this.current,this._addItemClass(this.current,"Anchor"),this.selection[this.current.id]=1;k.stop(a)}},onMouseUp:function(){if(this.simpleSelection&&(this.simpleSelection=!1,this.selectNone(),this.current))this.anchor=this.current,this._addItemClass(this.anchor,
"Anchor"),this.selection[this.current.id]=1},onMouseMove:function(){this.simpleSelection=!1},onOverEvent:function(){this.onmousemoveEvent=a(this.node,d.move,c.hitch(this,"onMouseMove"))},onOutEvent:function(){this.onmousemoveEvent&&(this.onmousemoveEvent.remove(),delete this.onmousemoveEvent)},_removeSelection:function(){var a=h._empty,c;for(c in this.selection)if(!(c in a)){var d=b.byId(c);d&&this._removeItemClass(d,"Selected")}this.selection={};return this},_removeAnchor:function(){if(this.anchor)this._removeItemClass(this.anchor,
"Anchor"),this.anchor=null;return this}});return o})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(e,i,k){var i=i.NodeList,l=i.prototype;l.connect=i._adaptAsForEach(function(){return e.connect.apply(this,arguments)});l.coords=i._adaptAsMap(e.coords);i.events="blur,focus,change,click,error,keydown,keypress,keyup,load,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,submit".split(",");k.forEach(i.events,function(c){var b=
"on"+c;l[b]=function(c,e){return this.connect(b,c,e)}});return e.NodeList=i})},"dojo/NodeList-dom":function(){define("dojo/NodeList-dom","./_base/kernel,./query,./_base/array,./_base/lang,./dom-class,./dom-construct,./dom-geometry,./dom-attr,./dom-style".split(","),function(e,i,k,l,c,b,g,f,j){function a(a){return function(b,c,d){return 2==arguments.length?a["string"==typeof c?"get":"set"](b,c):a.set(b,c,d)}}var d=function(a){return 1==a.length&&"string"==typeof a[0]},h=function(a){var b=a.parentNode;
b&&b.removeChild(a)},p=i.NodeList,o=p._adaptWithCondition,n=p._adaptAsForEach,m=p._adaptAsMap;l.extend(p,{_normalize:function(a,c){var d=!0===a.parse;if("string"==typeof a.template)var f=a.templateFunc||e.string&&e.string.substitute,a=f?f(a.template,a):a;f=typeof a;"string"==f||"number"==f?(a=b.toDom(a,c&&c.ownerDocument),a=11==a.nodeType?l._toArray(a.childNodes):[a]):l.isArrayLike(a)?l.isArray(a)||(a=l._toArray(a)):a=[a];if(d)a._runParse=!0;return a},_cloneNode:function(a){return a.cloneNode(!0)},
_place:function(a,c,d,f){if(!(1!=c.nodeType&&"only"==d))for(var h,g=a.length,j=g-1;0<=j;j--){var i=f?this._cloneNode(a[j]):a[j];if(a._runParse&&e.parser&&e.parser.parse){h||(h=c.ownerDocument.createElement("div"));h.appendChild(i);e.parser.parse(h);for(i=h.firstChild;h.firstChild;)h.removeChild(h.firstChild)}j==g-1?b.place(i,c,d):c.parentNode.insertBefore(i,c);c=i}},position:m(g.position),attr:o(a(f),d),style:o(a(j),d),addClass:n(c.add),removeClass:n(c.remove),toggleClass:n(c.toggle),replaceClass:n(c.replace),
empty:n(b.empty),removeAttr:n(f.remove),marginBox:m(g.getMarginBox),place:function(a,c){var d=i(a)[0];return this.forEach(function(a){b.place(a,d,c)})},orphan:function(a){return(a?i._filterResult(this,a):this).forEach(h)},adopt:function(a,b){return i(a).place(this[0],b)._stash(this)},query:function(a){if(!a)return this;var b=new p;this.map(function(c){i(a,c).forEach(function(a){void 0!==a&&b.push(a)})});return b._stash(this)},filter:function(a){var b=arguments,c=this,d=0;if("string"==typeof a){c=
i._filterResult(this,b[0]);if(1==b.length)return c._stash(this);d=1}return this._wrap(k.filter(c,b[d],b[d+1]),this)},addContent:function(a,b){for(var a=this._normalize(a,this[0]),c=0,d;d=this[c];c++)this._place(a,d,b,0<c);return this}});return p})},"dojo/dnd/Container":function(){define("../_base/array,../_base/declare,../_base/event,../_base/kernel,../_base/lang,../_base/window,../dom,../dom-class,../dom-construct,../Evented,../has,../on,../query,../ready,../touch,./common".split(","),function(e,
i,k,l,c,b,g,f,j,a,d,h,p,o,n,m){i=i("dojo.dnd.Container",a,{skipForm:!1,allowNested:!1,constructor:function(a,b){this.node=g.byId(a);b||(b={});this.creator=b.creator||null;this.skipForm=b.skipForm;this.parent=b.dropParent&&g.byId(b.dropParent);this.map={};this.current=null;this.containerState="";f.add(this.node,"dojoDndContainer");(!b||!b._skipStartup)&&this.startup();this.events=[h(this.node,n.over,c.hitch(this,"onMouseOver")),h(this.node,n.out,c.hitch(this,"onMouseOut")),h(this.node,"dragstart",
c.hitch(this,"onSelectStart")),h(this.node,"selectstart",c.hitch(this,"onSelectStart"))]},creator:function(){},getItem:function(a){return this.map[a]},setItem:function(a,b){this.map[a]=b},delItem:function(a){delete this.map[a]},forInItems:function(a,b){var b=b||l.global,c=this.map,d=m._empty,e;for(e in c)e in d||a.call(b,c[e],e,this);return b},clearItems:function(){this.map={}},getAllNodes:function(){return p((this.allowNested?"":"> ")+".dojoDndItem",this.parent)},sync:function(){var a={};this.getAllNodes().forEach(function(b){if(b.id){var c=
this.getItem(b.id);if(c){a[b.id]=c;return}}else b.id=m.getUniqueId();var c=b.getAttribute("dndType"),d=b.getAttribute("dndData");a[b.id]={data:d||b.innerHTML,type:c?c.split(/\s*,\s*/):["text"]}},this);this.map=a;return this},insertNodes:function(a,b,c){if(this.parent.firstChild)if(b){if(!c)c=this.parent.firstChild}else{if(c)c=c.nextSibling}else c=null;var d;if(c)for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),c.parentNode.insertBefore(d.node,
c);else for(b=0;b<a.length;++b)d=this._normalizedCreator(a[b]),this.setItem(d.node.id,{data:d.data,type:d.type}),this.parent.appendChild(d.node);return this},destroy:function(){e.forEach(this.events,function(a){a.remove()});this.clearItems();this.node=this.parent=this.current=null},markupFactory:function(a,b,c){a._skipStartup=!0;return new c(b,a)},startup:function(){if(!this.parent&&(this.parent=this.node,"table"==this.parent.tagName.toLowerCase())){var a=this.parent.getElementsByTagName("tbody");
if(a&&a.length)this.parent=a[0]}this.defaultCreator=m._defaultCreator(this.parent);this.sync()},onMouseOver:function(a){for(var b=a.relatedTarget;b&&!(b==this.node);)try{b=b.parentNode}catch(c){b=null}b||(this._changeState("Container","Over"),this.onOverEvent());b=this._getChildByEvent(a);if(this.current!=b)this.current&&this._removeItemClass(this.current,"Over"),b&&this._addItemClass(b,"Over"),this.current=b},onMouseOut:function(a){for(a=a.relatedTarget;a;){if(a==this.node)return;try{a=a.parentNode}catch(b){a=
null}}if(this.current)this._removeItemClass(this.current,"Over"),this.current=null;this._changeState("Container","");this.onOutEvent()},onSelectStart:function(a){(!this.skipForm||!m.isFormElement(a))&&k.stop(a)},onOverEvent:function(){},onOutEvent:function(){},_changeState:function(a,b){var c="dojoDnd"+a,d=a.toLowerCase()+"State";f.replace(this.node,c+b,c+this[d]);this[d]=b},_addItemClass:function(a,b){f.add(a,"dojoDndItem"+b)},_removeItemClass:function(a,b){f.remove(a,"dojoDndItem"+b)},_getChildByEvent:function(a){if(a=
a.target)for(var b=a.parentNode;b;a=b,b=a.parentNode)if((b==this.parent||this.allowNested)&&f.contains(a,"dojoDndItem"))return a;return null},_normalizedCreator:function(a,b){var d=(this.creator||this.defaultCreator).call(this,a,b);if(!c.isArray(d.type))d.type=["text"];if(!d.node.id)d.node.id=m.getUniqueId();f.add(d.node,"dojoDndItem");return d}});m._createNode=function(a){return!a?m._createSpan:function(b){return j.create(a,{innerHTML:b})}};m._createTrTd=function(a){var b=j.create("tr");j.create("td",
{innerHTML:a},b);return b};m._createSpan=function(a){return j.create("span",{innerHTML:a})};m._defaultCreatorNodes={ul:"li",ol:"li",div:"div",p:"div"};m._defaultCreator=function(a){var a=a.tagName.toLowerCase(),b="tbody"==a||"thead"==a?m._createTrTd:m._createNode(m._defaultCreatorNodes[a]);return function(a,d){var e=a&&c.isObject(a),f,h;e&&a.tagName&&a.nodeType&&a.getAttribute?(f=a.getAttribute("dndData")||a.innerHTML,e=(e=a.getAttribute("dndType"))?e.split(/\s*,\s*/):["text"],h=a):(f=e&&a.data?a.data:
a,e=e&&a.type?a.type:["text"],h=("avatar"==d?m._createSpan:b)(""+f));if(!h.id)h.id=m.getUniqueId();return{node:h,data:f,type:e}}};return i})},"dojo/dnd/Manager":function(){define("../_base/array,../_base/declare,../_base/event,../_base/lang,../_base/window,../dom-class,../Evented,../has,../keys,../on,../topic,../touch,./common,./autoscroll,./Avatar".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n){var m=i("dojo.dnd.Manager",[g],{constructor:function(){this.source=this.avatar=null;this.nodes=[];
this.copy=!0;this.target=null;this.canDropFlag=!1;this.events=[]},OFFSET_X:f("touch")?0:16,OFFSET_Y:f("touch")?-64:16,overSource:function(a){if(this.avatar)this.target=a&&"Disabled"!=a.targetState?a:null,this.canDropFlag=Boolean(this.target),this.avatar.update();d.publish("/dnd/source/over",a)},outSource:function(a){if(this.avatar){if(this.target==a)this.target=null,this.canDropFlag=!1,this.avatar.update(),d.publish("/dnd/source/over",null)}else d.publish("/dnd/source/over",null)},startDrag:function(e,
f,g){o.autoScrollStart(c.doc);this.source=e;this.nodes=f;this.copy=Boolean(g);this.avatar=this.makeAvatar();c.body().appendChild(this.avatar.node);d.publish("/dnd/start",e,f,this.copy);this.events=[a(c.doc,h.move,l.hitch(this,"onMouseMove")),a(c.doc,h.release,l.hitch(this,"onMouseUp")),a(c.doc,"keydown",l.hitch(this,"onKeyDown")),a(c.doc,"keyup",l.hitch(this,"onKeyUp")),a(c.doc,"dragstart",k.stop),a(c.body(),"selectstart",k.stop)];b.add(c.body(),"dojoDnd"+(g?"Copy":"Move"))},canDrop:function(a){a=
Boolean(this.target&&a);if(this.canDropFlag!=a)this.canDropFlag=a,this.avatar.update()},stopDrag:function(){b.remove(c.body(),["dojoDndCopy","dojoDndMove"]);e.forEach(this.events,function(a){a.remove()});this.events=[];this.avatar.destroy();this.source=this.target=this.avatar=null;this.nodes=[]},makeAvatar:function(){return new n(this)},updateAvatar:function(){this.avatar.update()},onMouseMove:function(a){var b=this.avatar;if(b)o.autoScrollNodes(a),b=b.node.style,b.left=a.pageX+this.OFFSET_X+"px",
b.top=a.pageY+this.OFFSET_Y+"px",b=Boolean(this.source.copyState(p.getCopyKeyState(a))),this.copy!=b&&this._setCopyStatus(b);f("touch")&&a.preventDefault()},onMouseUp:function(a){if(this.avatar){if(this.target&&this.canDropFlag){var b=Boolean(this.source.copyState(p.getCopyKeyState(a)));d.publish("/dnd/drop/before",this.source,this.nodes,b,this.target,a);d.publish("/dnd/drop",this.source,this.nodes,b,this.target,a)}else d.publish("/dnd/cancel");this.stopDrag()}},onKeyDown:function(a){if(this.avatar)switch(a.keyCode){case j.CTRL:a=
Boolean(this.source.copyState(!0));this.copy!=a&&this._setCopyStatus(a);break;case j.ESCAPE:d.publish("/dnd/cancel"),this.stopDrag()}},onKeyUp:function(a){this.avatar&&a.keyCode==j.CTRL&&(a=Boolean(this.source.copyState(!1)),this.copy!=a&&this._setCopyStatus(a))},_setCopyStatus:function(a){this.copy=a;this.source._markDndStatus(this.copy);this.updateAvatar();b.replace(c.body(),"dojoDnd"+(this.copy?"Copy":"Move"),"dojoDnd"+(this.copy?"Move":"Copy"))}});p._manager=null;m.manager=p.manager=function(){if(!p._manager)p._manager=
new m;return p._manager};return m})},"dojo/dnd/Avatar":function(){define("../_base/declare,../_base/window,../dom,../dom-attr,../dom-class,../dom-construct,../hccss,../query".split(","),function(e,i,k,l,c,b,g,f){return e("dojo.dnd.Avatar",null,{constructor:function(b){this.manager=b;this.construct()},construct:function(){var c=b.create("table",{"class":"dojoDndAvatar",style:{position:"absolute",zIndex:"1999",margin:"0px"}}),a=this.manager.source,d,e=b.create("tbody",null,c),f=b.create("tr",null,e),
i=b.create("td",null,f),k=Math.min(5,this.manager.nodes.length),m=0;g("highcontrast")&&b.create("span",{id:"a11yIcon",innerHTML:this.manager.copy?"+":"<"},i);b.create("span",{innerHTML:a.generateText?this._generateText():""},i);for(l.set(f,{"class":"dojoDndAvatarHeader",style:{opacity:0.9}});m<k;++m)a.creator?d=a._normalizedCreator(a.getItem(this.manager.nodes[m].id).data,"avatar").node:(d=this.manager.nodes[m].cloneNode(!0),"tr"==d.tagName.toLowerCase()&&(f=b.create("table"),b.create("tbody",null,
f).appendChild(d),d=f)),d.id="",f=b.create("tr",null,e),i=b.create("td",null,f),i.appendChild(d),l.set(f,{"class":"dojoDndAvatarItem",style:{opacity:(9-m)/10}});this.node=c},destroy:function(){b.destroy(this.node);this.node=!1},update:function(){c.toggle(this.node,"dojoDndAvatarCanDrop",this.manager.canDropFlag);if(g("highcontrast")){var b=k.byId("a11yIcon"),a="+";this.manager.canDropFlag&&!this.manager.copy?a="< ":!this.manager.canDropFlag&&!this.manager.copy?a="o":this.manager.canDropFlag||(a="x");
b.innerHTML=a}f("tr.dojoDndAvatarHeader td span"+(g("highcontrast")?" span":""),this.node).forEach(function(a){a.innerHTML=this.manager.source.generateText?this._generateText():""},this)},_generateText:function(){return this.manager.nodes.length.toString()}})})},"url:kk/views/widgets/kanbanBoard/kanbanColumn.html":'<td class="column ${item.initialstate}">\r\n\t<h1 class="columnTitle">\r\n\t\t<span class="columnShower columnToggler clickable" data-dojo-attach-event="onclick:toggler">+</span>\r\n\t\t<span class="columnHider columnToggler clickable" data-dojo-attach-event="onclick:toggler">-</span>\r\n\t\t<span class="columnTitle clickable" data-dojo-attach-event="onclick:toggler">${item.title}</span>\r\n\t</h1>\r\n\t<ul id="${item.id}" class="columnContainer" data-dojo-attach-point="cardNodes"></ul>\r\n</td>',
"kk/views/widgets/kanbanBoard/kanbanCard":function(){require({cache:{"url:kk/views/widgets/kanbanBoard/kanbanCard.html":'<li dndData="${id}">\r\n\t<div class="kkcard">\r\n\t\t<div class="itemImg dojoDndHandle overflow_hidden card_title">\r\n\t\t\t<div class="card_id_block bold">${id}</div>\r\n\t\t\t<div class="card_name_block">${title}</div>\r\n\t\t</div>\r\n\t\t<div class="itemText"><span>${description}</span></div>\r\n\t</div>\r\n</li>'}});define("kk/views/widgets/kanbanBoard/kanbanCard",["dojo/_base/declare",
"dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/_WidgetsInTemplateMixin","dojo/text!./kanbanCard.html"],function(e,i,k,l,c){return e([i,k,l],{templateString:c,item:null})})},"url:kk/views/widgets/kanbanBoard/kanbanCard.html":'<li dndData="${id}">\r\n\t<div class="kkcard">\r\n\t\t<div class="itemImg dojoDndHandle overflow_hidden card_title">\r\n\t\t\t<div class="card_id_block bold">${id}</div>\r\n\t\t\t<div class="card_name_block">${title}</div>\r\n\t\t</div>\r\n\t\t<div class="itemText"><span>${description}</span></div>\r\n\t</div>\r\n</li>',
"url:kk/views/widgets/kanbanBoard/kanbanBoard.html":'<tr data-dojo-attach-point="columnNodes" class="innerContainer"></tr>',"dojo/NodeList-traverse":function(){define("dojo/NodeList-traverse",["./query","./_base/lang","./_base/array"],function(e,i,k){var l=e.NodeList;i.extend(l,{_buildArrayFromCallback:function(c){for(var b=[],e=0;e<this.length;e++){var f=c.call(this[e],this[e],b);f&&(b=b.concat(f))}return b},_getUniqueAsNodeList:function(c){for(var b=[],e=0,f;f=c[e];e++)1==f.nodeType&&-1==k.indexOf(b,
f)&&b.push(f);return this._wrap(b,null,this._NodeListCtor)},_getUniqueNodeListWithParent:function(c,b){var g=this._getUniqueAsNodeList(c),g=b?e._filterResult(g,b):g;return g._stash(this)},_getRelatedUniqueNodes:function(c,b){return this._getUniqueNodeListWithParent(this._buildArrayFromCallback(b),c)},children:function(c){return this._getRelatedUniqueNodes(c,function(b){return i._toArray(b.childNodes)})},closest:function(c,b){return this._getRelatedUniqueNodes(null,function(g){do if(e._filterResult([g],
c,b).length)return g;while(g!=b&&(g=g.parentNode)&&1==g.nodeType);return null})},parent:function(c){return this._getRelatedUniqueNodes(c,function(b){return b.parentNode})},parents:function(c){return this._getRelatedUniqueNodes(c,function(b){for(var c=[];b.parentNode;)b=b.parentNode,c.push(b);return c})},siblings:function(c){return this._getRelatedUniqueNodes(c,function(b){for(var c=[],e=b.parentNode&&b.parentNode.childNodes,j=0;j<e.length;j++)e[j]!=b&&c.push(e[j]);return c})},next:function(c){return this._getRelatedUniqueNodes(c,
function(b){for(b=b.nextSibling;b&&1!=b.nodeType;)b=b.nextSibling;return b})},nextAll:function(c){return this._getRelatedUniqueNodes(c,function(b){for(var c=[];b=b.nextSibling;)1==b.nodeType&&c.push(b);return c})},prev:function(c){return this._getRelatedUniqueNodes(c,function(b){for(b=b.previousSibling;b&&1!=b.nodeType;)b=b.previousSibling;return b})},prevAll:function(c){return this._getRelatedUniqueNodes(c,function(b){for(var c=[];b=b.previousSibling;)1==b.nodeType&&c.push(b);return c})},andSelf:function(){return this.concat(this._parent)},
first:function(){return this._wrap(this[0]&&[this[0]]||[],this)},last:function(){return this._wrap(this.length?[this[this.length-1]]:[],this)},even:function(){return this.filter(function(c,b){return 0!=b%2})},odd:function(){return this.filter(function(c,b){return 0==b%2})}});return l})},"dijit/form/Button":function(){define("require,dojo/_base/declare,dojo/dom-class,dojo/has,dojo/_base/kernel,dojo/_base/lang,dojo/ready,./_FormWidget,./_ButtonMixin,dojo/text!./templates/Button.html".split(","),function(e,
i,k,l,c,b,g,f,j,a){l("dijit-legacy-requires")&&g(0,function(){e(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});return i("dijit.form.Button",[f,j],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:a,_setValueAttr:"valueNode",_onClick:function(a){var b=this.inherited(arguments);b&&this.valueNode&&(this.valueNode.click(),a.preventDefault(),a.stopPropagation());return b},_fillContent:function(a){if(a&&
(!this.params||!("label"in this.params)))if(a=b.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&k.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){c.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);if(!this.showLabel&&!("title"in this.params))this.titleNode.title=b.trim(this.containerNode.innerText||
this.containerNode.textContent||"")}})})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare,dojo/has,dojo/_base/kernel,dojo/ready,../_Widget,../_CssStateMixin,../_TemplatedMixin,./_FormWidgetMixin".split(","),function(e,i,k,l,c,b,g,f){i("dijit-legacy-requires")&&l(0,function(){require(["dijit/form/_FormValueWidget"])});return e("dijit.form._FormWidget",[c,g,b,f],{setDisabled:function(b){k.deprecated("setDisabled("+b+") is deprecated. Use set('disabled',"+b+") instead.","","2.0");this.set("disabled",
b)},setValue:function(b){k.deprecated("dijit.form._FormWidget:setValue("+b+") is deprecated.  Use set('value',"+b+") instead.","","2.0");this.set("value",b)},getValue:function(){k.deprecated(this.declaredClass+"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name?'name="'+this.name.replace(/"/g,"&quot;")+'"':"";this.inherited(arguments)},_setTypeAttr:null})})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom-attr,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/sniff,dojo/window,../a11y".split(","),
function(e,i,k,l,c,b,g,f,j){return i("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);k.set(this.focusNode,"disabled",a);this.valueNode&&k.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",!1),
a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",e.forEach(c.isArray(a)?a:[a],function(a){a=this[a];g("webkit")||j.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(a){if("mouse"==a&&this.isFocusable())var b=this.connect(this.focusNode,"onfocus",function(){this.disconnect(c);this.disconnect(b)}),c=this.connect(this.ownerDocumentBody,
"onmouseup",function(){this.disconnect(c);this.disconnect(b);this.focused&&this.focus()});this.scrollOnFocus&&this.defer(function(){f.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=l.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},compare:function(a,b){return"number"==typeof a&&"number"==typeof b?isNaN(a)&&isNaN(b)?0:a-b:a>b?1:a<b?-1:0},onChange:function(){},
_onChangeActive:!1,_handleOnChange:function(a,b){if(void 0==this._lastValueReported&&(null===b||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||b||void 0===b)&&this._pendingOnChange)if(this._lastValueReported=a,this._pendingOnChange=!1,this._onChangeActive)this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=
this.defer(function(){this._onChangeHandle=null;this.onChange(a)})},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare","dojo/dom","dojo/_base/event","../registry"],function(e,i,k,l){return e("dijit.form._ButtonMixin",null,{label:"",type:"button",_onClick:function(c){if(this.disabled)return k.stop(c),
!1;var b=!1===this.onClick(c);if(!b&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var e=this.domNode;e.parentNode;e=e.parentNode){var f=l.byNode(e);if(f&&"function"==typeof f._onSubmit){f._onSubmit(c);b=!0;break}}b&&c.preventDefault();return!b},postCreate:function(){this.inherited(arguments);i.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(c){this._set("label",c);(this.containerNode||this.focusNode).innerHTML=c}})})},"url:dijit/form/templates/Button.html":'<span class="dijit dijitReset dijitInline" role="presentation"\n\t><span class="dijitReset dijitInline dijitButtonNode"\n\t\tdata-dojo-attach-event="ondijitclick:_onClick" role="presentation"\n\t\t><span class="dijitReset dijitStretch dijitButtonContents"\n\t\t\tdata-dojo-attach-point="titleNode,focusNode"\n\t\t\trole="button" aria-labelledby="${id}_label"\n\t\t\t><span class="dijitReset dijitInline dijitIcon" data-dojo-attach-point="iconNode"></span\n\t\t\t><span class="dijitReset dijitToggleButtonIconChar">&#x25CF;</span\n\t\t\t><span class="dijitReset dijitInline dijitButtonText"\n\t\t\t\tid="${id}_label"\n\t\t\t\tdata-dojo-attach-point="containerNode"\n\t\t\t></span\n\t\t></span\n\t></span\n\t><input ${!nameAttrSetting} type="${type}" value="${value}" class="dijitOffScreen"\n\t\ttabIndex="-1" role="presentation" data-dojo-attach-point="valueNode"\n/></span>\n',
"kk/views/widgets/newStory/newStoryDialog":function(){require({cache:{"url:kk/views/widgets/newStory/newStoryDialog.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="newStoryDialog" title="New Story">\n\t\t<div data-dojo-type="kk/views/widgets/newStory/newStory" data-dojo-attach-point="newStory">\n\n\t\t</div>\n\t</div>\n</div>'}});define("kk/views/widgets/newStory/newStoryDialog","dojo/_base/declare,dijit/Dialog,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./newStoryDialog.html,kk/views/widgets/newStory/newStory,dojo/topic,dojo/_base/lang,dojo/aspect,dojo/Evented,dojo/on".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h){return e([k,l,c,d],{templateString:b,newStory:null,store:null,newStoryDialog:null,postCreate:function(){this.newStory.setStore(this.store);h(this.newStory,"cancel",j.hitch(this,this.cancel));h(this.newStory,"submit",j.hitch(this,this.submit))},show:function(){this.newStoryDialog.show()},cancel:function(){this.newStory.enableButtons();this.newStoryDialog.hide()},submit:function(a){this.emit("submit",a)}})})},"url:kk/views/widgets/newStory/newStoryDialog.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="newStoryDialog" title="New Story">\n\t\t<div data-dojo-type="kk/views/widgets/newStory/newStory" data-dojo-attach-point="newStory">\n\n\t\t</div>\n\t</div>\n</div>',
"kk/views/widgets/newStory/newStory":function(){require({cache:{"url:kk/views/widgets/newStory/newStory.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/form/Form" id="newStoryForm" data-dojo-attach-point="newStoryForm" data-dojo-id="newStoryForm" encType="multipart/form-data" data-dojo-attach-event="onSubmit:newStoryValidation">\n\t\t<div class="overflow_auto">\n\t\t\t<label for"title">Story name: </label>\n\t\t\t<input name="title" required="true" data-dojo-attach-point="storyTitleIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Name your story\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"description">Story description: </label>\n\t\t\t<input name="description" required="true" data-dojo-attach-point="storyDescIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Describe your story\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"workflow">Select a workflow:</label>\n\t\t\t<input name="workflow" required="true" data-dojo-attach-point="workflowCmbBx" data-dojo-type="dijit/form/FilteringSelect" data-dojo-props="searchAttr:\'title\'" />\n\t\t</div>\n\t\t<br />\n\t\t<div data-dojo-attach-point="buttonbar" class="dijitDialogPaneActionBar">\n\t\t\t<button data-dojo-type="dijit/form/Button" type="submit">\n\t\t\t\tOK\n\t\t\t</button>\n\t\t\t<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick:cancel">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>'}});
define("kk/views/widgets/newStory/newStory","dojo/_base/declare,dijit/form/ValidationTextBox,dijit/form/FilteringSelect,dijit/form/Button,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./newStory.html,dijit/form/Form,dojo/_base/event,dojo/Evented,dijit/registry".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h){return e([c,b,g,d],{baseClass:"newItemWidget",templateString:f,storyTitleIpt:null,storyDescIpt:null,workflowCmbBx:null,store:null,newStoryForm:null,setStore:function(a){this.store=
a;this.workflowCmbBx.store=this.store},postCreate:function(){this.workflowCmbBx.store=this.store},newStoryValidation:function(b){a.stop(b);newStoryForm.validate()&&this.submit()},getFormObject:function(){return this.newStoryForm.get("value")},submit:function(){this.disableButtons();this.emit("submit",this.getFormObject())},cancel:function(a){this.emit("cancel",a)},disableButtons:function(){h.findWidgets(this.buttonbar).forEach(function(a){a.set("disabled",!0)})},enableButtons:function(){h.findWidgets(this.buttonbar).forEach(function(a){a.set("disabled",
!1)})}})})},"dijit/form/ValidationTextBox":function(){define("dojo/_base/declare,dojo/_base/kernel,dojo/i18n,./TextBox,../Tooltip,dojo/text!./templates/ValidationTextBox.html,dojo/i18n!./nls/validate".split(","),function(e,i,k,l,c,b){var g;return g=e("dijit.form.ValidationTextBox",l,{templateString:b,required:!1,promptMessage:"",invalidMessage:"$_unset_$",missingMessage:"$_unset_$",message:"",constraints:{},pattern:".*",regExp:"",regExpGen:function(){},state:"",tooltipPosition:[],_deprecateRegExp:function(b,
c){c!=g.prototype[b]&&(i.deprecated("ValidationTextBox id="+this.id+", set('"+b+"', ...) is deprecated.  Use set('pattern', ...) instead.","","2.0"),this.set("pattern",c))},_setRegExpGenAttr:function(b){this._deprecateRegExp("regExpGen",b);this.regExpGen=this._getPatternAttr},_setRegExpAttr:function(b){this._deprecateRegExp("regExp",b)},_setValueAttr:function(){this.inherited(arguments);this.validate(this.focused)},validator:function(b,c){return RegExp("^(?:"+this._getPatternAttr(c)+")"+(this.required?
"":"?")+"$").test(b)&&(!this.required||!this._isEmpty(b))&&(this._isEmpty(b)||void 0!==this.parse(b,c))},_isValidSubset:function(){return 0==this.textbox.value.search(this._partialre)},isValid:function(){return this.validator(this.textbox.value,this.constraints)},_isEmpty:function(b){return(this.trim?/^\s*$/:/^$/).test(b)},getErrorMessage:function(){var b="$_unset_$"==this.invalidMessage?this.messages.invalidMessage:!this.invalidMessage?this.promptMessage:this.invalidMessage,c="$_unset_$"==this.missingMessage?
this.messages.missingMessage:!this.missingMessage?b:this.missingMessage;return this.required&&this._isEmpty(this.textbox.value)?c:b},getPromptMessage:function(){return this.promptMessage},_maskValidSubsetError:!0,validate:function(b){var c="",a=this.disabled||this.isValid(b);if(a)this._maskValidSubsetError=!0;var d=this._isEmpty(this.textbox.value),e=!a&&b&&this._isValidSubset();this._set("state",a?"":((!this._hasBeenBlurred||b)&&d||e)&&(this._maskValidSubsetError||e&&!this._hasBeenBlurred&&b)?"Incomplete":
"Error");this.focusNode.setAttribute("aria-invalid",a?"false":"true");"Error"==this.state?(this._maskValidSubsetError=b&&e,c=this.getErrorMessage(b)):"Incomplete"==this.state?(c=this.getPromptMessage(b),this._maskValidSubsetError=!this._hasBeenBlurred||b):d&&(c=this.getPromptMessage(b));this.set("message",c);return a},displayMessage:function(b){b&&this.focused?c.show(b,this.domNode,this.tooltipPosition,!this.isLeftToRight()):c.hide(this.domNode)},_refreshState:function(){this._created&&this.validate(this.focused);
this.inherited(arguments)},constructor:function(){this.constraints={};this.baseClass+=" dijitValidationTextBox"},startup:function(){this.inherited(arguments);this._refreshState()},_setConstraintsAttr:function(b){if(!b.locale&&this.lang)b.locale=this.lang;this._set("constraints",b);this._refreshState()},_setPatternAttr:function(b){this._set("pattern",b)},_getPatternAttr:function(b){var c=this.pattern;"function"==(typeof c).toLowerCase()&&(c=this.pattern(b||this.constraints));if(c!=this._lastRegExp){var a=
"";this._lastRegExp=c;".*"!=c&&c.replace(/\\.|\[\]|\[.*?[^\\]{1}\]|\{.*?\}|\(\?[=:!]|./g,function(b){switch(b.charAt(0)){case "{":case "+":case "?":case "*":case "^":case "$":case "|":case "(":a+=b;break;case ")":a+="|$)";break;default:a+="(?:"+b+"|$)"}});try{"".search(a)}catch(d){a=this.pattern}this._partialre="^(?:"+a+")$"}return c},postMixInProperties:function(){this.inherited(arguments);this.messages=k.getLocalization("dijit.form","validate",this.lang);this._setConstraintsAttr(this.constraints)},
_setDisabledAttr:function(b){this.inherited(arguments);this._refreshState()},_setRequiredAttr:function(b){this._set("required",b);this.focusNode.setAttribute("aria-required",b);this._refreshState()},_setMessageAttr:function(b){this._set("message",b);this.displayMessage(b)},reset:function(){this._maskValidSubsetError=!0;this.inherited(arguments)},_onBlur:function(){this.displayMessage("");this.inherited(arguments)}})})},"dijit/form/TextBox":function(){define("dojo/_base/declare,dojo/dom-construct,dojo/dom-style,dojo/_base/kernel,dojo/_base/lang,dojo/sniff,./_FormValueWidget,./_TextBoxMixin,dojo/text!./templates/TextBox.html,../main".split(","),
function(e,i,k,l,c,b,g,f,j,a){e=e("dijit.form.TextBox",[g,f],{templateString:j,_singleNodeTemplate:'<input class="dijit dijitReset dijitLeft dijitInputField" data-dojo-attach-point="textbox,focusNode" autocomplete="off" type="${type}" ${!nameAttrSetting} />',_buttonInputDisabled:b("ie")?"disabled":"",baseClass:"dijitTextBox",postMixInProperties:function(){var a=this.type.toLowerCase();if(this.templateString&&"input"==this.templateString.toLowerCase()||("hidden"==a||"file"==a)&&this.templateString==
this.constructor.prototype.templateString)this.templateString=this._singleNodeTemplate;this.inherited(arguments)},postCreate:function(){this.inherited(arguments);9>b("ie")&&this.defer(function(){try{var a=k.getComputedStyle(this.domNode);if(a){var b=a.fontFamily;if(b){var c=this.domNode.getElementsByTagName("INPUT");if(c)for(a=0;a<c.length;a++)c[a].style.fontFamily=b}}}catch(e){}})},_onInput:function(a){this.inherited(arguments);this.intermediateChanges&&this.defer(function(){this._handleOnChange(this.get("value"),
!1)})},_setPlaceHolderAttr:function(a){this._set("placeHolder",a);if(!this._phspan)this._attachPoints.push("_phspan"),this._phspan=i.create("span",{onmousedown:function(a){a.preventDefault()},className:"dijitPlaceHolder dijitInputField"},this.textbox,"after");this._phspan.innerHTML="";this._phspan.appendChild(this._phspan.ownerDocument.createTextNode(a));this._updatePlaceHolder()},_updatePlaceHolder:function(){if(this._phspan)this._phspan.style.display=this.placeHolder&&!this.focused&&!this.textbox.value?
"":"none"},_setValueAttr:function(a,b,c){this.inherited(arguments);this._updatePlaceHolder()},getDisplayedValue:function(){l.deprecated(this.declaredClass+"::getDisplayedValue() is deprecated. Use get('displayedValue') instead.","","2.0");return this.get("displayedValue")},setDisplayedValue:function(a){l.deprecated(this.declaredClass+"::setDisplayedValue() is deprecated. Use set('displayedValue', ...) instead.","","2.0");this.set("displayedValue",a)},_onBlur:function(a){if(!this.disabled&&(this.inherited(arguments),
this._updatePlaceHolder(),b("mozilla")&&this.selectOnClick))this.textbox.selectionStart=this.textbox.selectionEnd=void 0},_onFocus:function(a){!this.disabled&&!this.readOnly&&(this.inherited(arguments),this._updatePlaceHolder())}});if(b("ie"))e.prototype._isTextSelected=function(){var a=this.ownerDocument.selection.createRange();return a.parentElement()==this.textbox&&0<a.text.length},a._setSelectionRange=f._setSelectionRange=function(a,b,c){a.createTextRange&&(a=a.createTextRange(),a.collapse(!0),
a.moveStart("character",-99999),a.moveStart("character",b),a.moveEnd("character",c-b),a.select())};return e})},"dijit/form/_FormValueWidget":function(){define(["dojo/_base/declare","dojo/sniff","./_FormWidget","./_FormValueMixin"],function(e,i,k,l){return e("dijit.form._FormValueWidget",[k,l],{_layoutHackIE7:function(){if(7==i("ie"))for(var c=this.domNode,b=c.parentNode,e=c.firstChild||c,f=e.style.filter,j=this;b&&0==b.clientHeight;)(function(){var a=j.connect(b,"onscroll",function(){j.disconnect(a);
e.style.filter=(new Date).getMilliseconds();j.defer(function(){e.style.filter=f})})})(),b=b.parentNode}})})},"dijit/form/_FormValueMixin":function(){define(["dojo/_base/declare","dojo/dom-attr","dojo/keys","dojo/sniff","./_FormWidgetMixin"],function(e,i,k,l,c){return e("dijit.form._FormValueMixin",c,{readOnly:!1,_setReadOnlyAttr:function(b){i.set(this.focusNode,"readOnly",b);this._set("readOnly",b)},postCreate:function(){this.inherited(arguments);l("ie")&&this.connect(this.focusNode||this.domNode,
"onkeydown",this._onKeyDown);if(void 0===this._resetValue)this._lastValueReported=this._resetValue=this.value},_setValueAttr:function(b,c){this._handleOnChange(b,c)},_handleOnChange:function(b,c){this._set("value",b);this.inherited(arguments)},undo:function(){this._setValueAttr(this._lastValueReported,!1)},reset:function(){this._hasBeenBlurred=!1;this._setValueAttr(this._resetValue,!0)},_onKeyDown:function(b){if(b.keyCode==k.ESCAPE&&!b.ctrlKey&&!b.altKey&&!b.metaKey&&(9>l("ie")||l("ie")&&l("quirks"))){b.preventDefault();
var c=b.srcElement,e=c.ownerDocument.createEventObject();e.keyCode=k.ESCAPE;e.shiftKey=b.shiftKey;c.fireEvent("onkeypress",e)}}})})},"dijit/form/_TextBoxMixin":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,../main".split(","),function(e,i,k,l,c,b,g,f){var j=i("dijit.form._TextBoxMixin",null,{trim:!1,uppercase:!1,lowercase:!1,propercase:!1,maxLength:"",selectOnClick:!1,placeHolder:"",_getValueAttr:function(){return this.parse(this.get("displayedValue"),
this.constraints)},_setValueAttr:function(a,b,c){var e;void 0!==a&&(e=this.filter(a),"string"!=typeof c&&(c=null!==e&&("number"!=typeof e||!isNaN(e))?this.filter(this.format(e,this.constraints)):""));if(null!=c&&("number"!=typeof c||!isNaN(c))&&this.textbox.value!=c)this.textbox.value=c,this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,c);this.inherited(arguments,[e,b])},displayedValue:"",_getDisplayedValueAttr:function(){return this.filter(this.textbox.value)},
_setDisplayedValueAttr:function(a){null==a?a="":"string"!=typeof a&&(a=""+a);this.textbox.value=a;this._setValueAttr(this.get("value"),void 0);this._set("displayedValue",this.get("displayedValue"));"auto"==this.textDir&&this.applyTextDir(this.focusNode,a)},format:function(a){return null==a?"":a.toString?a.toString():a},parse:function(a){return a},_refreshState:function(){},onInput:function(){},__skipInputEvent:!1,_onInput:function(a){"auto"==this.textDir&&this.applyTextDir(this.focusNode,this.focusNode.value);
this._processInput(a)},_processInput:function(){this._refreshState();this._set("displayedValue",this.get("displayedValue"))},postCreate:function(){this.textbox.setAttribute("value",this.textbox.value);this.inherited(arguments);this.own(g(this.textbox,"keydown, keypress, paste, cut, input, compositionend",b.hitch(this,function(a){var d;if("keydown"==a.type){d=a.keyCode;switch(d){case c.SHIFT:case c.ALT:case c.CTRL:case c.META:case c.CAPS_LOCK:case c.NUM_LOCK:case c.SCROLL_LOCK:return}if(!a.ctrlKey&&
!a.metaKey&&!a.altKey){switch(d){case c.NUMPAD_0:case c.NUMPAD_1:case c.NUMPAD_2:case c.NUMPAD_3:case c.NUMPAD_4:case c.NUMPAD_5:case c.NUMPAD_6:case c.NUMPAD_7:case c.NUMPAD_8:case c.NUMPAD_9:case c.NUMPAD_MULTIPLY:case c.NUMPAD_PLUS:case c.NUMPAD_ENTER:case c.NUMPAD_MINUS:case c.NUMPAD_PERIOD:case c.NUMPAD_DIVIDE:return}if(65<=d&&90>=d||48<=d&&57>=d||d==c.SPACE)return;d=!1;for(var e in c)if(c[e]===a.keyCode){d=!0;break}if(!d)return}}(d=32<=a.charCode?String.fromCharCode(a.charCode):a.charCode)||
(d=65<=a.keyCode&&90>=a.keyCode||48<=a.keyCode&&57>=a.keyCode||a.keyCode==c.SPACE?String.fromCharCode(a.keyCode):a.keyCode);d||(d=229);if("keypress"==a.type){if("string"!=typeof d)return;if("a"<=d&&"z">=d||"A"<=d&&"Z">=d||"0"<=d&&"9">=d||" "===d)if(a.ctrlKey||a.metaKey||a.altKey)return}if("input"==a.type){if(this.__skipInputEvent){this.__skipInputEvent=!1;return}}else this.__skipInputEvent=!0;var f={faux:!0},g;for(g in a)"layerX"!=g&&"layerY"!=g&&(e=a[g],"function"!=typeof e&&"undefined"!=typeof e&&
(f[g]=e));b.mixin(f,{charOrCode:d,_wasConsumed:!1,preventDefault:function(){f._wasConsumed=!0;a.preventDefault()},stopPropagation:function(){a.stopPropagation()}});!1===this.onInput(f)&&(f.preventDefault(),f.stopPropagation());f._wasConsumed||this.defer(function(){this._onInput(f)})})))},_blankValue:"",filter:function(a){if(null===a)return this._blankValue;if("string"!=typeof a)return a;this.trim&&(a=b.trim(a));this.uppercase&&(a=a.toUpperCase());this.lowercase&&(a=a.toLowerCase());this.propercase&&
(a=a.replace(/[^\s]+/g,function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}));return a},_setBlurValue:function(){this._setValueAttr(this.get("value"),!0)},_onBlur:function(a){this.disabled||(this._setBlurValue(),this.inherited(arguments))},_isTextSelected:function(){return this.textbox.selectionStart!=this.textbox.selectionEnd},_onFocus:function(a){if(!this.disabled&&!this.readOnly){if(this.selectOnClick&&"mouse"==a)this._selectOnClickHandle=this.connect(this.domNode,"onmouseup",function(){this.disconnect(this._selectOnClickHandle);
this._selectOnClickHandle=null;this._isTextSelected()||j.selectInputText(this.textbox)}),this.defer(function(){if(this._selectOnClickHandle)this.disconnect(this._selectOnClickHandle),this._selectOnClickHandle=null},500);this.inherited(arguments);this._refreshState()}},reset:function(){this.textbox.value="";this.inherited(arguments)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.focusNode.value)}});j._setSelectionRange=f._setSelectionRange=
function(a,b,c){a.setSelectionRange&&a.setSelectionRange(b,c)};j.selectInputText=f.selectInputText=function(a,b,c){a=k.byId(a);isNaN(b)&&(b=0);isNaN(c)&&(c=a.value?a.value.length:0);try{a.focus(),j._setSelectionRange(a,b,c)}catch(e){}};return j})},"url:dijit/form/templates/TextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft" id="widget_${id}" role="presentation"\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"dijit/Tooltip":function(){define("dojo/_base/array,dojo/_base/declare,dojo/_base/fx,dojo/dom,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/_base/lang,dojo/mouse,dojo/on,dojo/sniff,./_base/manager,./place,./_Widget,./_TemplatedMixin,./BackgroundIframe,dojo/text!./templates/Tooltip.html,./main".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q,r){var u=i("dijit._MasterTooltip",[o,n],{duration:h.defaultDuration,templateString:q,postCreate:function(){this.ownerDocumentBody.appendChild(this.domNode);
this.bgIframe=new m(this.domNode);this.fadeIn=k.fadeIn({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onShow")});this.fadeOut=k.fadeOut({node:this.domNode,duration:this.duration,onEnd:f.hitch(this,"_onHide")})},show:function(a,b,c,d,e){if(!this.aroundNode||!(this.aroundNode===b&&this.containerNode.innerHTML==a))if("playing"==this.fadeOut.status())this._onDeck=arguments;else{this.containerNode.innerHTML=a;e&&this.set("textDir",e);this.containerNode.align=d?"right":"left";var h=p.around(this.domNode,
b,c&&c.length?c:t.defaultPosition,!d,f.hitch(this,"orient")),j=h.aroundNodePos;"M"==h.corner.charAt(0)&&"M"==h.aroundCorner.charAt(0)?(this.connectorNode.style.top=j.y+(j.h-this.connectorNode.offsetHeight>>1)-h.y+"px",this.connectorNode.style.left=""):"M"==h.corner.charAt(1)&&"M"==h.aroundCorner.charAt(1)?this.connectorNode.style.left=j.x+(j.w-this.connectorNode.offsetWidth>>1)-h.x+"px":(this.connectorNode.style.left="",this.connectorNode.style.top="");g.set(this.domNode,"opacity",0);this.fadeIn.play();
this.isShowingNow=!0;this.aroundNode=b}},orient:function(a,c,e,f,h){this.connectorNode.style.top="";var g=f.h,f=f.w;a.className="dijitTooltip "+{"MR-ML":"dijitTooltipRight","ML-MR":"dijitTooltipLeft","TM-BM":"dijitTooltipAbove","BM-TM":"dijitTooltipBelow","BL-TL":"dijitTooltipBelow dijitTooltipABLeft","TL-BL":"dijitTooltipAbove dijitTooltipABLeft","BR-TR":"dijitTooltipBelow dijitTooltipABRight","TR-BR":"dijitTooltipAbove dijitTooltipABRight","BR-BL":"dijitTooltipRight","BL-BR":"dijitTooltipLeft"}[c+
"-"+e];this.domNode.style.width="auto";var j=b.position(this.domNode);9==d("ie")&&(j.w+=2);var i=Math.min(Math.max(f,1),j.w);b.setMarginBox(this.domNode,{w:i});"B"==e.charAt(0)&&"B"==c.charAt(0)?(a=b.position(a),c=this.connectorNode.offsetHeight,a.h>g?(this.connectorNode.style.top=g-(h.h+c>>1)+"px",this.connectorNode.style.bottom=""):(this.connectorNode.style.bottom=Math.min(Math.max(h.h/2-c/2,0),a.h-c)+"px",this.connectorNode.style.top="")):(this.connectorNode.style.top="",this.connectorNode.style.bottom=
"");return Math.max(0,j.w-f)},_onShow:function(){if(d("ie"))this.domNode.style.filter=""},hide:function(a){if(this._onDeck&&this._onDeck[1]==a)this._onDeck=null;else if(this.aroundNode===a)this.fadeIn.stop(),this.isShowingNow=!1,this.aroundNode=null,this.fadeOut.play()},_onHide:function(){this.domNode.style.cssText="";this.containerNode.innerHTML="";if(this._onDeck)this.show.apply(this,this._onDeck),this._onDeck=null},_setAutoTextDir:function(a){this.applyTextDir(a,d("ie")?a.outerText:a.textContent);
e.forEach(a.children,function(a){this._setAutoTextDir(a)},this)},_setTextDirAttr:function(a){this._set("textDir",a);"auto"==a?this._setAutoTextDir(this.containerNode):this.containerNode.dir=this.textDir}});r.showTooltip=function(a,b,c,d,f){c&&(c=e.map(c,function(a){return{after:"after-centered",before:"before-centered"}[a]||a}));if(!t._masterTT)r._masterTT=t._masterTT=new u;return t._masterTT.show(a,b,c,d,f)};r.hideTooltip=function(a){return t._masterTT&&t._masterTT.hide(a)};var t=i("dijit.Tooltip",
o,{label:"",showDelay:400,connectId:[],position:[],selector:"",_setConnectIdAttr:function(b){e.forEach(this._connections||[],function(a){e.forEach(a,function(a){a.remove()})},this);this._connectIds=e.filter(f.isArrayLike(b)?b:b?[b]:[],function(a){return l.byId(a,this.ownerDocument)},this);this._connections=e.map(this._connectIds,function(b){var b=l.byId(b,this.ownerDocument),c=this.selector,d=c?function(b){return a.selector(c,b)}:function(a){return a},e=this;return[a(b,d(j.enter),function(){e._onHover(this)}),
a(b,d("focusin"),function(){e._onHover(this)}),a(b,d(j.leave),f.hitch(e,"_onUnHover")),a(b,d("focusout"),f.hitch(e,"_onUnHover"))]},this);this._set("connectId",b)},addTarget:function(a){a=a.id||a;-1==e.indexOf(this._connectIds,a)&&this.set("connectId",this._connectIds.concat(a))},removeTarget:function(a){a=e.indexOf(this._connectIds,a.id||a);0<=a&&(this._connectIds.splice(a,1),this.set("connectId",this._connectIds))},buildRendering:function(){this.inherited(arguments);c.add(this.domNode,"dijitTooltipData")},
startup:function(){this.inherited(arguments);var a=this.connectId;e.forEach(f.isArrayLike(a)?a:[a],this.addTarget,this)},getContent:function(){return this.label||this.domNode.innerHTML},_onHover:function(a){if(!this._showTimer)this._showTimer=this.defer(function(){this.open(a)},this.showDelay)},_onUnHover:function(){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);this.close()},open:function(a){this._showTimer&&(this._showTimer.remove(),delete this._showTimer);var b=this.getContent(a);
if(b)t.show(b,a,this.position,!this.isLeftToRight(),this.textDir),this._connectNode=a,this.onShow(a,this.position)},close:function(){this._connectNode&&(t.hide(this._connectNode),delete this._connectNode,this.onHide());this._showTimer&&(this._showTimer.remove(),delete this._showTimer)},onShow:function(){},onHide:function(){},destroy:function(){this.close();e.forEach(this._connections||[],function(a){e.forEach(a,function(a){a.remove()})},this);this.inherited(arguments)}});t._MasterTooltip=u;t.show=
r.showTooltip;t.hide=r.hideTooltip;t.defaultPosition=["after-centered","before-centered"];return t})},"dijit/place":function(){define("dojo/_base/array,dojo/dom-geometry,dojo/dom-style,dojo/_base/kernel,dojo/_base/window,dojo/window,./main".split(","),function(e,i,k,l,c,b,g){function f(f,a,d,h){var g=b.getBox(f.ownerDocument);(!f.parentNode||"body"!=(""+f.parentNode.tagName).toLowerCase())&&c.body(f.ownerDocument).appendChild(f);var l=null;e.some(a,function(a){var b=a.corner,c=a.pos,e=0,k={w:{L:g.l+
g.w-c.x,R:c.x-g.l,M:g.w}[b.charAt(1)],h:{T:g.t+g.h-c.y,B:c.y-g.t,M:g.h}[b.charAt(0)]},n=f.style;n.left=n.right="auto";d&&(e=d(f,a.aroundCorner,b,k,h),e="undefined"==typeof e?0:e);var s=f.style,z=s.display,y=s.visibility;if("none"==s.display)s.visibility="hidden",s.display="";n=i.position(f);s.display=z;s.visibility=y;z={L:c.x,R:c.x-n.w,M:Math.max(g.l,Math.min(g.l+g.w,c.x+(n.w>>1))-n.w)}[b.charAt(1)];y={T:c.y,B:c.y-n.h,M:Math.max(g.t,Math.min(g.t+g.h,c.y+(n.h>>1))-n.h)}[b.charAt(0)];c=Math.max(g.l,
z);s=Math.max(g.t,y);z=Math.min(g.l+g.w,z+n.w);y=Math.min(g.t+g.h,y+n.h);z-=c;y-=s;e+=n.w-z+(n.h-y);if(null==l||e<l.overflow)l={corner:b,aroundCorner:a.aroundCorner,x:c,y:s,w:z,h:y,overflow:e,spaceAvailable:k};return!e});l.overflow&&d&&d(f,l.aroundCorner,l.corner,l.spaceAvailable,h);var a=i.isBodyLtr(f.ownerDocument),k=f.style;k.top=l.y+"px";k[a?"left":"right"]=(a?l.x:g.w-l.x-l.w)+"px";k[a?"right":"left"]="auto";return l}return g.place={at:function(b,a,c,h){c=e.map(c,function(b){var c={corner:b,pos:{x:a.x,
y:a.y}};h&&(c.pos.x+="L"==b.charAt(1)?h.x:-h.x,c.pos.y+="T"==b.charAt(0)?h.y:-h.y);return c});return f(b,c)},around:function(b,a,c,h,g){function o(a,b){I.push({aroundCorner:a,corner:b,pos:{x:{L:v,R:v+z,M:v+(z>>1)}[a.charAt(1)],y:{T:s,B:s+y,M:s+(y>>1)}[a.charAt(0)]}})}var n="string"==typeof a||"offsetWidth"in a?i.position(a,!0):a;if(a.parentNode)for(var m="absolute"==k.getComputedStyle(a).position,a=a.parentNode;a&&1==a.nodeType&&"BODY"!=a.nodeName;){var q=i.position(a,!0),r=k.getComputedStyle(a);
/relative|absolute/.test(r.position)&&(m=!1);if(!m&&/hidden|auto|scroll/.test(r.overflow)){var u=Math.min(n.y+n.h,q.y+q.h),t=Math.min(n.x+n.w,q.x+q.w);n.x=Math.max(n.x,q.x);n.y=Math.max(n.y,q.y);n.h=u-n.y;n.w=t-n.x}"absolute"==r.position&&(m=!0);a=a.parentNode}var v=n.x,s=n.y,z="w"in n?n.w:n.w=n.width,y="h"in n?n.h:(l.deprecated("place.around: dijit/place.__Rectangle: { x:"+v+", y:"+s+", height:"+n.height+", width:"+z+" } has been deprecated.  Please use { x:"+v+", y:"+s+", h:"+n.height+", w:"+z+
" }","","2.0"),n.h=n.height),I=[];e.forEach(c,function(a){var b=h;switch(a){case "above-centered":o("TM","BM");break;case "below-centered":o("BM","TM");break;case "after-centered":b=!b;case "before-centered":o(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":o(b?"TL":"TR",b?"TR":"TL");o(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":o(b?"BL":"BR",b?"TL":"TR");o(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":o(b?"TL":"TR",b?"BL":"BR");o(b?"TR":"TL",
b?"BR":"BL");break;default:o(a.aroundCorner,a.corner)}});b=f(b,I,g,{w:z,h:y});b.aroundNodePos=n;return b}}})},"url:dijit/templates/Tooltip.html":'<div class="dijitTooltip dijitTooltipLeft" id="dojoTooltip"\n\t><div class="dijitTooltipContainer dijitTooltipContents" data-dojo-attach-point="containerNode" role=\'alert\'></div\n\t><div class="dijitTooltipConnector" data-dojo-attach-point="connectorNode"></div\n></div>\n',"url:dijit/form/templates/ValidationTextBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}" role="presentation"\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class="dijitReset dijitInputInner" data-dojo-attach-point=\'textbox,focusNode\' autocomplete="off"\n\t\t\t${!nameAttrSetting} type=\'${type}\'\n\t/></div\n></div>\n',
"dijit/form/FilteringSelect":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/lang,dojo/when,./MappedTextBox,./ComboBoxMixin".split(","),function(e,i,k,l,c,b){return i("dijit.form.FilteringSelect",[c,b],{required:!0,_lastDisplayedValue:"",_isValidSubset:function(){return this._opened},isValid:function(){return!!this.item||!this.required&&""==this.get("displayedValue")},_refreshState:function(){this.searchTimer||this.inherited(arguments)},_callbackSetLabel:function(b,c,e,a){c&&
c[this.searchAttr]!==this._lastQuery||!c&&b.length&&this.store.getIdentity(b[0])!=this._lastQuery||(b.length?this.set("item",b[0],a):this.set("value","",a||void 0===a&&!this.focused,this.textbox.value,null))},_openResultList:function(b,c,e){c[this.searchAttr]===this._lastQuery&&(this.inherited(arguments),void 0===this.item&&this.validate(!0))},_getValueAttr:function(){return this.valueNode.value},_getValueField:function(){return"value"},_setValueAttr:function(b,c,e,a){this._onChangeActive||(c=null);
if(void 0===a){if(null===b||""===b)if(b="",!k.isString(e)){this._setDisplayedValueAttr(e||"",c);return}var d=this;this._lastQuery=b;l(this.store.get(b),function(a){d._callbackSetLabel(a?[a]:[],void 0,void 0,c)})}else this.valueNode.value=b,this.inherited(arguments)},_setItemAttr:function(b,c,e){this.inherited(arguments);this._lastDisplayedValue=this.textbox.value},_getDisplayQueryString:function(b){return b.replace(/([\\\*\?])/g,"\\$1")},_setDisplayedValueAttr:function(b,c){null==b&&(b="");if(!this._created){if(!("displayedValue"in
this.params))return;c=!1}if(this.store){this.closeDropDown();var i=k.clone(this.query),a=this._getDisplayQueryString(b),d;this.store._oldAPI?d=a:(d=e.patternToRegExp(a,this.ignoreCase),d.toString=function(){return a});this._lastQuery=i[this.searchAttr]=d;this._lastDisplayedValue=this.textbox.value=b;this._set("displayedValue",b);var h=this,p={ignoreCase:this.ignoreCase,deep:!0};k.mixin(p,this.fetchProperties);this._fetchHandle=this.store.query(i,p);l(this._fetchHandle,function(a){h._fetchHandle=null;
h._callbackSetLabel(a||[],i,p,c)},function(){h._fetchHandle=null})}},undo:function(){this.set("displayedValue",this._lastDisplayedValue)}})})},"dojo/data/util/filter":function(){define(["../../_base/lang"],function(e){var i={};e.setObject("dojo.data.util.filter",i);i.patternToRegExp=function(e,i){for(var c="^",b=null,g=0;g<e.length;g++)switch(b=e.charAt(g),b){case "\\":c+=b;g++;c+=e.charAt(g);break;case "*":c+=".*";break;case "?":c+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":c+=
"\\";default:c+=b}c+="$";return i?RegExp(c,"mi"):RegExp(c,"m")};return i})},"dijit/form/MappedTextBox":function(){define(["dojo/_base/declare","dojo/dom-construct","./ValidationTextBox"],function(e,i,k){return e("dijit.form.MappedTextBox",k,{postMixInProperties:function(){this.inherited(arguments);this.nameAttrSetting=""},_setNameAttr:null,serialize:function(e){return e.toString?e.toString():""},toString:function(){var e=this.filter(this.get("value"));return null!=e?"string"==typeof e?e:this.serialize(e,
this.constraints):""},validate:function(){this.valueNode.value=this.toString();return this.inherited(arguments)},buildRendering:function(){this.inherited(arguments);this.valueNode=i.place("<input type='hidden'"+(this.name?' name="'+this.name.replace(/"/g,"&quot;")+'"':"")+"/>",this.textbox,"after")},reset:function(){this.valueNode.value="";this.inherited(arguments)}})})},"dijit/form/ComboBoxMixin":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/kernel,dojo/_base/lang,dojo/store/util/QueryResults,./_AutoCompleterMixin,./_ComboBoxMenu,../_HasDropDown,dojo/text!./templates/DropDownBox.html".split(","),
function(e,i,k,l,c,b,g,f,j){return e("dijit.form.ComboBoxMixin",[f,b],{dropDownClass:g,hasDownArrow:!0,templateString:j,baseClass:"dijitTextBox dijitComboBox",cssStateNodes:{_buttonNode:"dijitDownArrowButton"},_setHasDownArrowAttr:function(a){this._set("hasDownArrow",a);this._buttonNode.style.display=a?"":"none"},_showResultList:function(){this.displayMessage("");this.inherited(arguments)},_setStoreAttr:function(a){a.get||l.mixin(a,{_oldAPI:!0,get:function(a){var b=new i;this.fetchItemByIdentity({identity:a,
onItem:function(a){b.resolve(a)},onError:function(a){b.reject(a)}});return b.promise},query:function(a,b){var e=new i(function(){f.abort&&f.abort()});e.total=new i;var f=this.fetch(l.mixin({query:a,onBegin:function(a){e.total.resolve(a)},onComplete:function(a){e.resolve(a)},onError:function(a){e.reject(a)}},b));return c(e)}});this._set("store",a)},postMixInProperties:function(){var a=this.params.store||this.store;a&&this._setStoreAttr(a);this.inherited(arguments);if(!this.params.store&&!this.store._oldAPI){var b=
this.declaredClass;l.mixin(this.store,{getValue:function(a,c){k.deprecated(b+".store.getValue(item, attr) is deprecated for builtin store.  Use item.attr directly","","2.0");return a[c]},getLabel:function(a){k.deprecated(b+".store.getLabel(item) is deprecated for builtin store.  Use item.label directly","","2.0");return a.name},fetch:function(a){k.deprecated(b+".store.fetch() is deprecated for builtin store.","Use store.query()","2.0");require(["dojo/data/ObjectStore"],l.hitch(this,function(b){(new b({objectStore:this})).fetch(a)}))}})}}})})},
"dijit/form/_AutoCompleterMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/regexp,dojo/sniff,dojo/string,./DataList,../registry,./_TextBoxMixin,./_SearchMixin".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o){return i("dijit.form._AutoCompleterMixin",o,{item:null,autoComplete:!0,highlightMatch:"first",labelAttr:"",labelType:"text",maxHeight:-1,_stopClickEvents:!1,_getCaretPos:function(a){var b=0;if("number"==
typeof a.selectionStart)b=a.selectionStart;else if(j("ie")){var c=a.ownerDocument.selection.createRange().duplicate(),a=a.createTextRange();c.move("character",0);a.move("character",0);try{a.setEndPoint("EndToEnd",c),b=(""+a.text).replace(/\r/g,"").length}catch(d){}}return b},_setCaretPos:function(a,b){b=parseInt(b);p.selectInputText(a,b,b)},_setDisabledAttr:function(a){this.inherited(arguments);this.domNode.setAttribute("aria-disabled",a?"true":"false")},_onKey:function(a){if(!(32<=a.charCode)){var b=
a.charCode||a.keyCode;if(!(b==c.ALT||b==c.CTRL||b==c.META||b==c.SHIFT)){var d=this.dropDown,e=null;this._abortQuery();this.inherited(arguments);if(!a.altKey&&!a.ctrlKey&&!a.metaKey)switch(this._opened&&(e=d.getHighlightedOption()),b){case c.PAGE_DOWN:case c.DOWN_ARROW:case c.PAGE_UP:case c.UP_ARROW:this._opened&&this._announceOption(e);l.stop(a);break;case c.ENTER:if(e){if(e==d.nextButton){this._nextSearch(1);l.stop(a);break}else if(e==d.previousButton){this._nextSearch(-1);l.stop(a);break}l.stop(a)}else this._setBlurValue(),
this._setCaretPos(this.focusNode,this.focusNode.value.length);case c.TAB:b=this.get("displayedValue");if(d&&(b==d._messages.previousMessage||b==d._messages.nextMessage))break;e&&this._selectOption(e);case c.ESCAPE:if(this._opened)this._lastQuery=null,this.closeDropDown()}}}},_autoCompleteText:function(a){var b=this.focusNode;p.selectInputText(b,b.value.length);var c=this.ignoreCase?"toLowerCase":"substr";if(0==a[c](0).indexOf(this.focusNode.value[c](0))){if(c=this.autoComplete?this._getCaretPos(b):
b.value.length,c+1>b.value.length)b.value=a,p.selectInputText(b,c)}else b.value=a,p.selectInputText(b)},_openResultList:function(a,c,d){var e=this.dropDown.getHighlightedOption();this.dropDown.clearResultList();!a.length&&0==d.start?this.closeDropDown():(this._nextSearch=this.dropDown.onPage=b.hitch(this,function(b){a.nextPage(-1!==b);this.focus()}),this.dropDown.createOptions(a,d,b.hitch(this,"_getMenuLabelFromItem")),this._showResultList(),"direction"in d?(d.direction?this.dropDown.highlightFirstOption():
d.direction||this.dropDown.highlightLastOption(),e&&this._announceOption(this.dropDown.getHighlightedOption())):this.autoComplete&&!this._prev_key_backspace&&!/^[*]+$/.test(c[this.searchAttr].toString())&&this._announceOption(this.dropDown.containerNode.firstChild.nextSibling))},_showResultList:function(){this.closeDropDown(!0);this.openDropDown();this.domNode.setAttribute("aria-expanded","true")},loadDropDown:function(){this._startSearchAll()},isLoaded:function(){return!1},closeDropDown:function(){this._abortQuery();
this._opened&&(this.inherited(arguments),this.domNode.setAttribute("aria-expanded","false"),this.focusNode.removeAttribute("aria-activedescendant"))},_setBlurValue:function(){var a=this.get("displayedValue"),b=this.dropDown;b&&(a==b._messages.previousMessage||a==b._messages.nextMessage)?this._setValueAttr(this._lastValueReported,!0):"undefined"==typeof this.item?(this.item=null,this.set("displayedValue",a)):(this.value!=this._lastValueReported&&this._handleOnChange(this.value,!0),this._refreshState())},
_setItemAttr:function(a,b,c){var d="";a&&(c||(c=this.store._oldAPI?this.store.getValue(a,this.searchAttr):a[this.searchAttr]),d=this._getValueField()!=this.searchAttr?this.store.getIdentity(a):c);this.set("value",d,b,c,a)},_announceOption:function(a){if(a){var b;if(a==this.dropDown.nextButton||a==this.dropDown.previousButton)b=a.innerHTML,this.item=void 0,this.value="";else{var c=this.dropDown.items[a.getAttribute("item")];b=(this.store._oldAPI?this.store.getValue(c,this.searchAttr):c[this.searchAttr]).toString();
this.set("item",c,!1,b)}this.focusNode.value=this.focusNode.value.substring(0,this._lastInput.length);this.focusNode.setAttribute("aria-activedescendant",k.get(a,"id"));this._autoCompleteText(b)}},_selectOption:function(a){this.closeDropDown();a&&this._announceOption(a);this._setCaretPos(this.focusNode,this.focusNode.value.length);this._handleOnChange(this.value,!0)},_startSearchAll:function(){this._startSearch("")},_startSearchFromInput:function(){this.item=void 0;this.inherited(arguments)},_startSearch:function(a){if(!this.dropDown){var c=
this.id+"_popup";this.dropDown=new (b.isString(this.dropDownClass)?b.getObject(this.dropDownClass,!1):this.dropDownClass)({onChange:b.hitch(this,this._selectOption),id:c,dir:this.dir,textDir:this.textDir});this.focusNode.removeAttribute("aria-activedescendant");this.textbox.setAttribute("aria-owns",c)}this._lastInput=a;this.inherited(arguments)},_getValueField:function(){return this.searchAttr},postMixInProperties:function(){this.inherited(arguments);if(!this.store&&(this.store=new d({},this.srcNodeRef),
!("value"in this.params))){var a=this.item=this.store.fetchSelectedItem();if(a){var b=this._getValueField();this.value=this.store._oldAPI?this.store.getValue(a,b):a[b]}}},postCreate:function(){var a=g('label[for="'+this.id+'"]');if(a.length){if(!a[0].id)a[0].id=this.id+"_label";this.domNode.setAttribute("aria-labelledby",a[0].id)}this.inherited(arguments);this.connect(this,"onSearch","_openResultList")},_getMenuLabelFromItem:function(a){var a=this.labelFunc(a,this.store),b=this.labelType;"none"!=
this.highlightMatch&&"text"==this.labelType&&this._lastInput&&(a=this.doHighlight(a,this._lastInput),b="html");return{html:"html"==b,label:a}},doHighlight:function(a,b){var c=(this.ignoreCase?"i":"")+("all"==this.highlightMatch?"g":""),d=this.queryExpr.indexOf("${0}"),b=f.escapeString(b);return this._escapeHtml(a.replace(RegExp((0==d?"^":"")+"("+b+")"+(d==this.queryExpr.length-4?"$":""),c),"\uffff$1\uffff")).replace(/\uFFFF([^\uFFFF]+)\uFFFF/g,'<span class="dijitComboBoxHighlightMatch">$1</span>')},
_escapeHtml:function(a){return a=(""+a).replace(/&/gm,"&amp;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")},reset:function(){this.item=null;this.inherited(arguments)},labelFunc:function(a,b){return(b._oldAPI?b.getValue(a,this.labelAttr||this.searchAttr):a[this.labelAttr||this.searchAttr]).toString()},_setValueAttr:function(a,b,c,d){this._set("item",d||null);null==a&&(a="");this.inherited(arguments)},_setTextDirAttr:function(a){this.inherited(arguments);this.dropDown&&this.dropDown._set("textDir",
a)}})})},"dojo/regexp":function(){define("dojo/regexp",["./_base/kernel","./_base/lang"],function(e,i){var k={};i.setObject("dojo.regexp",k);k.escapeString=function(e,c){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(b){return c&&-1!=c.indexOf(b)?b:"\\"+b})};k.buildGroupRE=function(e,c,b){if(!(e instanceof Array))return c(e);for(var g=[],f=0;f<e.length;f++)g.push(c(e[f]));return k.group(g.join("|"),b)};k.group=function(e,c){return"("+(c?"?:":"")+e+")"};return k})},"dijit/form/DataList":function(){define("dojo/_base/declare,dojo/dom,dojo/_base/lang,dojo/query,dojo/store/Memory,../registry".split(","),
function(e,i,k,l,c,b){function g(b){return{id:b.value,value:b.value,name:k.trim(b.innerText||b.textContent||"")}}return e("dijit.form.DataList",c,{constructor:function(c,e){this.domNode=i.byId(e);k.mixin(this,c);this.id&&b.add(this);this.domNode.style.display="none";this.inherited(arguments,[{data:l("option",this.domNode).map(g)}])},destroy:function(){b.remove(this.id)},fetchSelectedItem:function(){var b=l("> option[selected]",this.domNode)[0]||l("> option",this.domNode)[0];return b&&g(b)}})})},"dijit/form/_SearchMixin":function(){define("dojo/data/util/filter,dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/query,dojo/sniff,dojo/string,dojo/when,../registry".split(","),
function(e,i,k,l,c,b,g,f,j,a){return i("dijit.form._SearchMixin",null,{pageSize:Infinity,store:null,fetchProperties:{},query:{},searchDelay:200,searchAttr:"name",queryExpr:"${0}*",ignoreCase:!0,_abortQuery:function(){if(this.searchTimer)this.searchTimer=this.searchTimer.remove();if(this._queryDeferHandle)this._queryDeferHandle=this._queryDeferHandle.remove();if(this._fetchHandle){if(this._fetchHandle.abort)this._cancelingQuery=!0,this._fetchHandle.abort(),this._cancelingQuery=!1;if(this._fetchHandle.cancel)this._cancelingQuery=
!0,this._fetchHandle.cancel(),this._cancelingQuery=!1;this._fetchHandle=null}},_processInput:function(a){if(!this.disabled&&!this.readOnly){var b=a.charOrCode;if(!a.altKey&&!((a.ctrlKey||a.metaKey)&&"x"!=b&&"v"!=b||b==l.SHIFT)){this._prev_key_backspace=a=!1;switch(b){case l.DELETE:case l.BACKSPACE:a=this._maskValidSubsetError=this._prev_key_backspace=!0;break;default:a="string"==typeof b||229==b}if(a)if(this.store)this.searchTimer=this.defer("_startSearchFromInput",1);else this.onSearch()}}},onSearch:function(){},
_startSearchFromInput:function(){this._startSearch(this.focusNode.value.replace(/([\\\*\?])/g,"\\$1"))},_startSearch:function(a){this._abortQuery();var b=this,g=c.clone(this.query),i={start:0,count:this.pageSize,queryOptions:{ignoreCase:this.ignoreCase,deep:!0}},l=f.substitute(this.queryExpr,[a]),k,q=function(){var a=b._fetchHandle=b.store.query(g,i);!b.disabled&&!(b.readOnly||k!==b._lastQuery)&&j(a,function(c){b._fetchHandle=null;!b.disabled&&!b.readOnly&&k===b._lastQuery&&j(a.total,function(a){c.total=
a;var d=b.pageSize;if(isNaN(d)||d>c.total)d=c.total;c.nextPage=function(a){i.direction=a=!1!==a;i.count=d;if(a){if(i.start+=c.length,i.start>=c.total)i.count=0}else if(i.start-=d,0>i.start)i.count=Math.max(d+i.start,0),i.start=0;0>=i.count?(c.length=0,b.onSearch(c,g,i)):q()};b.onSearch(c,g,i)})},function(){b._fetchHandle=null})};c.mixin(i,this.fetchProperties);this.store._oldAPI?k=l:(k=e.patternToRegExp(l,this.ignoreCase),k.toString=function(){return l});this._lastQuery=g[this.searchAttr]=k;this._queryDeferHandle=
this.defer(q,this.searchDelay)},constructor:function(){this.query={};this.fetchProperties={}},postMixInProperties:function(){if(!this.store){var b=this.list;if(b)this.store=a.byId(b)}this.inherited(arguments)}})})},"dijit/form/_ComboBoxMenu":function(){define("dojo/_base/declare,dojo/dom-class,dojo/dom-style,dojo/keys,../_WidgetBase,../_TemplatedMixin,./_ComboBoxMenuMixin,./_ListMouseMixin".split(","),function(e,i,k,l,c,b,g,f){return e("dijit.form._ComboBoxMenu",[c,b,f,g],{templateString:"<div class='dijitReset dijitMenu' data-dojo-attach-point='containerNode' style='overflow: auto; overflow-x: hidden;' role='listbox'><div class='dijitMenuItem dijitMenuPreviousButton' data-dojo-attach-point='previousButton' role='option'></div><div class='dijitMenuItem dijitMenuNextButton' data-dojo-attach-point='nextButton' role='option'></div></div>",
baseClass:"dijitComboBoxMenu",postCreate:function(){this.inherited(arguments);this.isLeftToRight()||(i.add(this.previousButton,"dijitMenuItemRtl"),i.add(this.nextButton,"dijitMenuItemRtl"))},_createMenuItem:function(){var b=this.ownerDocument.createElement("div");b.className="dijitReset dijitMenuItem"+(this.isLeftToRight()?"":" dijitMenuItemRtl");b.setAttribute("role","option");return b},onHover:function(b){i.add(b,"dijitMenuItemHover")},onUnhover:function(b){i.remove(b,"dijitMenuItemHover")},onSelect:function(b){i.add(b,
"dijitMenuItemSelected")},onDeselect:function(b){i.remove(b,"dijitMenuItemSelected")},_page:function(b){var a=0,c=this.domNode.scrollTop,e=k.get(this.domNode,"height");for(this.getHighlightedOption()||this.selectNextNode();a<e;){var f=this.getHighlightedOption();if(b){if(!f.previousSibling||"none"==f.previousSibling.style.display)break;this.selectPreviousNode()}else{if(!f.nextSibling||"none"==f.nextSibling.style.display)break;this.selectNextNode()}f=this.domNode.scrollTop;a+=(f-c)*(b?-1:1);c=f}},
handleKey:function(b){switch(b.keyCode){case l.DOWN_ARROW:return this.selectNextNode(),!1;case l.PAGE_DOWN:return this._page(!1),!1;case l.UP_ARROW:return this.selectPreviousNode(),!1;case l.PAGE_UP:return this._page(!0),!1;default:return!0}}})})},"dijit/form/_ComboBoxMenuMixin":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-attr","dojo/i18n","dojo/i18n!./nls/ComboBox"],function(e,i,k,l){return i("dijit.form._ComboBoxMenuMixin",null,{_messages:null,postMixInProperties:function(){this.inherited(arguments);
this._messages=l.getLocalization("dijit.form","ComboBox",this.lang)},buildRendering:function(){this.inherited(arguments);this.previousButton.innerHTML=this._messages.previousMessage;this.nextButton.innerHTML=this._messages.nextMessage},_setValueAttr:function(c){this.value=c;this.onChange(c)},onClick:function(c){if(c==this.previousButton)this._setSelectedAttr(null),this.onPage(-1);else if(c==this.nextButton)this._setSelectedAttr(null),this.onPage(1);else this.onChange(c)},onChange:function(){},onPage:function(){},
onClose:function(){this._setSelectedAttr(null)},_createOption:function(c,b){var e=this._createMenuItem(),f=b(c);f.html?e.innerHTML=f.label:e.appendChild(e.ownerDocument.createTextNode(f.label));if(""==e.innerHTML)e.innerHTML="&#160;";this.applyTextDir(e,e.innerText||e.textContent||"");return e},createOptions:function(c,b,g){this.items=c;this.previousButton.style.display=0==b.start?"none":"";k.set(this.previousButton,"id",this.id+"_prev");e.forEach(c,function(b,a){var c=this._createOption(b,g);c.setAttribute("item",
a);k.set(c,"id",this.id+a);this.nextButton.parentNode.insertBefore(c,this.nextButton)},this);var f=!1;c.total&&!c.total.then&&-1!=c.total?b.start+b.count<c.total?f=!0:b.start+b.count>c.total&&b.count==c.length&&(f=!0):b.count==c.length&&(f=!0);this.nextButton.style.display=f?"":"none";k.set(this.nextButton,"id",this.id+"_next")},clearResultList:function(){for(var c=this.containerNode;2<c.childNodes.length;)c.removeChild(c.childNodes[c.childNodes.length-2]);this._setSelectedAttr(null)},highlightFirstOption:function(){this.selectFirstNode()},
highlightLastOption:function(){this.selectLastNode()},selectFirstNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.previousButton&&this.selectNextNode()},selectLastNode:function(){this.inherited(arguments);this.getHighlightedOption()==this.nextButton&&this.selectPreviousNode()},getHighlightedOption:function(){return this.selected}})})},"dijit/form/_ListMouseMixin":function(){define(["dojo/_base/declare","dojo/mouse","dojo/on","dojo/touch","./_ListBase"],function(e,i,k,l,
c){return e("dijit.form._ListMouseMixin",c,{postCreate:function(){this.inherited(arguments);this.own(k(this.domNode,l.press,function(b){b.preventDefault()}));this._listConnect(l.press,"_onMouseDown");this._listConnect(l.release,"_onMouseUp");this._listConnect(i.enter,"_onMouseOver");this._listConnect(i.leave,"_onMouseOut")},_onMouseDown:function(b,c){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;this._isDragging=!0;this._setSelectedAttr(c)},_onMouseUp:function(b,c){this._isDragging=
!1;var e=this.selected,i=this._hoveredNode;if(e&&c==e)this.onClick(e);else i&&c==i&&(this._setSelectedAttr(i),this.onClick(i))},_onMouseOut:function(){if(this._hoveredNode)this.onUnhover(this._hoveredNode),this._hoveredNode=null;if(this._isDragging)this._cancelDrag=(new Date).getTime()+1E3},_onMouseOver:function(b,c){if(this._cancelDrag){if((new Date).getTime()>this._cancelDrag)this._isDragging=!1;this._cancelDrag=null}this._hoveredNode=c;this.onHover(c);this._isDragging&&this._setSelectedAttr(c)}})})},
"dijit/form/_ListBase":function(){define(["dojo/_base/declare","dojo/on","dojo/window"],function(e,i,k){return e("dijit.form._ListBase",null,{selected:null,_listConnect:function(e,c){var b=this;return b.own(i(b.containerNode,i.selector(function(b,c,e){return b.parentNode==e},e),function(e){e.preventDefault();b[c](e,this)}))},selectFirstNode:function(){for(var e=this.containerNode.firstChild;e&&"none"==e.style.display;)e=e.nextSibling;this._setSelectedAttr(e)},selectLastNode:function(){for(var e=this.containerNode.lastChild;e&&
"none"==e.style.display;)e=e.previousSibling;this._setSelectedAttr(e)},selectNextNode:function(){var e=this.selected;if(e){for(e=e.nextSibling;e&&"none"==e.style.display;)e=e.nextSibling;e?this._setSelectedAttr(e):this.selectFirstNode()}else this.selectFirstNode()},selectPreviousNode:function(){var e=this.selected;if(e){for(e=e.previousSibling;e&&"none"==e.style.display;)e=e.previousSibling;e?this._setSelectedAttr(e):this.selectLastNode()}else this.selectLastNode()},_setSelectedAttr:function(e){if(this.selected!=
e){var c=this.selected;if(c)this.onDeselect(c),this.selected=null;if(e)this.selected=e,k.scrollIntoView(e),this.onSelect(e)}else if(e)this.onSelect(e)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare,dojo/_base/Deferred,dojo/_base/event,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/dom-geometry,dojo/dom-style,dojo/has,dojo/keys,dojo/_base/lang,dojo/on,dojo/window,./registry,./focus,./popup,./_FocusMixin".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q){return e("dijit._HasDropDown",
q,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:0,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){if(!this.disabled&&!this.readOnly)a.preventDefault(),this._docHandler=this.connect(this.ownerDocument,"mouseup","_onDropDownMouseUp"),this.toggleDropDown()},_onDropDownMouseUp:function(a){a&&this._docHandler&&this.disconnect(this._docHandler);var c=this.dropDown,d=!1;if(a&&this._opened){var e=
g.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!d;)b.contains(e,"dijitPopup")?d=!0:e=e.parentNode;if(d){e=a.target;if(c.onItemClick){for(var f;e&&!(f=o.byNode(e));)e=e.parentNode;if(f&&f.onClick&&f.getParent)f.getParent().onItemClick(f,a)}return}}}if(this._opened){if(c.focus&&!1!==c.autoFocus)this._focusDropDownTimer=this.defer(function(){c.focus();delete this._focusDropDownTimer})}else this.defer("focus");if(j("touch"))this._justGotMouseUp=
!0,this.defer(function(){this._justGotMouseUp=!1})},_onDropDownClick:function(a){j("touch")&&!this._justGotMouseUp&&(this._onDropDownMouseDown(a),this._onDropDownMouseUp(a));this._stopClickEvents&&k.stop(a)},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",
below:"Down",left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";b.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(h(this._buttonNode,"mousedown",d.hitch(this,"_onDropDownMouseDown")),h(this._buttonNode,"click",d.hitch(this,"_onDropDownClick")),h(a,"keydown",d.hitch(this,"_onKey")),h(a,"keyup",d.hitch(this,"_onKeyUp")))},destroy:function(){this.dropDown&&
(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,d=b.target;if(c&&this._opened&&c.handleKey&&!1===c.handleKey(b))k.stop(b);else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),k.stop(b);else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE)&&("input"!==(d.tagName||"").toLowerCase()||d.type&&"text"!==d.type.toLowerCase())))this._toggleOnKeyUp=
!0,k.stop(b)}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(d.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(n.curNode&&this.dropDown&&l.isDescendant(n.curNode,this.dropDown.domNode));this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=new i,b=d.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?
b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown():this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,e=a.domNode,h=this._aroundNode||this.domNode,i=this;if(!this._preparedNode){this._preparedNode=!0;if(e.style.width)this._explicitDDWidth=!0;if(e.style.height)this._explicitDDHeight=!0}if(this.maxHeight||this.forceWidth||this.autoWidth){var j={display:"",visibility:"hidden"};if(!this._explicitDDWidth)j.width=
"";if(!this._explicitDDHeight)j.height="";f.set(e,j);j=this.maxHeight;if(-1==j)var j=p.getBox(this.ownerDocument),k=g.position(h,!1),j=Math.floor(Math.max(k.y,j.h-(k.y+k.h)));m.moveOffScreen(a);a.startup&&!a._started&&a.startup();var k=g.getMarginSize(e),l=j&&k.h>j;f.set(e,{overflowX:"visible",overflowY:l?"auto":"visible"});l?(k.h=j,"w"in k&&(k.w+=16)):delete k.h;this.forceWidth?k.w=h.offsetWidth:this.autoWidth?k.w=Math.max(k.w,h.offsetWidth):delete k.w;d.isFunction(a.resize)?a.resize(k):g.setMarginBox(e,
k)}a=m.open({parent:this,popup:a,around:h,orient:this.dropDownPosition,onExecute:function(){i.closeDropDown(!0)},onCancel:function(){i.closeDropDown(!0)},onClose:function(){c.set(i._popupStateNode,"popupActive",!1);b.remove(i._popupStateNode,"dijitHasDropDownOpen");i._set("_opened",!1)}});c.set(this._popupStateNode,"popupActive","true");b.add(this._popupStateNode,"dijitHasDropDownOpen");this._set("_opened",!0);this.domNode.setAttribute("aria-expanded","true");return a},closeDropDown:function(a){this._focusDropDownTimer&&
(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this._opened)this.domNode.setAttribute("aria-expanded","false"),a&&this.focus(),m.close(this.dropDown),this._opened=!1}})})},"dijit/popup":function(){define("dojo/_base/array,dojo/aspect,dojo/_base/connect,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-construct,dojo/dom-geometry,dojo/dom-style,dojo/_base/event,dojo/keys,dojo/_base/lang,dojo/on,dojo/sniff,./place,./BackgroundIframe,./main".split(","),function(e,i,k,l,c,b,g,
f,j,a,d,h,p,o,n,m,q){function r(){this._popupWrapper&&(g.destroy(this._popupWrapper),delete this._popupWrapper)}l=l(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_createWrapper:function(a){var b=a._popupWrapper,c=a.domNode;if(!b)b=g.create("div",{"class":"dijitPopup",style:{display:"none"},role:"presentation"},a.ownerDocumentBody),b.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",a._popupWrapper=b,i.after(a,"destroy",r,!0);return b},moveOffScreen:function(a){a=this._createWrapper(a);
j.set(a,{visibility:"hidden",top:"-9999px",display:""})},hide:function(a){a=this._createWrapper(a);j.set(a,"display","none")},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].widget;b--);return a[b]},open:function(e){for(var g=this._stack,i=e.popup,j=e.orient||["below","below-alt","above","above-alt"],l=e.parent?e.parent.isLeftToRight():f.isBodyLtr(i.ownerDocument),q=e.around,r=e.around&&e.around.id?e.around.id+"_dropdown":"popup_"+this._idGen++;g.length&&(!e.parent||
!c.isDescendant(e.parent.domNode,g[g.length-1].widget.domNode));)this.close(g[g.length-1].widget);var J=this._createWrapper(i);b.set(J,{id:r,style:{zIndex:this._beginZIndex+g.length},"class":"dijitPopup "+(i.baseClass||i["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:e.parent?e.parent.id:""});if((o("ie")||o("mozilla"))&&!i.bgIframe)i.bgIframe=new m(J);j=q?n.around(J,q,j,l,i.orient?h.hitch(i,"orient"):null):n.at(J,e,"R"==j?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],e.padding);J.style.display=
"";J.style.visibility="visible";i.domNode.style.visibility="visible";l=[];l.push(p(J,k._keypress,h.hitch(this,function(b){if(b.charOrCode==d.ESCAPE&&e.onCancel)a.stop(b),e.onCancel();else if(b.charOrCode===d.TAB&&(a.stop(b),(b=this.getTopPopup())&&b.onCancel))b.onCancel()})));i.onCancel&&e.onCancel&&l.push(i.on("cancel",e.onCancel));l.push(i.on(i.onExecute?"execute":"change",h.hitch(this,function(){var a=this.getTopPopup();if(a&&a.onExecute)a.onExecute()})));g.push({widget:i,parent:e.parent,onExecute:e.onExecute,
onCancel:e.onCancel,onClose:e.onClose,handlers:l});if(i.onOpen)i.onOpen(j);return j},close:function(a){for(var b=this._stack;a&&e.some(b,function(b){return b.widget==a})||!a&&b.length;){var c=b.pop(),d=c.widget,f=c.onClose;if(d.onClose)d.onClose();for(var h;h=c.handlers.pop();)h.remove();d&&d.domNode&&this.hide(d);f&&f()}}});return q.popup=new l})},"url:dijit/form/templates/DropDownBox.html":'<div class="dijit dijitReset dijitInline dijitLeft"\n\tid="widget_${id}"\n\trole="combobox"\n\t><div class=\'dijitReset dijitRight dijitButtonNode dijitArrowButton dijitDownArrowButton dijitArrowButtonContainer\'\n\t\tdata-dojo-attach-point="_buttonNode, _popupStateNode" role="presentation"\n\t\t><input class="dijitReset dijitInputField dijitArrowButtonInner" value="&#9660; " type="text" tabIndex="-1" readonly="readonly" role="button presentation" aria-hidden="true"\n\t\t\t${_buttonInputDisabled}\n\t/></div\n\t><div class=\'dijitReset dijitValidationContainer\'\n\t\t><input class="dijitReset dijitInputField dijitValidationIcon dijitValidationInner" value="&#935; " type="text" tabIndex="-1" readonly="readonly" role="presentation"\n\t/></div\n\t><div class="dijitReset dijitInputField dijitInputContainer"\n\t\t><input class=\'dijitReset dijitInputInner\' ${!nameAttrSetting} type="text" autocomplete="off"\n\t\t\tdata-dojo-attach-point="textbox,focusNode" role="textbox" aria-haspopup="true"\n\t/></div\n></div>\n',
"url:kk/views/widgets/newStory/newStory.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/form/Form" id="newStoryForm" data-dojo-attach-point="newStoryForm" data-dojo-id="newStoryForm" encType="multipart/form-data" data-dojo-attach-event="onSubmit:newStoryValidation">\n\t\t<div class="overflow_auto">\n\t\t\t<label for"title">Story name: </label>\n\t\t\t<input name="title" required="true" data-dojo-attach-point="storyTitleIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Name your story\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"description">Story description: </label>\n\t\t\t<input name="description" required="true" data-dojo-attach-point="storyDescIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Describe your story\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"workflow">Select a workflow:</label>\n\t\t\t<input name="workflow" required="true" data-dojo-attach-point="workflowCmbBx" data-dojo-type="dijit/form/FilteringSelect" data-dojo-props="searchAttr:\'title\'" />\n\t\t</div>\n\t\t<br />\n\t\t<div data-dojo-attach-point="buttonbar" class="dijitDialogPaneActionBar">\n\t\t\t<button data-dojo-type="dijit/form/Button" type="submit">\n\t\t\t\tOK\n\t\t\t</button>\n\t\t\t<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick:cancel">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>',
"dijit/form/Form":function(){define("dojo/_base/declare,dojo/dom-attr,dojo/_base/event,dojo/_base/kernel,dojo/sniff,../_Widget,../_TemplatedMixin,./_FormMixin,../layout/_ContentPaneResizeMixin".split(","),function(e,i,k,l,c,b,g,f,j){return e("dijit.form.Form",[b,g,f,j],{name:"",action:"",method:"",encType:"","accept-charset":"",accept:"",target:"",templateString:"<form data-dojo-attach-point='containerNode' data-dojo-attach-event='onreset:_onReset,onsubmit:_onSubmit' ${!nameAttrSetting}></form>",
postMixInProperties:function(){this.nameAttrSetting=this.name?"name='"+this.name+"'":"";this.inherited(arguments)},execute:function(){},onExecute:function(){},_setEncTypeAttr:function(a){this.encType=a;i.set(this.domNode,"encType",a);if(c("ie"))this.domNode.encoding=a},reset:function(a){var b={returnValue:!0,preventDefault:function(){this.returnValue=!1},stopPropagation:function(){},currentTarget:a?a.target:this.domNode,target:a?a.target:this.domNode};!1!==this.onReset(b)&&b.returnValue&&this.inherited(arguments,
[])},onReset:function(){return!0},_onReset:function(a){this.reset(a);k.stop(a);return!1},_onSubmit:function(a){var b=this.constructor.prototype;if(this.execute!=b.execute||this.onExecute!=b.onExecute)l.deprecated("dijit.form.Form:execute()/onExecute() are deprecated. Use onSubmit() instead.","","2.0"),this.onExecute(),this.execute(this.getValues());!1===this.onSubmit(a)&&k.stop(a)},onSubmit:function(){return this.isValid()},submit:function(){!1!==this.onSubmit()&&this.containerNode.submit()}})})},
"kk/views/widgets/newWorkflow/newWorkflowDialog":function(){require({cache:{"url:kk/views/widgets/newWorkflow/newWorkflowDialog.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="newWorkflowDialog" title="New Workflow">\n\t\t<div data-dojo-type="kk/views/widgets/newWorkflow/newWorkflow" data-dojo-attach-point="newWorkflow">\n\n\t\t</div>\n\t</div>\n</div>'}});define("kk/views/widgets/newWorkflow/newWorkflowDialog","dojo/_base/declare,dijit/Dialog,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./newWorkflowDialog.html,kk/views/widgets/newWorkflow/newWorkflow,dojo/topic,dojo/_base/lang,dojo/aspect,dojo/Evented,dojo/on".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h){return e([k,l,c,d],{templateString:b,newWorkflow:null,store:null,newWorkflowDialog:null,postCreate:function(){this.newWorkflow.setStore(this.store);h(this.newWorkflow,"cancel",j.hitch(this,this.cancel));h(this.newWorkflow,"submit",j.hitch(this,this.submit))},show:function(){this.newWorkflowDialog.show()},cancel:function(){this.newWorkflow.enableButtons();this.newWorkflowDialog.hide()},submit:function(a){this.emit("submit",a)}})})},"url:kk/views/widgets/newWorkflow/newWorkflowDialog.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/Dialog" data-dojo-attach-point="newWorkflowDialog" title="New Workflow">\n\t\t<div data-dojo-type="kk/views/widgets/newWorkflow/newWorkflow" data-dojo-attach-point="newWorkflow">\n\n\t\t</div>\n\t</div>\n</div>',
"kk/views/widgets/newWorkflow/newWorkflow":function(){require({cache:{"url:kk/views/widgets/newWorkflow/newWorkflow.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/form/Form" id="newWorkflowForm" data-dojo-attach-point="newWorkflowForm" data-dojo-id="newWorkflowForm" encType="multipart/form-data" data-dojo-attach-event="onSubmit:newWorkflowValidation">\n\t\t<div class="overflow_auto">\n\t\t\t<label for"title">Workflow name: </label>\n\t\t\t<input name="title" required="true" data-dojo-attach-point="workflowTitleIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Name your workflow\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"description">Workflow description: </label>\n\t\t\t<input name="description" required="true" data-dojo-attach-point="workflowDescIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Describe your workflow\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"order">Place new workflow after:</label>\n\t\t\t<input name="order" required="true" data-dojo-attach-point="workflowCmbBx" data-dojo-type="dijit/form/FilteringSelect" data-dojo-props="searchAttr:\'title\'" />\n\t\t</div>\n\t\t<br />\n\t\t<div data-dojo-attach-point="buttonbar" class="dijitDialogPaneActionBar">\n\t\t\t<button data-dojo-type="dijit/form/Button" type="submit">\n\t\t\t\tOK\n\t\t\t</button>\n\t\t\t<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick:cancel">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>'}});
define("kk/views/widgets/newWorkflow/newWorkflow","dojo/_base/declare,dijit/form/ValidationTextBox,dijit/form/FilteringSelect,dijit/form/Button,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./newWorkflow.html,dijit/form/Form,dojo/_base/event,dojo/Evented,dijit/registry".split(","),function(e,i,k,l,c,b,g,f,j,a,d,h){return e([c,b,g,d],{baseClass:"newItemWidget",templateString:f,workflowTitleIpt:null,workflowDescIpt:null,store:null,newWorkflowForm:null,setStore:function(a){this.store=
a;this.workflowCmbBx.store=this.store},postCreate:function(){this.workflowCmbBx.store=this.store},newWorkflowValidation:function(b){a.stop(b);newWorkflowForm.validate()&&this.submit()},getFormObject:function(){return this.newWorkflowForm.get("value")},submit:function(){this.disableButtons();this.emit("submit",this.getFormObject())},cancel:function(a){this.emit("cancel",a)},disableButtons:function(){h.findWidgets(this.buttonbar).forEach(function(a){a.set("disabled",!0)})},enableButtons:function(){h.findWidgets(this.buttonbar).forEach(function(a){a.set("disabled",
!1)})}})})},"url:kk/views/widgets/newWorkflow/newWorkflow.html":'<div class="${baseClass}">\n\t<div data-dojo-type="dijit/form/Form" id="newWorkflowForm" data-dojo-attach-point="newWorkflowForm" data-dojo-id="newWorkflowForm" encType="multipart/form-data" data-dojo-attach-event="onSubmit:newWorkflowValidation">\n\t\t<div class="overflow_auto">\n\t\t\t<label for"title">Workflow name: </label>\n\t\t\t<input name="title" required="true" data-dojo-attach-point="workflowTitleIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Name your workflow\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"description">Workflow description: </label>\n\t\t\t<input name="description" required="true" data-dojo-attach-point="workflowDescIpt" data-dojo-type="dijit/form/ValidationTextBox" data-dojo-props="placeHolder: \'Describe your workflow\'" type="text" />\n\t\t</div>\n\t\t<br />\n\t\t<div class="overflow_auto">\n\t\t\t<label for"order">Place new workflow after:</label>\n\t\t\t<input name="order" required="true" data-dojo-attach-point="workflowCmbBx" data-dojo-type="dijit/form/FilteringSelect" data-dojo-props="searchAttr:\'title\'" />\n\t\t</div>\n\t\t<br />\n\t\t<div data-dojo-attach-point="buttonbar" class="dijitDialogPaneActionBar">\n\t\t\t<button data-dojo-type="dijit/form/Button" type="submit">\n\t\t\t\tOK\n\t\t\t</button>\n\t\t\t<button data-dojo-type="dijit/form/Button" type="button" data-dojo-attach-event="onClick:cancel">\n\t\t\t\tCancel\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</div>',
"kk/views/widgets/menuBar/menuBar":function(){require({cache:{"url:kk/views/widgets/menuBar/menuBar.html":'<div>\n\t<div data-dojo-type="dijit/MenuBar" class="${baseClass} overflow_auto">\n\t\t<div data-dojo-type="dijit/MenuBarItem" class="float_left">\n\t\t\tProject\n\t\t</div>\n\t\t<div data-dojo-type="dijit/MenuBarItem" class="float_left" \n\t\tdata-dojo-props="disabled:true">\n\t\t\tSprint\n\t\t</div>\n\n    \t<div data-dojo-type="dijit/PopupMenuBarItem" class="float_right">\n        \t<span>Workflow</span>\n\t\t\t<div data-dojo-type="dijit/DropDownMenu">\n\t\t\t\t<div data-dojo-type="dijit/MenuBarItem" data-dojo-attach-event="onClick:newWorkflowPublish">\n\t\t\t\t\tNew\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n    \t<div data-dojo-type="dijit/PopupMenuBarItem" class="float_right">\n        \t<span>Story</span>\n\t\t\t<div data-dojo-type="dijit/DropDownMenu">\n\t\t\t\t<div data-dojo-type="dijit/MenuBarItem" data-dojo-attach-event="onClick:newStoryPublish">\n\t\t\t\t\tNew\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'}});
define("kk/views/widgets/menuBar/menuBar","dojo/_base/declare,dojo/topic,dijit/MenuBar,dijit/MenuBarItem,dijit/PopupMenuBarItem,dijit/DropDownMenu,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/text!./menuBar.html".split(","),function(e,i,k,l,c,b,g,f,j,a){return e([g,f,j],{baseClass:"menuBar",templateString:a,newWorkflowPublish:function(){i.publish("/kk/newworkflow")},newStoryPublish:function(){i.publish("/kk/newstory")}})})},"dijit/MenuBar":function(){define(["dojo/_base/declare",
"dojo/_base/event","dojo/keys","./_MenuBase","dojo/text!./templates/MenuBar.html"],function(e,i,k,l,c){return e("dijit.MenuBar",l,{templateString:c,baseClass:"dijitMenuBar",_isMenuBar:!0,postCreate:function(){this.inherited(arguments);var b=this.isLeftToRight();this.connectKeyNavHandlers(b?[k.LEFT_ARROW]:[k.RIGHT_ARROW],b?[k.RIGHT_ARROW]:[k.LEFT_ARROW]);this._orient=["below"]},_moveToPopup:function(b){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,
b)},focusChild:function(b){var c=this.focusedChild,c=c&&c.popup&&c.popup.isShowingNow;this.inherited(arguments);c&&b.popup&&!b.disabled&&this._openPopup(!0)},_onKeyPress:function(b){if(!b.ctrlKey&&!b.altKey)switch(b.charOrCode){case k.DOWN_ARROW:this._moveToPopup(b),i.stop(b)}},onItemClick:function(b,c){if(b.popup&&b.popup.isShowingNow&&("keypress"!==c.type||c.keyCode!==k.DOWN_ARROW))b.popup.onCancel();else this.inherited(arguments)}})})},"dijit/_MenuBase":function(){define("dojo/_base/array,dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/lang,dojo/mouse,dojo/on,dojo/window,./a11yclick,./popup,./registry,./_Widget,./_KeyNavContainer,./_TemplatedMixin".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n){return i("dijit._MenuBase",[p,n,o],{parentMenu:null,popupDelay:500,autoFocus:!1,childSelector:function(a){var b=h.byNode(a);return a.parentNode==this.containerNode&&b&&b.focus},postCreate:function(){var c=this,d="string"==typeof this.childSelector?this.childSelector:b.hitch(this,"childSelector");this.own(f(this.containerNode,f.selector(d,g.enter),function(){c.onItemHover(h.byNode(this))}),f(this.containerNode,f.selector(d,g.leave),function(){c.onItemUnhover(h.byNode(this))}),
f(this.containerNode,f.selector(d,a),function(a){c.onItemClick(h.byNode(this),a);a.stopPropagation();a.preventDefault()}));this.inherited(arguments)},onExecute:function(){},onCancel:function(){},_moveToPopup:function(a){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,a);else(a=this._getTopMenu())&&a._isMenuBar&&a.focusNext()},_onPopupHover:function(){if(this.currentPopup&&this.currentPopup._pendingClose_timer){var a=this.currentPopup.parentMenu;
a.focusedChild&&a.focusedChild._setSelected(!1);a.focusedChild=this.currentPopup.from_item;a.focusedChild._setSelected(!0);this._stopPendingCloseTimer(this.currentPopup)}},onItemHover:function(a){if(this.isActive&&(this.focusChild(a),this.focusedChild.popup&&!this.focusedChild.disabled&&!this.hover_timer))this.hover_timer=this.defer("_openPopup",this.popupDelay);this.focusedChild&&this.focusChild(a);this._hoveredChild=a;a._set("hovering",!0)},_onChildBlur:function(a){this._stopPopupTimer();a._setSelected(!1);
var b=a.popup;if(b)this._stopPendingCloseTimer(b),b._pendingClose_timer=this.defer(function(){b._pendingClose_timer=null;if(b.parentMenu)b.parentMenu.currentPopup=null;d.close(b)},this.popupDelay)},onItemUnhover:function(a){this.isActive&&this._stopPopupTimer();if(this._hoveredChild==a)this._hoveredChild=null;a._set("hovering",!1)},_stopPopupTimer:function(){if(this.hover_timer)this.hover_timer=this.hover_timer.remove()},_stopPendingCloseTimer:function(a){if(a._pendingClose_timer)a._pendingClose_timer=
a._pendingClose_timer.remove()},_stopFocusTimer:function(){if(this._focus_timer)this._focus_timer=this._focus_timer.remove()},_getTopMenu:function(){for(var a=this;a.parentMenu;a=a.parentMenu);return a},onItemClick:function(a,b){"undefined"==typeof this.isShowingNow&&this._markActive();this.focusChild(a);if(a.disabled)return!1;a.popup?this._openPopup("keypress"==b.type):(this.onExecute(),a._onClick?a._onClick(b):a.onClick(b))},_openPopup:function(a){this._stopPopupTimer();var c=this.focusedChild;
if(c){var e=c.popup;if(!e.isShowingNow){this.currentPopup&&(this._stopPendingCloseTimer(this.currentPopup),d.close(this.currentPopup));e.parentMenu=this;e.from_item=c;var f=this;d.open({parent:this,popup:e,around:c.domNode,orient:this._orient||["after","before"],onCancel:function(){f.focusChild(c);f._cleanUp();c._setSelected(!0);f.focusedChild=c},onExecute:b.hitch(this,"_cleanUp")});this.currentPopup=e;e.connect(e.domNode,"onmouseenter",b.hitch(f,"_onPopupHover"))}if(a&&e.focus)e._focus_timer=this.defer(b.hitch(e,
function(){this._focus_timer=null;this.focus()}))}},_markActive:function(){this.isActive=!0;c.replace(this.domNode,"dijitMenuActive","dijitMenuPassive")},onOpen:function(){this.isShowingNow=!0;this._markActive()},_markInactive:function(){this.isActive=!1;c.replace(this.domNode,"dijitMenuPassive","dijitMenuActive")},onClose:function(){this._stopFocusTimer();this._markInactive();this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();if(this.currentPopup)0<=e.indexOf(this._focusManager.activeStack,
this.id)&&(l.set(this.focusedChild.focusNode,"tabIndex",this.tabIndex),this.focusedChild.focusNode.focus()),d.close(this.currentPopup),this.currentPopup=null;if(this.focusedChild)this.focusedChild._setSelected(!1),this.onItemUnhover(this.focusedChild),this.focusedChild=null},_onItemFocus:function(a){if(this._hoveredChild&&this._hoveredChild!=a)this.onItemUnhover(this._hoveredChild)},_onBlur:function(){this._cleanUp();this.inherited(arguments)},_cleanUp:function(){this._closeChild();"undefined"==typeof this.isShowingNow&&
this._markInactive()}})})},"dijit/_KeyNavContainer":function(){define("dojo/_base/kernel,./_Container,./_FocusMixin,dojo/_base/array,dojo/keys,dojo/_base/declare,dojo/_base/event,dojo/dom-attr,dojo/_base/lang".split(","),function(e,i,k,l,c,b,g,f,j){return b("dijit._KeyNavContainer",[k,i],{tabIndex:"0",connectKeyNavHandlers:function(a,b){var e=this._keyNavCodes={},f=j.hitch(this,"focusPrev"),g=j.hitch(this,"focusNext");l.forEach(a,function(a){e[a]=f});l.forEach(b,function(a){e[a]=g});e[c.HOME]=j.hitch(this,
"focusFirstChild");e[c.END]=j.hitch(this,"focusLastChild");this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus")},startupKeyNavChildren:function(){e.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);l.forEach(this.getChildren(),j.hitch(this,"_startupChild"))},addChild:function(a,b){this.inherited(arguments);this._startupChild(a)},focus:function(){this.focusFirstChild()},
focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},focusChild:function(a,b){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(b?"end":"start"),this._set("focusedChild",
a))},_startupChild:function(a){a.set("tabIndex","-1");this.connect(a,"_onFocus",function(){a.set("tabIndex",this.tabIndex)});this.connect(a,"_onBlur",function(){a.set("tabIndex","-1")})},_onContainerFocus:function(a){a.target!==this.domNode||this.focusedChild||(this.focusFirstChild(),f.set(this.domNode,"tabIndex","-1"))},_onBlur:function(a){this.tabIndex&&f.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild=null;this.inherited(arguments)},_onContainerKeypress:function(a){if(!a.ctrlKey&&
!a.altKey){var b=this._keyNavCodes[a.charOrCode];b&&(b(),g.stop(a))}},_onChildBlur:function(){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},_getNextFocusableChild:function(a,b){a&&(a=this._getSiblingOfChild(a,b));for(var c=this.getChildren(),e=0;e<c.length;e++){a||(a=c[0<b?0:c.length-1]);if(a.isFocusable())return a;a=this._getSiblingOfChild(a,b)}return null}})})},"url:dijit/templates/MenuBar.html":'<div class="dijitMenuBar dijitMenuPassive" data-dojo-attach-point="containerNode"  role="menubar" tabIndex="${tabIndex}" data-dojo-attach-event="onkeypress: _onKeyPress"></div>\n',
"dijit/MenuBarItem":function(){define(["dojo/_base/declare","./MenuItem","dojo/text!./templates/MenuBarItem.html"],function(e,i,k){k=e("dijit._MenuBarItemMixin",null,{templateString:k,_setIconClassAttr:null});e=e("dijit.MenuBarItem",[i,k],{});e._MenuBarItemMixin=k;return e})},"dijit/MenuItem":function(){define("dojo/_base/declare,dojo/dom,dojo/dom-attr,dojo/dom-class,dojo/_base/kernel,dojo/sniff,./_Widget,./_TemplatedMixin,./_Contained,./_CssStateMixin,dojo/text!./templates/MenuItem.html".split(","),
function(e,i,k,l,c,b,g,f,j,a,d){return e("dijit.MenuItem",[g,f,j,a],{templateString:d,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this.containerNode.innerHTML=a;this._set("label",a);"auto"===this.textDir&&this.applyTextDir(this.focusNode,this.label)},iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this.set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);
var a=this.id+"_text";k.set(this.containerNode,"id",a);this.accelKeyNode&&(k.set(this.accelKeyNode,"id",this.id+"_accel"),a+=" "+this.id+"_accel");this.domNode.setAttribute("aria-labelledby",a);i.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==b("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_onFocus:function(){this._setSelected(!0);this.getParent()._onItemFocus(this);this.inherited(arguments)},_setSelected:function(a){l.toggle(this.domNode,"dijitMenuItemSelected",
a)},setLabel:function(a){c.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){c.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode.style.display=a?"":"none";this.accelKeyNode.innerHTML=
a;k.set(this.containerNode,"colSpan",a?"1":"2");this._set("accelKey",a)},_setTextDirAttr:function(a){if(!this._created||this.textDir!=a)this._set("textDir",a),this.applyTextDir(this.focusNode,this.label)}})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(e,i){return e("dijit._Contained",null,{_getSibling:function(e){var l=this.domNode;do l=l[e+"Sibling"];while(l&&1!=l.nodeType);return l&&i.byNode(l)},getPreviousSibling:function(){return this._getSibling("previous")},
getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var e=this.getParent();return!e||!e.getIndexOfChild?-1:e.getIndexOfChild(this)}})})},"url:dijit/templates/MenuItem.html":'<tr class="dijitReset dijitMenuItem" data-dojo-attach-point="focusNode" role="menuitem" tabIndex="-1">\n\t<td class="dijitReset dijitMenuItemIconCell" role="presentation">\n\t\t<img src="${_blankGif}" alt="" class="dijitIcon dijitMenuItemIcon" data-dojo-attach-point="iconNode"/>\n\t</td>\n\t<td class="dijitReset dijitMenuItemLabel" colspan="2" data-dojo-attach-point="containerNode"></td>\n\t<td class="dijitReset dijitMenuItemAccelKey" style="display: none" data-dojo-attach-point="accelKeyNode"></td>\n\t<td class="dijitReset dijitMenuArrowCell" role="presentation">\n\t\t<div data-dojo-attach-point="arrowWrapper" style="visibility: hidden">\n\t\t\t<img src="${_blankGif}" alt="" class="dijitMenuExpand"/>\n\t\t\t<span class="dijitMenuExpandA11y">+</span>\n\t\t</div>\n\t</td>\n</tr>\n',
"url:dijit/templates/MenuBarItem.html":'<div class="dijitReset dijitInline dijitMenuItem dijitMenuItemLabel" data-dojo-attach-point="focusNode"\n\t \trole="menuitem" tabIndex="-1">\n\t<span data-dojo-attach-point="containerNode"></span>\n</div>\n',"dijit/PopupMenuBarItem":function(){define(["dojo/_base/declare","./PopupMenuItem","./MenuBarItem"],function(e,i,k){return e("dijit.PopupMenuBarItem",[i,k._MenuBarItemMixin],{})})},"dijit/PopupMenuItem":function(){define("dojo/_base/declare,dojo/dom-style,dojo/query,./registry,./MenuItem,./hccss".split(","),
function(e,i,k,l,c){return e("dijit.PopupMenuItem",c,{_fillContent:function(){if(this.srcNodeRef){var b=k("*",this.srcNodeRef);this.inherited(arguments,[b[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){this.inherited(arguments);if(!this.popup){var b=k("[widgetId]",this.dropDownContainer)[0];this.popup=l.byNode(b)}this.ownerDocumentBody.appendChild(this.popup.domNode);this.popup.startup();this.popup.domNode.style.display="none";this.arrowWrapper&&i.set(this.arrowWrapper,
"visibility","");this.focusNode.setAttribute("aria-haspopup","true")}},destroyDescendants:function(b){this.popup&&(this.popup._destroyed||this.popup.destroyRecursive(b),delete this.popup);this.inherited(arguments)}})})},"dijit/DropDownMenu":function(){define("dojo/_base/declare,dojo/_base/event,dojo/keys,dojo/text!./templates/Menu.html,./_OnDijitClickMixin,./_MenuBase".split(","),function(e,i,k,l,c,b){return e("dijit.DropDownMenu",[b,c],{templateString:l,baseClass:"dijitMenu",postCreate:function(){this.inherited(arguments);
var b=this.isLeftToRight();this._openSubMenuKey=b?k.RIGHT_ARROW:k.LEFT_ARROW;this._closeSubMenuKey=b?k.LEFT_ARROW:k.RIGHT_ARROW;this.connectKeyNavHandlers([k.UP_ARROW],[k.DOWN_ARROW])},_onKeyPress:function(b){if(!b.ctrlKey&&!b.altKey)switch(b.charOrCode){case this._openSubMenuKey:this._moveToPopup(b);i.stop(b);break;case this._closeSubMenuKey:if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else i.stop(b)}}})})},"url:dijit/templates/Menu.html":'<table class="dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role="menu" tabIndex="${tabIndex}"\n\t   data-dojo-attach-event="onkeypress:_onKeyPress" cellspacing="0">\n\t<tbody class="dijitReset" data-dojo-attach-point="containerNode"></tbody>\n</table>\n',
"url:kk/views/widgets/menuBar/menuBar.html":'<div>\n\t<div data-dojo-type="dijit/MenuBar" class="${baseClass} overflow_auto">\n\t\t<div data-dojo-type="dijit/MenuBarItem" class="float_left">\n\t\t\tProject\n\t\t</div>\n\t\t<div data-dojo-type="dijit/MenuBarItem" class="float_left" \n\t\tdata-dojo-props="disabled:true">\n\t\t\tSprint\n\t\t</div>\n\n    \t<div data-dojo-type="dijit/PopupMenuBarItem" class="float_right">\n        \t<span>Workflow</span>\n\t\t\t<div data-dojo-type="dijit/DropDownMenu">\n\t\t\t\t<div data-dojo-type="dijit/MenuBarItem" data-dojo-attach-event="onClick:newWorkflowPublish">\n\t\t\t\t\tNew\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n    \t<div data-dojo-type="dijit/PopupMenuBarItem" class="float_right">\n        \t<span>Story</span>\n\t\t\t<div data-dojo-type="dijit/DropDownMenu">\n\t\t\t\t<div data-dojo-type="dijit/MenuBarItem" data-dojo-attach-event="onClick:newStoryPublish">\n\t\t\t\t\tNew\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>',
"kk/views/widgets/kanbanBoard/trashSource":function(){require({cache:{"url:kk/views/widgets/kanbanBoard/trashSource.html":'<td data-dojo-attach-event="onclick: toggler" class="${baseClass}">\n\t<div data-dojo-attach-point="trashMoveable" class="${baseClass}Moveable minimisedSource">\n\t\t<div class="handle">\n\t\t\tTrash\n\t\t\t<span data-dojo-attach-point="closeButtonNode" data-dojo-attach-event="onclick: onCancel"\n\t\t\t class="dijitDialogCloseIcon dijitDialogCloseIconHover dijitDialogCloseIconActive" title="Cancel" role="button" tabindex="-1">\n\t\t\t</span>\n\t\t</div>\n\t\t<ul data-dojo-attach-point="trashSourceList" id="trash"></ul>\n\t</div>\n</td>\n\n',
"url:kk/views/widgets/kanbanBoard/kanbanCard.html":'<li dndData="${id}">\r\n\t<div class="kkcard">\r\n\t\t<div class="itemImg dojoDndHandle overflow_hidden card_title">\r\n\t\t\t<div class="card_id_block bold">${id}</div>\r\n\t\t\t<div class="card_name_block">${title}</div>\r\n\t\t</div>\r\n\t\t<div class="itemText"><span>${description}</span></div>\r\n\t</div>\r\n</li>'}});define("kk/views/widgets/kanbanBoard/trashSource","dojo/_base/declare,dojo/dnd/Source,dojo/_base/lang,dojo/string,dojo/dom-construct,dojo/query,dijit/_WidgetBase,dijit/_TemplatedMixin,dijit/_WidgetsInTemplateMixin,dojo/dom-class,dojo/dom,dojo/dom-style,dojo/dom-geometry,dojo/_base/event,dojo/text!./trashSource.html,dijit/Dialog,dojo/dnd/Moveable,dojo/text!./kanbanCard.html,dijit/DialogUnderlay,dojo/_base/window".split(","),
function(e,i,k,l,c,b,g,f,j,a,d,h,p,o,n,m,q,r,u,t){return e([g,f,j],{templateString:n,copyOnly:!1,selfAccept:!0,dndSource:{},baseClass:"trashSource",workflowstepsStore:{},kanbancardsStore:{},shown:!1,cardCreator:function(a){return{node:c.toDom(l.substitute(r,a)),data:a}},postCreate:function(){this.dndSource=new i(this.trashSourceList,{withHandles:!0,singular:!0,creator:k.hitch(this,this.cardCreator),copyState:function(){return!1}});this.kanbancardsStore.query({workflow:"trash"}).then(k.hitch(this,
function(a){this.dndSource.insertNodes(!1,a)}));new q(this.trashMoveable);return this.dndSource},onCancel:function(b){o.stop(b);a.toggle(this.trashMoveable,"minimisedSource");a.toggle(this.trashMoveable,"openedSource");c.place(this.trashMoveable,this.domNode,"last");this.shown=!1;h.set(this.trashMoveable,{left:"auto",top:"auto"})},toggler:function(b){if(this.shown)this.onCancel(b);else{a.toggle(this.trashMoveable,"minimisedSource");a.toggle(this.trashMoveable,"openedSource");this.shown=!0;var b=p.position(dojo.body(),
!0),d=p.position(this.trashMoveable,!0),e=(b.h-d.h)/2;h.set(this.trashMoveable,{left:parseInt((b.w-d.w)/2)+"px",top:parseInt(e)+"px"});c.place(this.trashMoveable,t.body(),"last")}}})})},"url:kk/views/widgets/kanbanBoard/trashSource.html":'<td data-dojo-attach-event="onclick: toggler" class="${baseClass}">\n\t<div data-dojo-attach-point="trashMoveable" class="${baseClass}Moveable minimisedSource">\n\t\t<div class="handle">\n\t\t\tTrash\n\t\t\t<span data-dojo-attach-point="closeButtonNode" data-dojo-attach-event="onclick: onCancel"\n\t\t\t class="dijitDialogCloseIcon dijitDialogCloseIconHover dijitDialogCloseIconActive" title="Cancel" role="button" tabindex="-1">\n\t\t\t</span>\n\t\t</div>\n\t\t<ul data-dojo-attach-point="trashSourceList" id="trash"></ul>\n\t</div>\n</td>\n\n',
"kk/controllers/dndController":function(){define("kk/controllers/dndController","dojo/_base/declare,library/base/mvc/controller,dojo/json,dojo/_base/array,dojo/topic,dojo/_base/lang".split(","),function(e,i){return e([i],{mainModel:null,mainView:null})})},"library/base/mvc/controller":function(){define("library/base/mvc/controller",["dojo/_base/declare","dojo/_base/lang","library/base/getterSetterBase"],function(e,i,k){return e([k],{setupConnections:function(){},setupFinal:function(){},init:function(){this.setupConnections();
this.setupFinal()},constructor:function(e){i.mixin(this,e);this.init()}})})},"*now":function(e){e(['dojo/i18n!*preload*dojo/nls/dojo*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});(function(){var e=this.require;e({cache:{}});!e.async&&e(["dojo"]);e.boot&&e.apply(null,e.boot)})();